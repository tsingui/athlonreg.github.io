{"meta":{"title":"Canvas's Blog","subtitle":"å¥—é™†çš„åšå®¢","description":"æ—¥å¸¸ç”Ÿæ´»ä¸­çš„æ•´ç†çš„ä¸€äº›ç©æœºå°æŠ€å·§ï¼Œæ¬¢è¿å„ä½æ‹ç –ï¼","author":"Canvas/å¥—é™†","url":"https://blog.iamzhl.top","root":"/"},"pages":[{"title":"å…³äº","date":"2019-03-30T10:34:31.690Z","updated":"2019-03-30T10:34:31.690Z","comments":false,"path":"about/index.html","permalink":"https://blog.iamzhl.top/about/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2019-03-30T10:34:31.691Z","updated":"2019-03-30T10:34:31.691Z","comments":false,"path":"categories/index.html","permalink":"https://blog.iamzhl.top/categories/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾äº‘","date":"2019-03-30T10:34:31.692Z","updated":"2019-03-30T10:34:31.692Z","comments":false,"path":"tags/index.html","permalink":"https://blog.iamzhl.top/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"CentOS å®‰è£…é…ç½® GitLab","slug":"Setup-gitlab-to-support-frame","date":"2019-02-01T02:55:52.000Z","updated":"2019-03-11T16:21:49.900Z","comments":true,"path":"Setup-gitlab-to-support-frame.html","link":"","permalink":"https://blog.iamzhl.top/Setup-gitlab-to-support-frame.html","excerpt":"","text":"CentOS å®‰è£… GitLabå®‰è£…ä¾èµ–1234# yum -y install curl# yum -y install postfix# systemctl start postfix# systemctl enable postfixä¸‹è½½ GitLab çš„ RPM åŒ…1# wget https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/gitlab-ce-11.7.0-ce.0.el7.x86_64.rpmåœ¨https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/æ‰¾è‡ªå·±éœ€è¦çš„ç‰ˆæœ¬ï¼Œä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶åå®‰è£…å³å¯1# rpm -ivh gitlab-ce-11.7.0-ce.0.el7.x86_64.rpmä¹Ÿå¯ä»¥è¿™æ ·1# yum localinstall gitlab-ce-11.7.0-ce.0.el7.x86_64.rpmé…ç½® gitlab repoä¸ºäº†åç»­å‡çº§æ–¹ä¾¿ï¼Œå»ºè®®æ·»åŠ gitlabçš„repoæº1# curl -sS https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | shç«¯å£ä¿®æ”¹1# vi /etc/gitlab/gitlab.rbä¿®æ”¹ä¸‹é¢çš„å±æ€§123external_url &apos;http://devops.iamzhl.top:8090&apos;unicorn[&apos;port&apos;] = 8070nginx[&apos;listen_port&apos;] = 8090è¯·æ ¹æ®ä¸ªäººéœ€è¦è¿›è¡Œå®šåˆ¶é‡æ–°éƒ¨ç½²å¹¶é‡å¯12# gitlab-ctl reconfigure# gitlab-ctl restartè®¾ç½®é¡µé¢åµŒå¥—æ”¯æŒ1# vi /var/opt/gitlab/nginx/conf/gitlab-http.confå¦‚å›¾ï¼Œæ·»åŠ æ ‡æ³¨çš„å±æ€§è®¾ç½®åé‡å¯GitLab1# gitlab-ctl restart","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://blog.iamzhl.top/categories/è¿ç»´/"}],"tags":[{"name":"GitLab","slug":"GitLab","permalink":"https://blog.iamzhl.top/tags/GitLab/"},{"name":"frame","slug":"frame","permalink":"https://blog.iamzhl.top/tags/frame/"}]},{"title":"é«˜æ•ˆåˆ©ç”¨æœ‰é“äº‘ç¬”è®°","slug":"How-to-use-youdao-note-in-a-special-way","date":"2019-01-20T13:12:25.000Z","updated":"2019-03-11T16:21:49.892Z","comments":true,"path":"How-to-use-youdao-note-in-a-special-way.html","link":"","permalink":"https://blog.iamzhl.top/How-to-use-youdao-note-in-a-special-way.html","excerpt":"","text":"å‰è¨€å…ˆè¯´å‡ ä¸ªåšä¸»å’Œå…¶ä»–çš„ç å­—å†œæ°‘å·¥æ¯”è¾ƒå¤´ç–¼çš„é—®é¢˜äº‘åŒæ­¥ç°åœ¨æ˜¯äº‘çš„æ—¶ä»£ï¼Œæ²¡æœ‰äº‘åŒæ­¥çš„ç æ–‡ç¯å¢ƒä¸æ˜¯ä¸€ä¸ªå¥½çš„ç¯å¢ƒï¼Œå¯èƒ½æ¯ä¸ªäººéƒ½æœ‰ä¸æ­¢ä¸€ä¸ªç æ–‡å¹³å°ï¼Œæ¯”å¦‚å·¥ä½œé…çš„æœºå™¨å’Œç§äººçš„æœºå™¨ï¼Œæˆ‘åœ¨å…¶ä¸­ä¸€å°æœºå™¨å†™å¥½çš„æ–‡ç« è¿˜è¦å†å†™ä¸€ä»½åˆ°å¦å¤–çš„æœºå™¨ã€‚ã€‚ã€‚ç®€ç›´ä¸è¦å¤ªlowerã€‚å¯èƒ½æœ‰äººè¯´æˆ‘ä»¬ç”¨æŸåº¦ç½‘ç›˜ã€‚ã€‚ã€‚Whatâ€™s thatï¼Ÿå·²ç»æ”¾å¼ƒå¥½ä¹…ï¼Œæœ¬æ–‡ä¸åšèµ˜è¿°ï¼Œæƒ³ç”¨çš„å°±ç”¨å§ã€‚ã€‚ã€‚è·¨å¹³å°è¿™é‡Œå‡è®¾ä¸Šé¢çš„ç¯å¢ƒæˆç«‹ï¼Œä½ æœ‰ä¸¤å°æœºå™¨ï¼Œç§äººçš„æ˜¯Macç¯å¢ƒï¼Œå·¥ä½œæœºå™¨æ˜¯Windowsï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¹‹å‰æˆ‘åœ¨Macéå¸¸å–œæ¬¢MWebï¼Œå› ä¸ºå®ƒçš„å›¾åºŠé›†æˆè®©æˆ‘ç€è¿· ï¼Œæˆªå›¾ç²˜è´´ä¸€å¼ å¼•ç”¨å¤–é“¾çš„å›¾ç‰‡å°±è¿™ä¹ˆå®Œæˆäº†ï¼Œå°±æ˜¯è¿™ä¹ˆå¿«ï¼Œä½†æ˜¯ç°åœ¨ä¹Ÿå·²ç»æ”¾å¼ƒäº†ï¼Œå› ä¸ºWindowså¹³å°äººå®¶ä¸åšï¼Œä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆï¼Œæˆ‘ä¸æƒ³å–·Windowså¤ªåƒåœ¾ğŸŒğŸŒä½†æ˜¯æ— å¥ˆå•ä½åªæœ‰Windowsï¼Œäºæ˜¯æˆ‘è¦ç”¨ä¸¤å¥—ç¯å¢ƒã€‚ã€‚ã€‚è®°ä½ä¸¤å¥—å¿«æ·é”®ã€‚ã€‚ã€‚MarkDownå…³äºMarkDownçš„ä»‹ç»è¿™é‡Œä¸èµ˜è¿°ã€‚äºæˆ‘è€Œè¨€ï¼Œä¸æ”¯æŒMarkDownè§£æçš„ç¼–è¾‘å™¨ï¼Œæˆ‘æ˜¯ç»å¯¹ä¸ä¼šç”¨çš„ï¼ŒWordå°±å·¥ä½œç”¨ç”¨ã€‚ã€‚ã€‚ä¸ºä½•å‘¢ï¼Ÿå› ä¸ºMarkDownå¤ªä¼˜é›…äº†ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼ŒWordå’ŒMarkDownå°±åƒ50å²çš„å¤§å¦ˆå’Œ20å²çš„å¦™é¾„å°‘å¥³ï¼Œå†™æ–‡æ¡£å‘åšæ–‡ç”¨Wordç®€ç›´æ˜¯é­ç½ªï¼Œç”¨MarkDownç®€ç›´æ˜¯äº«å—ï¼Œå½“ç„¶å•¦ï¼Œçº¯å±ä¸ªäººçœ‹æ³•ï¼Œä¸å–œå‹¿å–·ã€‚ã€‚ã€‚å›¾åºŠè¯´å®Œäº†MarkDownå’Œäº‘çš„é—®é¢˜ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜å¾ˆæ˜æ˜¾ï¼Œäº‘ä¸Šçš„æ•°æ®æ–‡å­—å¯ä»¥ï¼Œå›¾ç‰‡ç”šè‡³è§†é¢‘æ€ä¹ˆåŠï¼Ÿéš¾é“æˆ‘è¿˜è¦ä¹°ä¸ªäº‘å­˜å‚¨ç”šè‡³æ˜¯äº‘æœåŠ¡å™¨ï¼Ÿå½“ç„¶ä¸ç”¨å•¦ï¼å›½å†…æœ‰äº›å¤§å…¬å¸è¿˜æ˜¯ç›¸å½“è‰¯å¿ƒçš„ï¼Œå…ˆç¥ç§˜ä¸€ä¸‹ï¼Œå…·ä½“ç”¨ä»€ä¹ˆï¼Œä¸‹é¢è¯¦ç»†è¯´ğŸ˜„ç¯å¢ƒå‡†å¤‡ç¼–è¾‘å™¨Typoraæˆªå›¾å·¥å…·Windowsï¼šSnipmacOSï¼šXnipå›¾åºŠSina Weoboè´¦å·(Sinaçš„å¾®åšå¹³å°æä¾›äº†ä¸€ä¸ªå›¾åºŠæœåŠ¡ï¼Œè‡ªå¸¦cdn)PicGoäº‘åŒæ­¥æœ‰é“äº‘ç¬”è®°é…ç½®PicGoå…¶ä»–çš„éƒ½æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œè¯´ä¸€ä¸‹PicGoçš„é…ç½®å§ï¼é¦–å…ˆåœ¨æ–°æµªå¾®åšå®˜ç½‘ç™»å½•å¾®åšè´¦å·ï¼Œç„¶åæ‰“å¼€minipublishé¡µé¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºç„¶åæ‰“å¼€è°ƒè¯•çª—å£ï¼ŒChromeå¿«æ·é”®ä¸ºF12ï¼Œç„¶åè°ƒåˆ°ç½‘ç»œé€‰é¡¹å¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºç‚¹å‡»minipublishï¼ŒæŸ¥çœ‹ä¸€ä¸‹Cookieå€¼å¦‚ä¸‹å›¾æ‰€ç¤ºé€‰ä¸­Cookieåé¢é‚£ä¸€ä¸²å­—ç¬¦ï¼Œæ‹·è´ä¸€ä¸‹ï¼Œæ‰“å¼€PicGoçª—å£ï¼Œæ‰¾åˆ°å›¾åºŠè®¾ç½® -&gt; æ–°æµªå›¾åºŠï¼Œåœ¨Cookieåé¢çš„è¾“å…¥æ¡†ç²˜è´´åˆšæ‰çš„å­—ç¬¦ä¸²ï¼Œå‹¾é€‰cookieæ¨¡å¼ï¼Œç‚¹å‡»ç¡®å®š -&gt; è®¾ä¸ºé»˜è®¤å›¾åºŠï¼Œå¦‚ä¸‹å›¾è¿™æ—¶å€™ï¼Œç”¨å‰æ–‡æ‰€è¯´çš„æˆªå›¾å·¥å…·æˆ–è€…è‡ªå·±å–œæ¬¢çš„å·¥å…·æˆªå›¾ï¼Œç„¶åæŒ‰ä¸‹åˆšåˆšè®¾ç½®çš„å¿«æ·é”®ï¼Œå›¾ç‰‡å°±ä¼šä¸Šä¼ åˆ°æ–°æµªå¾®åšçš„å›¾åºŠæœåŠ¡å™¨ï¼Œç„¶åå°†å›¾ç‰‡çš„å¤–é“¾è¿”å›ç»™å‰ªè´´æ¿äº†ã€‚åœ¨æœ‰é“äº‘éšä¾¿å»ºä¸€ä¸ªMarkDownæ–‡æ¡£ï¼Œç²˜è´´ä¸€ä¸‹ï¼Œå¦‚å›¾æ–‡æ¡£ä¿å­˜åï¼Œæœ‰é“äº‘ç¬”è®°ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬è¿›è¡Œäº‘åŒæ­¥ï¼Œä»æ­¤ä¸å¿…æ‹…å¿ƒå…¶3Gçš„ç©ºé—´ä¸å¤Ÿç”¨äº†ã€‚å½“ç„¶å•¦ï¼Œå¿«æ·é”®æ ¹æ®ä¸ªäººä¹ æƒ¯åœ¨PicGoè®¾ç½®é‡Œé¢è‡ªè¡Œå®šä¹‰å§ã€‚","categories":[{"name":"é«˜æ•ˆåˆ©ç”¨æœ‰é“äº‘ç¬”è®°","slug":"é«˜æ•ˆåˆ©ç”¨æœ‰é“äº‘ç¬”è®°","permalink":"https://blog.iamzhl.top/categories/é«˜æ•ˆåˆ©ç”¨æœ‰é“äº‘ç¬”è®°/"}],"tags":[{"name":"æœ‰é“äº‘ç¬”è®°","slug":"æœ‰é“äº‘ç¬”è®°","permalink":"https://blog.iamzhl.top/tags/æœ‰é“äº‘ç¬”è®°/"},{"name":"Picbed","slug":"Picbed","permalink":"https://blog.iamzhl.top/tags/Picbed/"},{"name":"å›¾åºŠ","slug":"å›¾åºŠ","permalink":"https://blog.iamzhl.top/tags/å›¾åºŠ/"}]},{"title":"TestLink æ•´åˆ LDAP å’Œ CAS å•ç‚¹ç™»å½•","slug":"TestLink-integrate-with-ldap-and-CAS","date":"2018-12-04T06:55:56.000Z","updated":"2019-03-11T16:21:49.903Z","comments":true,"path":"TestLink-integrate-with-ldap-and-CAS.html","link":"","permalink":"https://blog.iamzhl.top/TestLink-integrate-with-ldap-and-CAS.html","excerpt":"","text":"èƒŒæ™¯ä»‹ç»TestLink ç‰ˆæœ¬ï¼š2.18TestLink URLï¼šhttp://devops.iamzhl.top/testlinkopenLDAP æœåŠ¡ï¼šldap://devops.iamzhl.top:389CAS æœåŠ¡ï¼šhttp://devops.iamzhl.top:8080/casæ•´åˆ LDAPä¿®æ”¹TestLinké…ç½®æ–‡ä»¶1# vi /var/www/html/testlink/custom_config.inc.phpæ·»åŠ LDAPé…ç½®æ–‡ä»¶123456789101112131415161718$tlCfg-&gt;authentication['method'] = 'LDAP';$tlCfg-&gt;authentication['ldap'] = array();$tlCfg-&gt;authentication['ldap'][1]['ldap_server'] = 'devops.iamzhl.top';$tlCfg-&gt;authentication['ldap'][1]['ldap_port'] = '389';$tlCfg-&gt;authentication['ldap'][1]['ldap_version'] = '3';$tlCfg-&gt;authentication['ldap'][1]['ldap_root_dn'] = 'dc=iamzhl,dc=top';$tlCfg-&gt;authentication['ldap'][1]['ldap_bind_dn'] = 'cn=Manager,dc=iamzhl,dc=top';$tlCfg-&gt;authentication['ldap'][1]['ldap_bind_passwd'] = '123456';$tlCfg-&gt;authentication['ldap'][1]['ldap_tls'] = false;$tlCfg-&gt;authentication['ldap'][1]['ldap_organization'] = '';$tlCfg-&gt;authentication['ldap'][1]['ldap_uid_field'] = 'uid';$tlCfg-&gt;authentication['ldap'][1]['ldap_email_field'] = 'mail';$tlCfg-&gt;authentication['ldap'][1]['ldap_firstname_field'] = 'givenname';$tlCfg-&gt;authentication['ldap'][1]['ldap_surname_field'] = 'sn';$tlCfg-&gt;authentication['ldap_automatic_user_creation'] = true;$tlCfg-&gt;authentication['ldap_email_field'] = 'mail';$tlCfg-&gt;authentication['ldap_firstname_field'] = 'givenname';$tlCfg-&gt;authentication['ldap_surname_field'] = 'sn';æµ‹è¯•æ‰“å¼€TestLinkç½‘å€http://devops.iamzhl.top/testlinkå¦‚å›¾ï¼Œæ­£å¸¸è·³è½¬åˆ°TestLinkç™»å½•ç•Œé¢ï¼Œè¾“å…¥LDAPæœåŠ¡å™¨ä¸­çš„ç”¨æˆ·åå¯†ç åç‚¹å‡»Log inå¦‚å›¾æ‰€ç¤ºï¼Œç™»é™†æˆåŠŸåæ­£å¸¸çš„è·å–åˆ°äº†ç”¨æˆ·åï¼Œç‚¹å‡»å·¦ä¸Šè§’çš„ç™»å‡ºæŒ‰é’®ï¼Œæ­£å¸¸é€€å‡ºåè·³è½¬åˆ°äº†TestLinkçš„ç™»å½•ç•Œé¢è‡³æ­¤ï¼ŒTestLinkæ•´åˆLDAPå®Œæˆã€‚æ•´åˆCASå•ç‚¹ç™»å½•æ·»åŠ ä¾èµ–çš„phpCASåº“æ–‡ä»¶123456# wget https://github.com/apereo/phpCAS/archive/1.3.6.tar.gz# mv 1.3.6.tar.gz phpCAS-1.3.6.tar.gz# tar zxvf phpCAS-1.3.6.tar.gz# chown -R apache:apache phpCAS-1.3.6# cp -arf phpCAS-1.3.6/source/CAS.php /var/www/html/testlink/lib/functions/# cp -arf phpCAS-1.3.6/source/CAS /var/www/html/testlink/lib/functions/ä¿®æ”¹TestLinké…ç½®æ–‡ä»¶1# vi /var/www/html/testlink/custom_config.inc.phpæ·»åŠ CASé…ç½®é¡¹12345678/** CAS server parameters */$tlCfg-&gt;authentication['cas_enable'] = true;$tlCfg-&gt;authentication['cas_server_name'] = 'devops.iamzhl.top';$tlCfg-&gt;authentication['cas_server_port'] = 8080;$tlCfg-&gt;authentication['cas_server_path'] = 'cas';$tlCfg-&gt;authentication['cas_debug_enable'] = true;$tlCfg-&gt;authentication['cas_debug_file'] = '/var/logs/testlink/phpCAS.log';$tlCfg-&gt;authentication['cas_server_protocol'] = '2.0';ä¿®æ”¹ç™»å½•ç•Œé¢1# vi /var/www/html/testlink/login.phpåœ¨switch($args-&gt;action)åˆ†æ”¯é€‰æ‹©è¯­å¥æ®µå†…æ‰¾åˆ°case &#39;loginform&#39;éƒ¨åˆ†ï¼Œæ·»åŠ CASçš„è®¤è¯123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115switch($args-&gt;action) &#123; case 'doLogin': case 'ajaxlogin': doSessionStart(true); // When doing ajax login we need to skip control regarding session already open // that we use when doing normal login. // If we do not proceed this way we will enter an infinite loop $options = array('doSessionExistsCheck' =&gt; ($args-&gt;action=='doLogin')); $op = doAuthorize($db,$args-&gt;login,$args-&gt;pwd,$options); $doAuthPostProcess = true; $gui-&gt;draw = true; break; case 'ajaxcheck': processAjaxCheck($db); break; case 'oauth': //If code is empty then break if (!isset($_GET['code']))&#123; renderLoginScreen($gui); die(); &#125; //Switch between oauth providers if (!include_once('lib/functions/oauth_providers/'.$_GET['oauth'].'.php')) &#123; die(\"Oauth client doesn't exist\"); &#125; $oau = config_get('OAuthServers'); foreach ($oau as $oprov) &#123; if (strcmp($oprov['oauth_name'],$_GET['oauth']) == 0)&#123; $oauth_params = $oprov; break; &#125; &#125; $user_token = oauth_get_token($oauth_params, $_GET['code']); if($user_token-&gt;status['status'] == tl::OK) &#123; doSessionStart(true); $op = doAuthorize($db,$user_token-&gt;options-&gt;user,'oauth',$user_token-&gt;options); $doAuthPostProcess = true; &#125; else &#123; $gui-&gt;note = $user_token-&gt;status['msg']; renderLoginScreen($gui); die(); &#125; break; case 'loginform': //zhanghl start if($authCfg['cas_enable']) &#123; if($authCfg['cas_debug_enable']) &#123; phpCAS::setDebug($authCfg['cas_debug_file']); &#125; // Initialize phpCAS phpCAS::client($authCfg['cas_server_protocol'], $authCfg['cas_server_name'], $authCfg['cas_server_port'], $authCfg['cas_server_path']); // For production use set the CA certificate that is the issuer of the cert // on the CAS server and uncomment the line below // phpCAS::setCasServerCACert($cas_server_ca_cert_path); // For quick testing you can disable SSL validation of the CAS server. // THIS SETTING IS NOT RECOMMENDED FOR PRODUCTION. // VALIDATING THE CAS SERVER IS CRUCIAL TO THE SECURITY OF THE CAS PROTOCOL! phpCAS::setNoCasServerValidation(); // Override the validation url for any (ST and PT) CAS 2.0 validation //phpCAS::setServerProxyValidateURL('http://devops.iamzhl.top:8080/cas/proxyValidate'); // Override the validation url for any CAS 1.0 validation //phpCAS::setServerServiceValidateURL('http://devops.iamzhl.top:8080/cas/serviceValidate'); phpCAS::handleLogoutRequests(); phpCAS::forceAuthentication(); $options = array('doSessionExistsCheck' =&gt; ($args-&gt;action=='doLogin')); $op = doCASAuthorize($db,$options); $doAuthPostProcess = true; &#125; else &#123; //zhanghl end $doRenderLoginScreen = true; $gui-&gt;draw = true; $op = null; // unfortunatelly we use $args-&gt;note in order to do some logic. if( ($args-&gt;note=trim($args-&gt;note)) == \"\" ) &#123; if( $gui-&gt;authCfg['SSO_enabled'] ) &#123; doSessionStart(true); $doAuthPostProcess = true; switch ($gui-&gt;authCfg['SSO_method']) &#123; case 'CLIENT_CERTIFICATE': $op = doSSOClientCertificate($db,$_SERVER,$gui-&gt;authCfg); break; case 'WEBSERVER_VAR': //DEBUGsyslogOnCloud('Trying to execute SSO using SAML'); $op = doSSOWebServerVar($db,$gui-&gt;authCfg); break; &#125; &#125; &#125; //zhanghl start &#125; //zhanghl end break;&#125;åœ¨init_guiå‡½æ•°å†…æ‰¾åˆ°switch($args-&gt;note)åˆ†æ”¯è¯­å¥ï¼Œåœ¨expiredåˆ†æ”¯ä¸‹æ·»åŠ ä¸€è¡Œé‡å®šå‘è°ƒç”¨123456789101112131415161718192021222324252627switch($args-&gt;note) &#123; case 'expired': if(!isset($_SESSION)) &#123; session_start(); &#125; session_unset(); session_destroy(); $gui-&gt;note = lang_get('session_expired'); $gui-&gt;reqURI = null; // æ·»åŠ é‡å®šå‘è°ƒç”¨ redirect(TL_BASE_HREF .\"login.php?destination=\".$args-&gt;destination); break; case 'first': $gui-&gt;note = lang_get('your_first_login'); $gui-&gt;reqURI = null; break; case 'lost': $gui-&gt;note = lang_get('passwd_lost'); $gui-&gt;reqURI = null; break; default: $gui-&gt;note = ''; break; &#125;ä¿®æ”¹ç™»å‡ºç•Œé¢1# /var/www/html/testlink/logout.phpåœ¨$authCfg = config_get(&#39;authentication&#39;);è¯­å¥ä¹‹åæ·»åŠ CASçš„ç™»å‡ºå¤„ç†1234567891011if($authCfg['cas_enable'])&#123; if($authCfg['cas_debug_enable']) &#123; phpCAS::setDebug($authCfg['cas_debug_file']); &#125; // Initialize phpCAS phpCAS::client($authCfg['cas_server_protocol'], $authCfg['cas_server_name'], $authCfg['cas_server_port'], $authCfg['cas_server_path']); phpCAS::logout();&#125;redirect(\"login.php?note=logout\");ä¿®æ”¹common.phpå…¨å±€å¼•ç”¨æ–‡ä»¶1# vi /var/www/html/testlink/lib/functions/common.phpåœ¨require_once(&#39;tlsmarty.inc.php&#39;);å¼•ç”¨çš„å‰é¢å¢åŠ å¯¹CASçš„å¼•ç”¨1234567/** TestLink CAS Authentication Ref */$authCfg = config_get('authentication');if($authCfg['cas_enable'])&#123; // Load the CAS lib require_once 'CAS.php';&#125;ä¿®æ”¹è®¤è¯å‡½æ•°1# vi /var/www/html/testlink/lib/functions/doAuthorize.phpåœ¨å¼€å¤´require_onceè¯­å¥çš„åé¢æ·»åŠ CASè®¤è¯å‡½æ•°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// zhanghl startfunction doCASAuthorize(&amp;$db,$options=null)&#123; global $g_tlLogger; $result = array('status' =&gt; tl::ERROR, 'msg' =&gt; null); $user = new tlUser(); $user-&gt;login = $_SESSION['phpCAS']['user']; $login_exists = ($user-&gt;readFromDB($db,tlUser::USER_O_SEARCH_BYLOGIN) &gt;= tl::OK); if(!$login_exists) &#123; $user = new tlUser(); $user-&gt;login = $_SESSION['phpCAS']['user']; $user-&gt;isActive = true; $user-&gt;authentication = 'LDAP'; // force for auth_does_password_match $user-&gt;setPassword($user-&gt;login); // write password on DB anyway &#125; //$user-&gt;emailAddress = $_SESSION['phpCAS']['attributes']['mail']; //$user-&gt;firstName = $_SESSION['phpCAS']['attributes']['sn']; //$user-&gt;lastName = $_SESSION['phpCAS']['attributes']['givenName']; $doLogin = ($user-&gt;writeToDB($db) == tl::OK); if( $doLogin ) &#123; // Need to do set COOKIE following Mantis model $auth_cookie_name = config_get('auth_cookie'); $expireOnBrowserClose=false; setcookie($auth_cookie_name,$user-&gt;getSecurityCookie(),$expireOnBrowserClose,'/'); // Disallow two sessions within one browser if (isset($_SESSION['currentUser']) &amp;&amp; !is_null($_SESSION['currentUser'])) &#123; $result['msg'] = lang_get('login_msg_session_exists1') . ' &lt;a style=\"color:white;\" href=\"logout.php\"&gt;' . lang_get('logout_link') . '&lt;/a&gt;' . lang_get('login_msg_session_exists2'); &#125; else &#123; // Setting user's session information $_SESSION['currentUser'] = $user; $_SESSION['lastActivity'] = time(); $g_tlLogger-&gt;endTransaction(); $g_tlLogger-&gt;startTransaction(); setUserSession($db,$user-&gt;login, $user-&gt;dbID,$user-&gt;globalRoleID,$user-&gt;emailAddress,$user-&gt;locale,null); $result['status'] = tl::OK; &#125; &#125; return $result;&#125;// zhanghl endä¿®æ”¹å…¨å±€é…ç½®æ–‡ä»¶ (å¯é€‰)1# vi /var/www/html/testlink/config.inc.phpå¢åŠ CASè®¤è¯å±æ€§12345678/** CAS server properties */$tlCfg-&gt;authentication['cas_enable'] = false;$tlCfg-&gt;authentication['cas_server_name'] = '';$tlCfg-&gt;authentication['cas_server_port'] = 8080;$tlCfg-&gt;authentication['cas_server_path'] = 'cas';$tlCfg-&gt;authentication['cas_debug_enable'] = true;$tlCfg-&gt;authentication['cas_debug_file'] = '';$tlCfg-&gt;authentication['cas_server_protocol'] = '';Noteï¼šæ­¤é€‰é¡¹ç”¨ä»¥è®¾ç½®é»˜è®¤å±æ€§å€¼ï¼Œä¸»è¦ç”¨æ¥æ—¥åæŸ¥é˜…ï¼Œå¯ä»¥ä¸å†™ï¼Œ/var/www/html/testlink/custom_config.inc.phpæ–‡ä»¶ç›¸åŒçš„å±æ€§é…ç½®ä¼šè¦†ç›–ç”Ÿæ•ˆã€‚ä¿®æ”¹CASçš„Client.phpå¯ç”¨httpè¿æ¥(æ ¹æ®ä¸ªäººCASæœåŠ¡å™¨æ¥å®š)1# vi /var/www/html/testlink/lib/functions/CAS/Client.phpå°†å¦‚ä¸‹å‡ ä¸ªå‡½æ•°ä¸­çš„httpsæ”¹ä¸ºhttpå³å¯1234567891011121314private function _getServerBaseURL()&#123; // the URL is build only when needed if ( empty($this-&gt;_server['base_url']) ) &#123; // $this-&gt;_server['base_url'] = 'https://' . $this-&gt;_getServerHostname(); $this-&gt;_server['base_url'] = 'http://' . $this-&gt;_getServerHostname(); if ($this-&gt;_getServerPort()!=443) &#123; $this-&gt;_server['base_url'] .= ':' .$this-&gt;_getServerPort(); &#125; $this-&gt;_server['base_url'] .= $this-&gt;_getServerURI(); &#125; return $this-&gt;_server['base_url'];&#125;12345678910111213141516private function _getCallbackURL()&#123; // the URL is built when needed only if ( empty($this-&gt;_callback_url) ) &#123; $final_uri = ''; // remove the ticket if present in the URL // $final_uri = 'https://'; $final_uri = 'http://'; $final_uri .= $this-&gt;_getClientUrl(); $request_uri = $_SERVER['REQUEST_URI']; $request_uri = preg_replace('/\\?.*$/', '', $request_uri); $final_uri .= $request_uri; $this-&gt;_callback_url = $final_uri; &#125; return $this-&gt;_callback_url;&#125;12345678910111213141516171819202122232425262728293031public function getURL()&#123; phpCAS::traceBegin(); // the URL is built when needed only if ( empty($this-&gt;_url) ) &#123; $final_uri = ''; // remove the ticket if present in the URL // $final_uri = ($this-&gt;_isHttps()) ? 'https' : 'http'; $final_uri = ($this-&gt;_isHttps()) ? 'http' : 'http'; $final_uri .= '://'; $final_uri .= $this-&gt;_getClientUrl(); $request_uri = explode('?', $_SERVER['REQUEST_URI'], 2); $final_uri .= $request_uri[0]; if (isset($request_uri[1]) &amp;&amp; $request_uri[1]) &#123; $query_string= $this-&gt;_removeParameterFromQueryString('ticket', $request_uri[1]); // If the query string still has anything left, // append it to the final URI if ($query_string !== '') &#123; $final_uri .= \"?$query_string\"; &#125; &#125; phpCAS::trace(\"Final URI: $final_uri\"); $this-&gt;setURL($final_uri); &#125; phpCAS::traceEnd($this-&gt;_url); return $this-&gt;_url;&#125;æµ‹è¯•æ–°å»ºdebugè°ƒè¯•ç›®å½•12# mkdir /var/log/testlink# chown -R apache:apache /var/log/testlinkæ‰“å¼€TestLinkç½‘å€http://devops.iamzhl.top/testlinkå¦‚å›¾æ‰€ç¤ºï¼Œæ­£å¸¸è·³è½¬åˆ°CASçš„ç™»å½•ç•Œé¢ï¼Œåœ°å€å˜æˆäº†http://devops.iamzhl.top:8080/cas/login?service=http%3A%2F%2Fdevops.iamzhl.top%2Ftestlink%2Flogin.phpï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç åç‚¹å‡»ç™»å½•å¦‚å›¾ç™»é™†æˆåŠŸåæ­£å¸¸è·å–ç”¨æˆ·åï¼Œç‚¹å‡»å·¦ä¸Šè§’çš„ç™»å‡ºæŒ‰é’®åï¼Œæ­£å¸¸é€€å‡ºåˆ°CASç™»å‡ºé¡µé¢è‡³æ­¤ï¼ŒTestLinkæ•´åˆCASå•ç‚¹ç™»å½•å®Œæˆã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://blog.iamzhl.top/categories/è¿ç»´/"}],"tags":[{"name":"CAS","slug":"CAS","permalink":"https://blog.iamzhl.top/tags/CAS/"},{"name":"LDAP","slug":"LDAP","permalink":"https://blog.iamzhl.top/tags/LDAP/"},{"name":"TestLink","slug":"TestLink","permalink":"https://blog.iamzhl.top/tags/TestLink/"}]},{"title":"MantisBT æ•´åˆ LDAP å’Œ CAS å•ç‚¹ç™»å½•","slug":"MantisBT-integrate-with-ldap-and-CAS","date":"2018-12-03T07:07:11.000Z","updated":"2019-03-11T16:21:49.897Z","comments":true,"path":"MantisBT-integrate-with-ldap-and-CAS.html","link":"","permalink":"https://blog.iamzhl.top/MantisBT-integrate-with-ldap-and-CAS.html","excerpt":"","text":"èƒŒæ™¯ä»‹ç»MantisBT ç‰ˆæœ¬ï¼š2.18Mantis URLï¼šhttp://devops.iamzhl.top/mantisopenLDAP æœåŠ¡ï¼šldap://devops.iamzhl.top:389CAS æœåŠ¡ï¼šhttp://devops.iamzhl.top:8080/casæ•´åˆ LDAPä¿®æ”¹MantisBTé…ç½®æ–‡ä»¶æ·»åŠ ä»¥ä¸‹é…ç½®é¡¹1234567891011121314# MantisBT Authentication and LDAP Settings #$g_login_method = LDAP;$g_reauthentication = ON;$g_reauthentication_expiry = TOKEN_EXPIRY_AUTHENTICATED;$g_ldap_server = 'ldap://devops.iamzhl.top:389';$g_ldap_root_dn = 'ou=People,dc=iamzhl,dc=top';$g_ldap_protocol_version = 3;$g_ldap_organization = '';$g_ldap_bind_dn = 'cn=Manager,dc=iamzhl,dc=top';$g_ldap_bind_passwd = '123456';$g_ldap_uid_field = 'uid';$g_ldap_realname_field = 'cn';$g_use_ldap_realname = ON;$g_use_ldap_email = ON;æ‰“å¼€MantisBTç½‘å€ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç ç‚¹å‡»ç™»å½•ç™»é™†æˆåŠŸåï¼Œæ­£å¸¸è·å–ç”¨æˆ·åç‚¹å‡»å³ä¸Šè§’çš„ç”¨æˆ·å -&gt; æ³¨é”€ï¼Œä¼šæ­£å¸¸é€€å‡ºå¹¶è·³è½¬åˆ°ç™»å½•ç•Œé¢è‡³æ­¤ï¼ŒMantisBTæ•´åˆLDAPå®Œæˆã€‚æ•´åˆ CAS å•ç‚¹ç™»å½•ä¸‹è½½phpCASæ”¾åˆ°MantisBTä¸‹12345# wget https://github.com/apereo/phpCAS/archive/1.3.6.tar.gz# mv 1.3.6.tar.gz phpCAS-1.3.6.tar.gz# tar zxvf phpCAS-1.3.6.tar.gz# chown -R apache:apache phpCAS-1.3.6# cp -arf phpCAS-1.3.6 /var/www/html/mantis/phpCASä¿®æ”¹MantisBTé…ç½®æ–‡ä»¶1# vi /var/www/html/mantis/config/config_inc.phpæ·»åŠ CASè®¤è¯éœ€è¦çš„å˜é‡(è¯·æŒ‰ç…§è‡ªå·±çš„LDAPæœåŠ¡å™¨è¿›è¡Œä¿®æ”¹)1234567891011121314151617# MantisBT Authentication With CAS Settings #$g_login_method = CAS;$g_cas_server = 'devops.iamzhl.top';$g_cas_port = 8080;$g_cas_uri = '/cas';$g_cas_validate = '';$g_cas_version = '2.0';$g_cas_debug = '/var/www/html/mantis/cas.log';$g_cas_saml_attributes = OFF;$g_cas_saml_map = array( 'name' =&gt; '', 'mail' =&gt; '' );$g_cas_use_ldap = ON;$g_ldap_mantis_uid = 'uid';$g_cas_ldap_update = OFF;$g_cas_ldap_update_fields = '';$g_cas_ldap_update_map = '';$g_ldap_language_field = '';$g_ldap_language_keys = '';ä¿®æ”¹ç™»å½•é¡µé¢1# vi /var/www/html/mantis/login_page.php123456// åœ¨æ–‡ä»¶å¼€å¤´çš„ require_once éƒ¨åˆ†å¢åŠ å¯¹ phpCAS çš„å¼•å…¥require_once( '/var/www/html/mantis/phpCAS/login_cas.php' );// åœ¨ $f_username å˜é‡çš„å®šä¹‰ä¹‹å‰æ·»åŠ åˆ¤æ–­è¯­å¥ï¼Œå½“æ£€æµ‹åˆ°ç”¨æˆ·å·²ç»è®¤è¯æ—¶ï¼Œè·³è½¬åˆ°ä¸»é¡µif( auth_is_user_authenticated() &amp;&amp; !current_user_is_anonymous() ) &#123; print_header_redirect( config_get( 'default_home_page' ) );&#125;1# vi /var/www/html/mantis/login.php1234567// åœ¨åˆ¤æ–­å˜é‡ f_install çš„åˆ¤æ–­è¯­å¥ä¹‹åæ·»åŠ ä¸‹é¢çš„åˆ¤æ–­è¯­å¥æ¥åˆ¤æ–­éªŒè¯æ–¹å¼ï¼Œè‹¥ä¸º CAS ï¼Œåˆ™åˆ©ç”¨ auth_cas_get_name å‡½æ•°æ¥å¤„ç†if ( CAS == config_get( 'login_method' ) ) &#123; # This will detour to the CAS login page if needed $f_password = ''; $f_username = auth_cas_get_name(); # User is always authenticated by this point&#125;1# vi /var/www/html/mantis/login_password_page.php12345678910// åœ¨ $f_username å˜é‡çš„å®šä¹‰ä¹‹å‰æ·»åŠ åˆ¤æ–­è¯­å¥ï¼Œå½“æ£€æµ‹åˆ°ç”¨æˆ·å·²ç»è®¤è¯æ—¶ï¼Œè·³è½¬åˆ°ä¸»é¡µif( auth_is_user_authenticated() &amp;&amp; !current_user_is_anonymous() ) &#123; print_header_redirect( config_get( 'default_home_page' ) );&#125;$f_username = gpc_get_string( 'username', '' );# zhanghl startif( $f_username == '' ) &#123; $f_username = $staffid;&#125;# zhanghl endä¿®æ”¹ç™»å‡ºé¡µé¢1# vi /var/www/html/mantis/logout_page.php12345678910111213// åœ¨æ–‡ä»¶å¼€å¤´çš„ require_once éƒ¨åˆ†å¢åŠ å¯¹ phpCAS çš„å¼•å…¥require_once( '/var/www/html/mantis/phpCAS/login_cas.php' );# Cache the current logout redirect page as it will be cleared by auth_logout()//$t_logout_redirect = auth_logout_redirect_page();//auth_logout();phpCAS::setDebug();phpCAS::setVerbose(true);phpCAS::handleLogoutRequests();phpCAS::logout();//print_header_redirect( $t_logout_redirect, true, false );print_header_redirect( config_get( 'logout_redirect_page' ), true, false );ä¿®æ”¹éªŒè¯é€»è¾‘1# vi /var/www/html/mantis/core/authentication_api.php123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182// åœ¨å˜é‡ g_cache_current_user_id çš„å®šä¹‰åé¢æ·»åŠ ä»¥ä¸‹å‡½æ•°ï¼Œå®šä¹‰ CAS çš„ç™»å½•é€»è¾‘/*** Initialize phpCAS.*/function auth_cas_init() &#123; # phpCAS must be installed in the include path # or in the Mantis directory. require_once('/var/www/html/mantis/phpCAS/CAS.php'); static $s_initialized=false; if (! $s_initialized ) &#123; phpCAS::setDebug( config_get( 'cas_debug' ) ); ## These should be set in config_inc.php $t_server_version = config_get( 'cas_version' ); $t_server_cas_server = config_get( 'cas_server' ); $t_server_port = config_get( 'cas_port' ); $t_server_uri = config_get( 'cas_uri' ); $t_start_session = (boolean)FALSE; # Mantis takes care of its own session phpCAS::client($t_server_version, $t_server_cas_server, $t_server_port, $t_server_uri, $t_start_session); if ($t_server_version == \"S1\") phpCAS::setServerSamlValidateURL( config_get( 'cas_validate' ) ); else phpCAS::setServerProxyValidateURL( config_get( 'cas_validate' ) ); if (method_exists('phpCAS', 'setNoCasServerValidation')) &#123; // no SSL validation for the CAS server phpCAS::setNoCasServerValidation(); &#125; $s_initialized = true; &#125;&#125;/*** Fetches the user's CAS name, authenticating if needed.* Can translate CAS login name to Mantis username through LDAP.*/function auth_cas_get_name()&#123; # Get CAS username from phpCAS auth_cas_init(); phpCAS::forceAuthentication(); $t_cas_id = phpCAS::getUser(); $t_cas_attribs = phpCAS::getAttributes(); # If needed, translate the CAS username through LDAP $t_username = $t_cas_id; if (config_get( 'cas_use_ldap', false )) &#123; $t_username = auth_cas_ldap_translate( $t_cas_id ); &#125; elseif (config_get( 'cas_saml_attributes', false )) &#123; $t_cas_attribmap = config_get( 'cas_saml_map', array() ); $t_cas_attrib_name = $t_cas_attribs[$t_cas_attribmap['name']]; $t_cas_attrib_mail = $t_cas_attribs[$t_cas_attribmap['mail']]; if ( user_get_id_by_name($t_cas_id) == false ) &#123; user_create( $t_cas_id, '', $t_cas_attrib_mail, null, false, true, $t_cas_attrib_name ); &#125; &#125; return $t_username;&#125;/*** Takes an ID string, and looks up the LDAP directory to find* the matching username for Mantis.** Optionally, also update the user information in the Mantis user* table.** @param $p_cas_id string Typically, the username given by phpCAS.* @param $p_update_user bool Whether or not to update user details from LDAP.*/function auth_cas_ldap_translate( $p_cas_id, $p_update_user='' )&#123; # Please make sure the Mantis CAS and LDAP settings are set in config_inc.php $t_ldap_organization = config_get( 'ldap_organization' ); $t_ldap_root_dn = config_get( 'ldap_root_dn' ); # Required fields in LDAP for CAS $t_ldap_language_field = config_get( 'ldap_language_field', '' ); $t_ldap_uid_field = config_get( 'ldap_uid_field', 'uid' ) ; $t_ldap_mantis_uid = config_get( 'ldap_mantis_uid', 'uid' ); $t_ldap_required = array( $t_ldap_uid_field, $t_ldap_mantis_uid, 'dn' ); if ($t_ldap_language_field) &#123; // Add language field to attributes list only if it is configured. $t_ldap_required[] = $t_ldap_language_field; &#125; $t_ldap_required = array_combine( $t_ldap_required, $t_ldap_required ); # User-defined fields to fetch from LDAP... $t_ldap_fields = explode( ',', config_get( 'cas_ldap_update_fields' ) ); $t_ldap_fields = array_combine( $t_ldap_fields, $t_ldap_fields ); # ...which are mapped to Mantis user fields $t_ldap_map = explode( ',', config_get( 'cas_ldap_update_map' ) ); $t_ldap_map = array_combine( $t_ldap_map, $t_ldap_map ); # Build LDAP search filter, attribute list from CAS ID $t_search_filter = \"(&amp;$t_ldap_organization($t_ldap_uid_field=$p_cas_id))\"; $t_search_attrs = array_values($t_ldap_required + $t_ldap_fields); # array union # Use Mantis ldap_api to connect to LDAP $t_ds = ldap_connect_bind(); $t_sr = ldap_search( $t_ds, $t_ldap_root_dn, $t_search_filter, $t_search_attrs ); $t_info = ldap_get_entries( $t_ds, $t_sr ); # Parse the LDAP entry to find the Mantis username if ( $t_info ) &#123; # Get Mantis username $t_username = $t_info[0][$t_ldap_mantis_uid][0]; # @@@ The fact that we got here means the user is authenticated # @@@ by CAS, and has an LDAP entry. # @@@ We might as well update other user details since we are here. # If no argument given, check settings if ( '' == $p_update_user ) &#123; $p_update_user = config_get( 'cas_ldap_update', FALSE ); &#125; # If there's a user record, then update it if ( $p_update_user ) &#123; # Only proceed if the field map arrays are the same length $t_field_map = array_combine( $t_ldap_fields, $t_ldap_map ); if ($t_field_map) &#123; # If user is new, then we must create their account before updating it # @@@ ( make sure $g_allow_blank_email == ON ) $t_userid = user_get_id_by_name($t_username); if ( false == $t_userid ) &#123; user_create( $t_username, '' ); # @@@ Wow, this is pretty lame $t_userid = user_get_id_by_name($t_username); &#125; # @@@ maybe we can optimize this to write all fields at once? foreach ( $t_field_map as $key=&gt;$t_userfield ) &#123; if (isset($t_info[0][$key][0])) &#123; user_set_field( $t_userid, $t_userfield, $t_info[0][$key][0] ); &#125; &#125; &#125; // Update user's overall language preference if ($t_ldap_language_field) &#123; $t_language = $t_info[0][$t_ldap_language_field][0]; // Map the LDAP language field to Mantis' language field if needed $t_language_keys = config_get( 'ldap_language_keys', ''); $t_language_values = config_get( 'ldap_language_values', ''); $t_language_map = array_combine( explode(',', $t_language_keys), explode(',', $t_language_values) ); if (isset($t_language_map[$t_language])) &#123; $t_language = $t_language_map[$t_language]; &#125; user_pref_set_pref($t_userid, 'language', $t_language); &#125; &#125; &#125; ldap_free_result( $t_sr ); ldap_unbind( $t_ds ); return $t_username;&#125;/*** Logs out of CAS, redirecting to Mantis on re-login.* User should already be logged out of Mantis by the time this is called.* @see auth_logout()*/function auth_cas_logout()&#123; $t_path = config_get('path'); auth_cas_init(); if (method_Exists('phpCAS', 'logoutWithUrl')) &#123; phpCAS::logoutWithUrl($t_path); &#125; else &#123; phpCAS::logout($t_path); &#125;&#125;// zhanghl end1234567891011121314151617181920212223242526272829303132333435// ä¿®æ”¹ auth_auto_create_user å‡½æ•°å®ç° CAS è‡ªåŠ¨åˆ›å»ºç”¨æˆ·function auth_auto_create_user( $p_username, $p_password ) &#123; $t_login_method = config_get_global( 'login_method' ); // if( $t_login_method == BASIC_AUTH ) &#123; if ( in_array( $t_login_method, array( BASIC_AUTH, CAS ) ) ) &#123; # attempt to create the user if using BASIC_AUTH or CAS $t_auto_create = true; &#125; else if( $t_login_method == LDAP &amp;&amp; ldap_authenticate_by_username( $p_username, $p_password ) ) &#123; $t_auto_create = true; &#125; else &#123; $t_auto_create = false; &#125; if ( CAS == config_get( 'login_method' ) ) &#123; # Redirect to CAS page to logout auth_cas_logout(); &#125; if( $t_auto_create ) &#123; # attempt to create the user $t_cookie_string = user_create( $p_username, md5( $p_password ) ); if( $t_cookie_string === false ) &#123; # it didn't work return false; &#125; # ok, we created the user, get the row again return user_get_id_by_name( $p_username ); &#125; session_clean(); return false;&#125;1234567891011121314151617181920212223242526272829303132function auth_attempt_login( $p_username, $p_password, $p_perm_login = false ) &#123; $t_user_id = auth_get_user_id_from_login_name( $p_username ); $t_login_method = config_get( 'login_method' ); if( $t_user_id === false ) &#123; if ( in_array( $t_login_method, array( BASIC_AUTH, CAS ) ) ) &#123; # attempt to create the user if using BASIC_AUTH or CAS # ( note: CAS must have $g_allow_blank_email == ON ) $t_auto_create = true; &#125; $t_user_id = auth_auto_create_user( $p_username, $p_password ); if( $t_user_id === false ) &#123; return false; &#125; &#125; # max. failed login attempts achieved... if( !user_is_login_request_allowed( $t_user_id ) ) &#123; return false; &#125; # check for anonymous login if( !user_is_anonymous( $t_user_id ) ) &#123; # anonymous login didn't work, so check the password if( !auth_does_password_match( $t_user_id, $p_password ) ) &#123; user_increment_failed_login_count( $t_user_id ); return false; &#125; &#125; return auth_login_user( $t_user_id, $p_perm_login );&#125;123456789101112131415161718192021222324function auth_logout() &#123; global $g_cache_current_user_id, $g_cache_cookie_valid; # clear cached userid user_clear_cache( $g_cache_current_user_id ); current_user_set( null ); $g_cache_cookie_valid = null; # clear cookies, if they were set if( auth_clear_cookies() ) &#123; helper_clear_pref_cookies(); &#125; if( HTTP_AUTH == config_get_global( 'login_method' ) ) &#123; auth_http_set_logout_pending( true ); &#125; elseif ( CAS == config_get( 'login_method' ) ) &#123; # Redirect to CAS page to logout auth_cas_logout(); &#125; session_clean();&#125;12345678910function auth_automatic_logon_bypass_form() &#123; switch( config_get( 'login_method' ) ) &#123; case HTTP_AUTH: return true; case CAS: return true; &#125; return false; //return config_get_global( 'login_method' ) == HTTP_AUTH;&#125;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647function auth_does_password_match( $p_user_id, $p_test_password ) &#123; $t_configured_login_method = config_get_global( 'login_method' ); if( LDAP == $t_configured_login_method ) &#123; return ldap_authenticate( $p_user_id, $p_test_password ); &#125; elseif ( CAS == $t_configured_login_method ) &#123; return true; &#125; if( !auth_can_use_standard_login( $p_user_id ) ) &#123; return false; &#125; $t_password = user_get_field( $p_user_id, 'password' ); $t_login_methods = array( MD5, CRYPT, PLAIN, BASIC_AUTH, CAS, ); foreach( $t_login_methods as $t_login_method ) &#123; # pass the stored password in as the salt if( auth_process_plain_password( $p_test_password, $t_password, $t_login_method ) == $t_password ) &#123; # Do not support migration to PLAIN, since this would be a crazy thing to do. # Also if we do, then a user will be able to login by providing the MD5 value # that is copied from the database. See #8467 for more details. if( ( $t_configured_login_method != PLAIN &amp;&amp; $t_login_method == PLAIN ) || ( $t_configured_login_method != BASIC_AUTH &amp;&amp; $t_login_method == BASIC_AUTH ) ) &#123; continue; &#125; # Check for migration to another login method and test whether the password was encrypted # with our previously insecure implementation of the CRYPT method if( ( $t_login_method != $t_configured_login_method ) || (( CRYPT == $t_configured_login_method ) &amp;&amp; mb_substr( $t_password, 0, 2 ) == mb_substr( $p_test_password, 0, 2 ) ) ) &#123; user_set_password( $p_user_id, $p_test_password, true ); &#125; return true; &#125; &#125; return false;&#125;12345678910111213141516171819202122232425262728293031323334353637function auth_reauthenticate() &#123; //if( !auth_reauthentication_enabled() || BASIC_AUTH == config_get_global( 'login_method' ) || HTTP_AUTH == config_get_global( 'login_method' ) ) &#123; if( !auth_reauthentication_enabled() || in_array(config_get('login_method'), array(BASIC_AUTH, HTTP_AUTH, CAS)) ) &#123; return true; &#125; $t_auth_token = token_get( TOKEN_AUTHENTICATED ); if( null != $t_auth_token ) &#123; token_touch( $t_auth_token['id'], auth_reauthentication_expiry() ); return true; &#125; else &#123; $t_anon_account = auth_anonymous_account(); $t_anon_allowed = auth_anonymous_enabled(); $t_user_id = auth_get_current_user_id(); $t_username = user_get_username( $t_user_id ); # check for anonymous login if( ON == $t_anon_allowed &amp;&amp; $t_anon_account == $t_username ) &#123; return true; &#125; $t_request_uri = string_url( $_SERVER['REQUEST_URI'] ); $t_query_params = http_build_query( array( 'reauthenticate' =&gt; 1, 'username' =&gt; $t_username, 'return' =&gt; $t_request_uri, ), '', '&amp;' ); # redirect to login page print_header_redirect( auth_credential_page( $t_query_params ) ); &#125;&#125;æ–°å»ºlogin_cas.phpå¤„ç†æ‹¦æˆªåˆ©ç”¨CASè®¤è¯ç™»å½•1# vi /var/www/html/mantis/phpCAS/login_cas.php123456789101112131415161718&lt;?phprequire_once( 'CAS.php' );define('CAS_ENABLE', true);$cas_host = 'devops.iamzhl.top';$cas_context = '/cas';$cas_port = 8080;$cas_real_hosts = array ( 'devops.iamzhl.top');phpCAS::setDebug();phpCAS::setVerbose(true);phpCAS::client(CAS_VERSION_2_0, $cas_host, $cas_port, $cas_context);phpCAS::setNoCasServerValidation();phpCAS::handleLogoutRequests(true, $cas_real_hosts);phpCAS::forceAuthentication();?&gt;ä¿®æ”¹CASçš„Client.phpå¯ç”¨httpè¿æ¥(æ ¹æ®ä¸ªäººCASæœåŠ¡å™¨æ¥å®š)1# vi /var/www/html/mantis/phpCAS/source/CAS/Client.phpå°†å¦‚ä¸‹å‡ ä¸ªå‡½æ•°ä¸­çš„httpsæ”¹ä¸ºhttpå³å¯1234567891011121314private function _getServerBaseURL() &#123; // the URL is build only when needed if ( empty($this-&gt;_server['base_url']) ) &#123; //$this-&gt;_server['base_url'] = 'https://' . $this-&gt;_getServerHostname(); $this-&gt;_server['base_url'] = 'http://' . $this-&gt;_getServerHostname(); if ($this-&gt;_getServerPort()!=443) &#123; $this-&gt;_server['base_url'] .= ':' .$this-&gt;_getServerPort(); &#125; $this-&gt;_server['base_url'] .= $this-&gt;_getServerURI(); &#125; return $this-&gt;_server['base_url']; &#125;12345678910111213141516private function _getCallbackURL() &#123; // the URL is built when needed only if ( empty($this-&gt;_callback_url) ) &#123; $final_uri = ''; // remove the ticket if present in the URL //$final_uri = 'https://'; $final_uri = 'http://'; $final_uri .= $this-&gt;_getClientUrl(); $request_uri = $_SERVER['REQUEST_URI']; $request_uri = preg_replace('/\\?.*$/', '', $request_uri); $final_uri .= $request_uri; $this-&gt;_callback_url = $final_uri; &#125; return $this-&gt;_callback_url; &#125;12345678910111213141516171819202122232425262728293031public function getURL() &#123; phpCAS::traceBegin(); // the URL is built when needed only if ( empty($this-&gt;_url) ) &#123; $final_uri = &apos;&apos;; // remove the ticket if present in the URL //$final_uri = ($this-&gt;_isHttps()) ? &apos;https&apos; : &apos;http&apos;; $final_uri = ($this-&gt;_isHttps()) ? &apos;http&apos; : &apos;http&apos;; $final_uri .= &apos;://&apos;; $final_uri .= $this-&gt;_getClientUrl(); $request_uri = explode(&apos;?&apos;, $_SERVER[&apos;REQUEST_URI&apos;], 2); $final_uri .= $request_uri[0]; if (isset($request_uri[1]) &amp;&amp; $request_uri[1]) &#123; $query_string= $this-&gt;_removeParameterFromQueryString(&apos;ticket&apos;, $request_uri[1]); // If the query string still has anything left, // append it to the final URI if ($query_string !== &apos;&apos;) &#123; $final_uri .= &quot;?$query_string&quot;; &#125; &#125; phpCAS::trace(&quot;Final URI: $final_uri&quot;); $this-&gt;setURL($final_uri); &#125; phpCAS::traceEnd($this-&gt;_url); return $this-&gt;_url; &#125;æµ‹è¯•æ–°å»ºlogç›®å½•12# mkdir /var/log/mantis# chown -R apache:apache /var/log/mantisæ‰“å¼€MantisBTç½‘å€ï¼Œæ­£å¸¸è·³è½¬è‡³CASç™»å½•ç•Œé¢ï¼Œç½‘å€æ˜¯http://devops.iamzhl.top:8080/cas/login?service=http%3A%2F%2Fdevops.iamzhl.top%2Fmantis%2Flogin_page.phpå¦‚å›¾ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç åç‚¹å‡»ç™»å½•ï¼Œæ­£å¸¸ç™»é™†åè·³è½¬è‡³MantisBTä¸»é¡µï¼Œå¹¶ä¸”æ­£å¸¸è·å–ç”¨æˆ·åç‚¹å‡»å³ä¸Šè§’çš„ç”¨æˆ·å -&gt; æ³¨é”€ï¼Œä¼šæ­£å¸¸é€€å‡ºå¹¶è·³è½¬åˆ°CASçš„ç™»å‡ºç•Œé¢","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://blog.iamzhl.top/categories/è¿ç»´/"}],"tags":[{"name":"CAS","slug":"CAS","permalink":"https://blog.iamzhl.top/tags/CAS/"},{"name":"LDAP","slug":"LDAP","permalink":"https://blog.iamzhl.top/tags/LDAP/"},{"name":"MantisBT","slug":"MantisBT","permalink":"https://blog.iamzhl.top/tags/MantisBT/"}]},{"title":"Gerrit æ•´åˆ ldap å’Œ CAS å•ç‚¹ç™»å½•","slug":"Gerrit-integrate-with-ldap-and-CAS","date":"2018-12-03T01:42:41.000Z","updated":"2019-03-11T16:21:49.891Z","comments":true,"path":"Gerrit-integrate-with-ldap-and-CAS.html","link":"","permalink":"https://blog.iamzhl.top/Gerrit-integrate-with-ldap-and-CAS.html","excerpt":"","text":"èƒŒæ™¯ä»‹ç»Gerrit ç‰ˆæœ¬ï¼š2.16Gerrit URLï¼šhttp://devops.iamzhl.top:82openLDAP æœåŠ¡ï¼šldap://devops.iamzhl.top:389CAS æœåŠ¡ï¼šhttp://devops.iamzhl.top:8080/casæ•´åˆ LDAPä¿®æ”¹ gerrit.config1# vi /usr/local/review_site/etc/gerrit.configè¯·æ ¹æ®è‡ªå·±çš„LDAPæœåŠ¡å™¨ä¿¡æ¯è¿›è¡Œå®šåˆ¶123456789[auth] type = LDAP[ldap] server = ldap://devops.iamzhl.top:389 username = cn=Manager,dc=iamzhl,dc=top password = passwd accountBase = ou=People,dc=iamzhl,dc=top groupBase = ou=People,dc=iamzhl,dc=top accountFullName = uidé‡å¯æœåŠ¡1# gerrit restartæµ‹è¯•æ‰“å¼€ç½‘å€http://devops.iamzhl.top:8081ï¼Œè¿›å…¥åˆ°Gerritä¸»é¡µé¢ç‚¹å‡»å³ä¸Šè§’Sign inï¼Œè¿›å…¥ç™»å½•ç•Œé¢ï¼Œè¾“å…¥LDAPæœåŠ¡å™¨ä¸­çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œç„¶åç‚¹å‡»Sign inç™»å½•æˆåŠŸåè·³è½¬åˆ°ç”¨æˆ·ä¸»é¡µé¢ï¼Œæ­£å¸¸è·å–ç”¨æˆ·åç‚¹å‡»ç”¨æˆ·å -&gt; Sign Outï¼Œæ­£å¸¸é€€å‡ºè‡³æ­¤ï¼ŒGerritæ•´åˆLDAPå®Œæˆã€‚æ•´åˆ CASä¿®æ”¹ gerrit.config1# vi /usr/local/review_site/etc/gerrit.configä¿®æ”¹[auth]éƒ¨åˆ†1234[auth] type = HTTP httpHeader = X-Forwarded-Gerrit logoutUrl = http://devops.iamzhl.top:8080/cas/logoutmod_auth_casä¿®æ”¹ç„¶åå®‰è£…mod_auth_cas1# yum -y install mod_auth_casé…ç½®mod_auth_cas1# vi /etc/httpd/conf.d/auth_cas.confä¿®æ”¹CASçš„Cookieå­˜å‚¨ä½ç½®ä»¥åŠç™»å½•åœ°å€å’ŒéªŒè¯åœ°å€ç­‰å‚æ•°å¦‚ä¸‹123456789LogLevel DebugCASDebug OnCASVersion 2CASTimeout 1740CASIdleTimeout 1740CASSSOEnabled OnCASCookiePath /var/cache/httpd/mod_auth_cas/CASLoginURL http://devops.iamzhl.top:8080/cas/loginCASValidateURL http://devops.iamzhl.top:8080/cas/serviceValidateä¿®æ”¹ apache é…ç½®æ–‡ä»¶1# vi /etc/httpd/conf/httpd.confæ·»åŠ åå‘ä»£ç†12345678910111213141516171819202122232425262728293031323334353637# æ·»åŠ ä¸€ä¸ªç›‘å¬ç«¯å£ 82 ç”¨ä½œ Gerrit çš„ä»£ç†ä¸»æœºListen 82# åŠ è½½ mod_auth_cas æ¨¡å—ï¼Œå¦‚æœå·²ç»åŠ è½½è¯·å¿½ç•¥LoadModule auth_cas_module modules/mod_auth_cas.so# è®¾ç½® Gerrit çš„è™šæ‹Ÿä¸»æœº&lt;VirtualHost *:82&gt; ServerName devops.iamzhl.top ServerAdmin 15563836030@163.com CASRootProxiedAs http://devops.iamzhl.top:82 ProxyRequests Off ProxyVia Off ProxyPreserveHost On &lt;Proxy *&gt; Order deny,allow Allow from all &lt;/Proxy&gt; &lt;Location &quot;/login/&quot;&gt; AuthType CAS AuthName &quot;Welcome To Gerrit Code Review&quot; Require valid-user CASAuthNHeader X-Forwarded-Gerrit &lt;/Location&gt; AllowEncodedSlashes On ProxyPass / http://devops.iamzhl.top:8081/ ProxyPassReverse / http://devops.iamzhl.top:8081 ErrorLog /var/log/gerrit/error.log CustomLog /var/log/gerrit/access.log common&lt;/VirtualHost&gt;é‡å¯æœåŠ¡123# mkdir /var/log/gerrit# gerrit restart# systemctl restart httpdæµ‹è¯•æ‰“å¼€ç½‘å€http://devops.iamzhl.top:82ï¼Œå‘ç°è‡ªåŠ¨è·³è½¬åˆ°äº†CASçš„ç™»å½•ç•Œé¢ï¼Œç½‘å€æ˜¯http://devops.iamzhl.top:8080/cas/login?service=http%3a%2f%2fdevops.iamzhl.top%3a82%2fè¾“å…¥ç”¨æˆ·åå¯†ç åï¼Œç‚¹å‡»ç™»å½•ï¼Œç™»é™†æˆåŠŸï¼Œåœ°å€æ˜¯http://devops.iamzhl.top:82//#/dashboard/selfç‚¹å‡»ç”¨æˆ·å -&gt; Sign Outï¼Œå°±ä¼šç™»å‡ºç™»å‡ºç•Œé¢å¦‚ä¸‹ï¼Œåœ°å€æ˜¯http://devops.iamzhl.top:8080/cas/logoutè‡³æ­¤ï¼ŒGerritæ•´åˆCASå•ç‚¹ç™»å½•å®Œæˆã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://blog.iamzhl.top/categories/è¿ç»´/"}],"tags":[{"name":"Gerrit","slug":"Gerrit","permalink":"https://blog.iamzhl.top/tags/Gerrit/"},{"name":"ldap","slug":"ldap","permalink":"https://blog.iamzhl.top/tags/ldap/"},{"name":"CAS","slug":"CAS","permalink":"https://blog.iamzhl.top/tags/CAS/"}]},{"title":"SonarQube æ•´åˆ LDAP å’Œ CAS å•ç‚¹ç™»å½•","slug":"SonarQube-integrate-with-ldap-and-CAS","date":"2018-11-30T05:23:17.000Z","updated":"2019-03-11T16:21:49.901Z","comments":true,"path":"SonarQube-integrate-with-ldap-and-CAS.html","link":"","permalink":"https://blog.iamzhl.top/SonarQube-integrate-with-ldap-and-CAS.html","excerpt":"","text":"èƒŒæ™¯ä»‹ç»SonarQubeç‰ˆæœ¬ï¼š7.4SonarQube URL: http://devops.iamzhl.top:9000openLDAP æœåŠ¡ï¼šldap://devops.iamzhl.top:389CAS æœåŠ¡ï¼šhttp://devops.iamzhl.top:8080/casæ•´åˆLDAPä¿®æ”¹sonaré…ç½®æ–‡ä»¶sonar.properties1$ vi /usr/local/sonarqube-7.4/conf/sonar.propertiesæ‰¾åˆ°ä¸‹é¢çš„éƒ¨åˆ†ä¿®æ”¹LDAPé…ç½®1234567891011121314151617181920#--------------------------------------------------------------------------------------------------# LDAP CONFIGURATION# Enable the LDAP feature# sonar.security.realm=LDAP# Set to true when connecting to a LDAP server using a case-insensitive setup.# sonar.authenticator.downcase=true# URL of the LDAP server. Note that if you are using ldaps, then you should install the server certificate into the Java truststore.# ldap.url=ldap://localhost:10389# Bind DN is the username of an LDAP user to connect (or bind) with. Leave this blank for anonymous access to the LDAP directory (optional)# ldap.bindDn=cn=sonar,ou=users,o=mycompany# Bind Password is the password of the user to connect with. Leave this blank for anonymous access to the LDAP directory (optional)# ldap.bindPassword=secret# Possible values: simple | CRAM-MD5 | DIGEST-MD5 | GSSAPI See http://java.sun.com/products/jndi/tutorial/ldap/security/auth.html (default: simple)# ldap.authentication=simpleä¿®æ”¹å¦‚ä¸‹(è¯·å°†å…·ä½“ä¿¡æ¯æŒ‰ç…§è‡ªå·±çš„LDAPæœåŠ¡å™¨ä¿¡æ¯è¿›è¡Œä¿®æ”¹):1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#--------------------------------------------------------------------------------------------------# LDAP CONFIGURATION# Enable the LDAP featuresonar.security.realm=LDAP# Set to true when connecting to a LDAP server using a case-insensitive setup.# sonar.authenticator.downcase=true# URL of the LDAP server. Note that if you are using ldaps, then you should install the server certificate into the Java truststore.ldap.url=ldap://devops.iamzhl.top:389# Bind DN is the username of an LDAP user to connect (or bind) with. Leave this blank for anonymous access to the LDAP directory (optional)ldap.bindDn=cn=Manager,dc=iamzhl,dc=top# Bind Password is the password of the user to connect with. Leave this blank for anonymous access to the LDAP directory (optional)ldap.bindPassword=passwd# Possible values: simple | CRAM-MD5 | DIGEST-MD5 | GSSAPI See http://java.sun.com/products/jndi/tutorial/ldap/security/auth.html (default: simple)ldap.authentication=simple# See :# * http://java.sun.com/products/jndi/tutorial/ldap/security/digest.html# * http://java.sun.com/products/jndi/tutorial/ldap/security/crammd5.html# (optional)# ldap.realm=example.org# Context factory class (optional)# ldap.contextFactoryClass=com.sun.jndi.ldap.LdapCtxFactory# Enable usage of StartTLS (default : false)# ldap.StartTLS=true# Follow or not referrals. See http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html (default: true)# ldap.followReferrals=false# USER MAPPING# Distinguished Name (DN) of the root node in LDAP from which to search for users (mandatory)ldap.user.baseDn=ou=People,dc=iamzhl,dc=top# LDAP user request. (default: (&amp;(objectClass=inetOrgPerson)(uid=&#123;login&#125;)) )# ldap.user.request=(&amp;(objectClass=user)(sAMAccountName=&#123;login&#125;))ldap.user.request=(&amp;(objectClass=inetOrgPerson)(uid=&#123;login&#125;))# Attribute in LDAP defining the userâ€™s real name. (default: cn)# ldap.user.realNameAttribute=nameldap.user.realNameAttribute=cn# Attribute in LDAP defining the userâ€™s email. (default: mail)# ldap.user.emailAttribute=emailldap.user.emailAttribute=mail# GROUP MAPPING# Distinguished Name (DN) of the root node in LDAP from which to search for groups. (optional, default: empty)# ldap.group.baseDn=cn=groups,dc=example,dc=orgldap.group.baseDn=ou=People,dc=iamzhl,dc=top# LDAP group request (default: (&amp;(objectClass=groupOfUniqueNames)(uniqueMember=&#123;dn&#125;)) )# ldap.group.request=(&amp;(objectClass=group)(member=&#123;dn&#125;))ldap.group.request=(&amp;(objectClass=posixGroup)(memberUid=&#123;uid&#125;))# Property used to specifiy the attribute to be used for returning the list of user groups in the compatibility mode. (default: cn)# ldap.group.idAttribute=sAMAccountNameä¿®æ”¹å®Œæˆåï¼Œé‡å¯sonar1$ sonar restartæ‰“å¼€sonarç½‘å€ï¼Œè¾“å…¥LDAPä¸­çš„ç”¨æˆ·åå’Œå¯†ç åç‚¹å‡»ç™»å½•ç™»é™†æˆåŠŸåï¼Œæ­£å¸¸è·å–ç”¨æˆ·åè‡³æ­¤ï¼ŒSonarQubeæ•´åˆLDAPå®Œæˆæ•´åˆCASå•ç‚¹ç™»å½•ä»‹ç»SonarQubeæä¾›äº†ä¸€ç§SSOæœºåˆ¶ï¼Œå¯ä»¥ç”¨æ¥ä½œä¸ºå•ç‚¹ç™»å½•çš„å®ç°æ–¹å¼ï¼Œå°±æ˜¯ä½¿ç”¨HTTP headerçš„æ–¹å¼ï¼Œè€ŒCASä¹Ÿæä¾›äº†ä¸€ç§ç”¨äºapacheæœåŠ¡çš„è®¤è¯æ–¹å¼ï¼Œè¿™å°±æ˜¯mod_auth_casï¼Œæ€è·¯å¾ˆç®€å•ï¼Œæˆ‘ä»¬åˆ©ç”¨apacheåå‘ä»£ç†ï¼Œåšä¸€ä¸ªç«¯å£ç”¨äºè™šæ‹Ÿä¸»æœºæ¥è½¬å‘SonarQubeæœåŠ¡ï¼Œç„¶ååœ¨è¿™ä¸ªè™šæ‹Ÿä¸»æœºå†…éƒ¨åŠ å…¥mod_auth_casæä¾›çš„è®¤è¯æ‹¦æˆªï¼ŒåŒæ—¶åœ¨é‡Œé¢æŒ‡å®šä¸€ä¸ªHTTP headerç”¨äºå‘é€è®¤è¯åçš„è¯·æ±‚åˆ°SonarQubeï¼Œç„¶åï¼ŒSonarQubeæ¥æ”¶åˆ°è¿™ä¸ªè¯·æ±‚åï¼Œå‘ç°æ­£æ˜¯è‡ªå·±è®¾å®šçš„HTTP headerï¼Œäºæ˜¯äºˆä»¥é€šè¿‡è®¤è¯ã€‚è¿™å°±æ˜¯æ•´ä¸ªè®¤è¯æµç¨‹ï¼Œä¸‹é¢å¼€å§‹ä»‹ç»æ•´åˆæ–¹æ³•ã€‚SonarQubeä¿®æ”¹1$ vi /usr/local/sonarqube-7.4/conf/sonar.propertiesä¿®æ”¹å¦‚ä¸‹éƒ¨åˆ†(å°±æ˜¯å°†SSO AUTHENTICATIONéƒ¨åˆ†çš„å‚æ•°å–æ¶ˆæ³¨é‡Šï¼Œä»¤å…¶ç”Ÿæ•ˆ)12345678910111213141516171819202122232425#--------------------------------------------------------------------------------------------------# SSO AUTHENTICATION# Enable authentication using HTTP headerssonar.web.sso.enable=true# Name of the header to get the user login.# Only alphanumeric, &apos;.&apos; and &apos;@&apos; characters are allowedsonar.web.sso.loginHeader=X-Forwarded-Login# Name of the header to get the user namesonar.web.sso.nameHeader=X-Forwarded-Name# Name of the header to get the user email (optional)sonar.web.sso.emailHeader=X-Forwarded-Email# Name of the header to get the list of user groups, separated by comma (optional).# If the sonar.sso.groupsHeader is set, the user will belong to those groups if groups exist in SonarQube.# If none of the provided groups exists in SonarQube, the user will only belong to the default group.# Note that the default group will always be set.sonar.web.sso.groupsHeader=X-Forwarded-Groups# Interval used to know when to refresh name, email and groups.# During this interval, if for instance the name of the user is changed in the header, it will only be updated after X minutes.sonar.web.sso.refreshIntervalInMinutes=5ä¿®æ”¹app.d5dba530.chunk.jsï¼Œè§£å†³ç™»å‡ºé—®é¢˜ï¼Œä¸åŒçš„ç‰ˆæœ¬ä¸åŒï¼Œ7.2.1çš„åœ¨mainå¼€å¤´çš„ä¸€ä¸ªjsæ–‡ä»¶ä¸­ã€‚1# vi /usr/local/sonarqube-7.4/web/js/app.d5dba530.chunk.jsä¿®æ”¹å¦‚ä¸‹1234t.handleLogout = function(e) &#123; // e.preventDefault(), t.context.router.push(\"/sessions/logout\") t.context.router.push(\"/sessions/logout\") //å»æ‰e.preventDefault()æ–¹æ³•&#125;12345r.createElement(\"li\", null, r.createElement(\"a\", &#123; //href: \"#\", href: \"http://192.168.6.99:8080/cas/logout\", //å°†æ­¤æ³¨é”€æŒ‰é’®çš„hrefæ”¹ä¸ºCASæœåŠ¡å™¨çš„ç™»å‡ºé¡µé¢ onClick: this.handleLogout&#125;mod_auth_casä¿®æ”¹ç„¶åå®‰è£…mod_auth_cas1# yum -y install mod_auth_casé…ç½®mod_auth_cas1# vi /etc/httpd/conf.d/auth_cas.confä¿®æ”¹CASçš„Cookieå­˜å‚¨ä½ç½®ä»¥åŠç™»å½•åœ°å€å’ŒéªŒè¯åœ°å€ç­‰å‚æ•°å¦‚ä¸‹123456789LogLevel DebugCASDebug OnCASVersion 2CASTimeout 1740CASIdleTimeout 1740CASSSOEnabled OnCASCookiePath /var/cache/httpd/mod_auth_cas/CASLoginURL http://devops.iamzhl.top:8080/cas/loginCASValidateURL http://devops.iamzhl.top:8080/cas/serviceValidateapacheä¿®æ”¹1# vi /etc/httpd/conf/httpd.confæ·»åŠ è™šæ‹Ÿä¸»æœº12345678910111213141516171819202122232425262728293031323334353637# æ·»åŠ ä¸€ä¸ªç›‘å¬ç«¯å£ 83 ç”¨ä½œ SonarQube çš„ä»£ç†ä¸»æœºListen 83# åŠ è½½ mod_auth_cas æ¨¡å—ï¼Œå¦‚æœå·²ç»åŠ è½½è¯·å¿½ç•¥LoadModule auth_cas_module modules/mod_auth_cas.so# è®¾ç½® SonarQube çš„è™šæ‹Ÿä¸»æœº&lt;VirtualHost *:83&gt; ServerName devops.iamzhl.top ServerAdmin 15563836030@163.com CASRootProxiedAs http://devops.iamzhl.top:83 ProxyPreserveHost On ProxyPass / http://devops.iamzhl.top:9000/ ProxyPassReverse / http://devops.iamzhl.top:9000/ ProxyPass /sessions/logout http://devops.iamzhl.top:8080/cas/logout ProxyPassReverse /sessions/logout http://devops.iamzhl.top:8080/cas/logout ProxyPass /api/authentication/logout http://devops.iamzhl.top:8080/cas/logout ProxyPassReverse /api/authentication/logout http://devops.iamzhl.top:8080/cas/logout ErrorLog /var/log/sonar/error.log CustomLog /var/log/sonar/access.log common &lt;Location /&gt; AuthName &quot;Welcome to devops sonar&quot; CASAuthNHeader X-Forwarded-Login Authtype CAS require valid-user &lt;/Location&gt; &lt;Proxy *&gt; Order deny,allow Allow from all &lt;/Proxy&gt;&lt;/VirtualHost&gt;é‡å¯æœåŠ¡123456# mkdir /var/log/sonar# chown -R apache:apache /var/log/sonar# su sonar$ sonar restart# su # systemctl restart httpdæµ‹è¯•æ‰“å¼€ç½‘å€http://devops.iamzhl.top:83ï¼Œå‘ç°è‡ªåŠ¨è·³è½¬åˆ°äº†CASçš„ç™»å½•ç•Œé¢ï¼Œç½‘å€æ˜¯http://devops.iamzhl.top:8080/cas/login?service=http%3a%2f%2fdevops.iamzhl.top%3a83%2fè¾“å…¥ç”¨æˆ·åå¯†ç åç‚¹å‡»ç™»å½•å¦‚å›¾æ‰€ç¤ºï¼Œç™»é™†æˆåŠŸï¼Œåœ°å€æ˜¯http://devops.iamzhl.top:83/projectså¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç‚¹å‡»æ³¨é”€ï¼Œå°±ä¼šç™»å‡ºå¹¶è·³è½¬è‡³CASçš„ç™»å‡ºç•Œé¢è‡³æ­¤ï¼ŒSonarQubeæ•´åˆCASå•ç‚¹ç™»å½•å®Œæˆã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://blog.iamzhl.top/categories/è¿ç»´/"}],"tags":[{"name":"CAS","slug":"CAS","permalink":"https://blog.iamzhl.top/tags/CAS/"},{"name":"LDAP","slug":"LDAP","permalink":"https://blog.iamzhl.top/tags/LDAP/"},{"name":"SonarQube","slug":"SonarQube","permalink":"https://blog.iamzhl.top/tags/SonarQube/"}]},{"title":"Jenkins æ•´åˆ LDAP ä»¥åŠ CAS å•ç‚¹ç™»å½•","slug":"Jenkins-integrate-with-ldap-and-CAS","date":"2018-11-30T02:17:09.000Z","updated":"2019-03-11T16:21:49.895Z","comments":true,"path":"Jenkins-integrate-with-ldap-and-CAS.html","link":"","permalink":"https://blog.iamzhl.top/Jenkins-integrate-with-ldap-and-CAS.html","excerpt":"","text":"èƒŒæ™¯ä»‹ç»Jenkins ç‰ˆæœ¬ï¼š2.138.3Jenkins å®‰è£…æ–¹å¼ï¼š Tomcat å®¹å™¨éƒ¨ç½² war åŒ…Jenkins åœ°å€ï¼šhttp://devops.iamzhl.top:8080/jenkinsopenLDAP æœåŠ¡ï¼šldap://devops.iamzhl.top:389CAS æœåŠ¡ï¼šhttp://devops.iamzhl.top:8080/casæ•´åˆ openLDAPé¦–å…ˆå» Jenkins æ’ä»¶å®˜ç½‘ä¸‹è½½ LDAP å’Œ CAS æ’ä»¶LDAPï¼šhttps://updates.jenkins.io/download/plugins/ldap/CASï¼šhttps://updates.jenkins.io/download/plugins/cas-plugin/å¦‚å›¾ï¼Œç‚¹å‡»ç³»ç»Ÿç®¡ç†ç‚¹å‡»æ’ä»¶ç®¡ç† -&gt; é«˜çº§ -&gt; ä¸Šä¼ æ’ä»¶(é€‰æ‹©æ–‡ä»¶)å¼¹å‡ºé€‰æ‹©æ–‡ä»¶çš„å¯¹è¯æ¡†åï¼Œé¦–å…ˆé€‰æ‹©æˆ‘ä»¬ä¸‹è½½å¥½çš„ LDAP æ’ä»¶ï¼Œç„¶åç‚¹å‡»ä¸Šä¼ ï¼Œç„¶åå°±ä¼šè·³è½¬åˆ°å®‰è£…ç•Œé¢ï¼Œæˆ‘ä»¬å‹¾é€‰å®‰è£…å®Œæˆåé‡å¯Jenkins(ç©ºé—²æ—¶)ï¼Œç­‰å¾…ä¸€ä¼šJenkinså®‰è£…æ’ä»¶å®Œæˆåå°±ä¼šé‡å¯è¾“å…¥ç”¨æˆ·åå¯†ç ç™»å½•åï¼Œä¾æ¬¡æ‰“å¼€ç³»ç»Ÿç®¡ç† -&gt; å…¨å±€å®‰å…¨é…ç½®ï¼Œåœ¨å®‰å…¨åŸŸå‹¾é€‰ LDAPï¼Œç‚¹å‡»Advanced Server Configuration,å¼€å§‹é…ç½® LDAP æœåŠ¡å™¨çš„ç»‘å®šä¿¡æ¯ç‚¹å‡»Test LDAP settingsï¼Œæµ‹è¯•LDAPé…ç½®æ˜¯å¦å¯ç”¨ï¼Œå¦‚ä¸‹å›¾ï¼Œè¾“å…¥ä¸€ä¸ªLDAPæœåŠ¡å™¨ä¸­å­˜åœ¨çš„ç”¨æˆ·è´¦å·å’Œå¯†ç ï¼Œç‚¹å‡»Testå¦‚æœæµ‹è¯•æˆåŠŸï¼Œä¼šæ‰“å°å‡ºç±»ä¼¼å¦‚ä¸‹çš„ä¿¡æ¯ç‚¹å‡»åº”ç”¨ï¼Œç„¶åç‚¹å‡»ä¿å­˜ã€‚æµ‹è¯•ä¸€ä¸‹ï¼Œç”¨LDAPä¸­çš„ç”¨æˆ·è¿›è¡Œç™»å½•ç™»é™†æˆåŠŸï¼Œé…ç½®å®Œæˆï¼Œåˆ°è¿™é‡Œï¼ŒJenkinsæ•´åˆLDAPè®¤è¯å°±å®Œæˆäº†ã€‚æ•´åˆ CAS å•ç‚¹ç™»å½•é¦–å…ˆå®‰è£…CASæ’ä»¶ï¼Œå’Œä¸Šé¢å®‰è£…LDAPæ’ä»¶æ­¥éª¤ä¸€æ ·ï¼Œå®‰è£…å®ŒCASæ‰“å¼€ç³»ç»Ÿç®¡ç† -&gt; å…¨å±€å®‰å…¨é…ç½®ï¼Œåœ¨å®‰å…¨åŸŸå‹¾é€‰CAS (Central Authentication Service)ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œé…ç½®å¥½CASçš„URLå’ŒCAS åè®®ç„¶åç‚¹å‡»åº”ç”¨-&gt;ä¿å­˜ï¼Œæ³¨é”€ï¼Œç„¶åé‡æ–°ç™»å½•è¿™æ—¶å°±å¯ä»¥è·³è½¬åˆ°CASçš„ç™»å½•ç•Œé¢äº†ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç ç‚¹å‡»ç™»å½•ï¼Œå°±å¯ä»¥æ­£å¸¸çš„ç™»å½•è¿›å…¥Jenkinsç³»ç»Ÿäº†ã€‚è‡³æ­¤ï¼ŒJenkinsæ•´åˆCASå®Œæˆã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://blog.iamzhl.top/categories/è¿ç»´/"}],"tags":[{"name":"CAS","slug":"CAS","permalink":"https://blog.iamzhl.top/tags/CAS/"},{"name":"Jenkins","slug":"Jenkins","permalink":"https://blog.iamzhl.top/tags/Jenkins/"},{"name":"LDAP","slug":"LDAP","permalink":"https://blog.iamzhl.top/tags/LDAP/"}]},{"title":"shadowsocks-libev","slug":"shadowsocks-libev","date":"2018-11-25T09:39:40.000Z","updated":"2019-03-11T16:21:49.905Z","comments":true,"path":"shadowsocks-libev.html","link":"","permalink":"https://blog.iamzhl.top/shadowsocks-libev.html","excerpt":"","text":"ç¯å¢ƒå‡†å¤‡å›½å¤–æœåŠ¡å™¨ä¸€å°CentOS æ“ä½œç³»ç»Ÿå®‰è£…12345678910111213141516171819202122232425262728293031# yum -y install pcre pcre-devel git wget gcc gcc-c++# cd ~ &amp;&amp; git clone https://github.com/shadowsocks/shadowsocks-libev.git# cd shadowsocks-libev &amp;&amp; git submodule update --init --recursive# yum install gettext gcc autoconf libtool automake make asciidoc xmlto c-ares-devel libev-devel# echo \"LIBSODIUM_VER=1.0.13\" &gt;&gt; /etc/profile# source /etc/profile# cd ~# wget https://download.libsodium.org/libsodium/releases/LATEST.tar.gz# tar zxvf LATEST.tar.gz# pushd libsodium-stable# ./configure --prefix=/usr &amp;&amp; make# make install# popd# ldconfig# echo \"export MBEDTLS_VER=2.6.0\" &gt;&gt; /etc/profile# source /etc/profile# cd ~ &amp;&amp; wget wget https://tls.mbed.org/download/mbedtls-2.14.0-apache.tgz# tar xvf mbedtls-2.14.0-apache.tgz# pushd mbedtls-2.14.0# make SHARED=1 CFLAGS=-fPIC# make DESTDIR=/usr install# popd# ldconfig# cd shadowsocks-libev &amp;&amp; ./autogen.sh &amp;&amp; ./configure &amp;&amp; make# make install# cd /usr/local &amp;&amp; wget https://nchc.dl.sourceforge.net/project/pcre/pcre/8.41/pcre-8.41.tar.gz# tar -zxvf pcre-8.41.tar.gz# cd pcre-8.41 &amp;&amp; ./configure &amp;&amp; make# make install# cd /usr/local &amp;&amp; mkdir ssr &amp;&amp; cd ssr# vi conf.conf12345678&#123; \"server\":\"your server ip\", \"server_port\":7788, \"local_port\":1080, \"password\":\"your password for ssr\", \"timeout\":60, \"method\":\"aes-256-cfb\"&#125;1# ss-server -c /usr/local/ssr/conf.conf //è¿è¡Œ1# cd /usr/local/bin &amp;&amp; vi ssr //åˆ©ç”¨è„šæœ¬åå°è¿è¡Œ12#!/bin/bashnohup ss-server -c /usr/local/ssr/conf.conf &gt; /dev/null 2&gt;&amp;1 &amp;123# chmod +x /usr/local/bin/ssr# ssr# ps ax | grep ssr","categories":[{"name":"study","slug":"study","permalink":"https://blog.iamzhl.top/categories/study/"}],"tags":[{"name":"shadowsocks","slug":"shadowsocks","permalink":"https://blog.iamzhl.top/tags/shadowsocks/"}]},{"title":"CentOSå®‰è£…éƒ¨ç½² openLDAP","slug":"CentOS-install-openLDAP","date":"2018-11-24T14:17:41.000Z","updated":"2019-03-11T16:21:49.884Z","comments":true,"path":"CentOS-install-openLDAP.html","link":"","permalink":"https://blog.iamzhl.top/CentOS-install-openLDAP.html","excerpt":"","text":"ç®€ä»‹OpenLDAP æ˜¯è½»å‹ç›®å½•è®¿é—®åè®®Lightweight Directory Access Protocol - LDAPçš„è‡ªç”±å’Œå¼€æºçš„å®ç°ï¼Œåœ¨å…¶OpenLDAPè®¸å¯è¯ä¸‹å‘è¡Œï¼Œå¹¶å·²ç»è¢«åŒ…å«åœ¨ä¼—å¤šæµè¡Œçš„Linuxå‘è¡Œç‰ˆä¸­ã€‚å®‰è£…12# cd ~# yum -y install openldap-servers openldap-clients1234# cp /usr/share/openldap-servers/DB_CONFIG.example /var/lib/ldap/DB_CONFIG# chown ldap:ldap /var/lib/ldap/DB_CONFIG# systemctl start slapd# systemctl enable slapdé…ç½®1# slappasswd1# vi chrootpw.ldif12345# specify the password generated above for &quot;olcRootPW&quot; sectiondn: olcDatabase=&#123;0&#125;config,cn=configchangetype: modifyadd: olcRootPWolcRootPW: &#123;SSHA&#125;xxxxxxxxxxxxxxxxxxxxxxxx1# ldapadd -Y EXTERNAL -H ldapi:/// -f chrootpw.ldifå¯¼å…¥åŸºæœ¬æ¨¡å¼123# ldapadd -Y EXTERNAL -H ldapi:/// -f /etc/openldap/schema/cosine.ldif # ldapadd -Y EXTERNAL -H ldapi:/// -f /etc/openldap/schema/nis.ldif # ldapadd -Y EXTERNAL -H ldapi:/// -f /etc/openldap/schema/inetorgperson.ldifåœ¨ldapçš„DBä¸­è®¾ç½®åŸŸå1# slappasswd1# vi chdomain.ldif123456789101112131415161718192021222324252627282930# replace to your own domain name for &quot;dc=***,dc=***&quot; section# specify the password generated above for &quot;olcRootPW&quot; sectiondn: olcDatabase=&#123;1&#125;monitor,cn=configchangetype: modifyreplace: olcAccessolcAccess: &#123;0&#125;to * by dn.base=&quot;gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth&quot; read by dn.base=&quot;cn=Manager,dc=iamzhl,dc=top&quot; read by * nonedn: olcDatabase=&#123;2&#125;hdb,cn=configchangetype: modifyreplace: olcSuffixolcSuffix: dc=iamzhl,dc=topdn: olcDatabase=&#123;2&#125;hdb,cn=configchangetype: modifyreplace: olcRootDNolcRootDN: cn=Manager,dc=iamzhl,dc=topdn: olcDatabase=&#123;2&#125;hdb,cn=configchangetype: modifyadd: olcRootPWolcRootPW: &#123;SSHA&#125;xxxxxxxxxxxxxxxxxxxxxxxxdn: olcDatabase=&#123;2&#125;hdb,cn=configchangetype: modifyadd: olcAccessolcAccess: &#123;0&#125;to attrs=userPassword,shadowLastChange by dn=&quot;cn=Manager,dc=iamzhl,dc=top&quot; write by anonymous auth by self write by * noneolcAccess: &#123;1&#125;to dn.base=&quot;&quot; by * readolcAccess: &#123;2&#125;to * by dn=&quot;cn=Manager,dc=iamzhl,dc=top&quot; write by * read1# ldapmodify -Y EXTERNAL -H ldapi:/// -f chdomain.ldif1# vi basedomain.ldif1234567891011121314151617181920# replace to your own domain name for &quot;dc=***,dc=***&quot; sectiondn: dc=iamzhl,dc=topobjectClass: topobjectClass: dcObjectobjectclass: organizationo: iamzhldc: iamzhldn: cn=Manager,dc=iamzhl,dc=topobjectClass: organizationalRolecn: Managerdescription: Directory Managerdn: ou=People,dc=iamzhl,dc=topobjectClass: organizationalUnitou: Peopledn: ou=Group,dc=iamzhl,dc=topobjectClass: organizationalUnitou: Group1# ldapadd -x -D cn=Manager,dc=iamzhl,dc=top -W -f basedomain.ldifæ·»åŠ ä¸€ä¸ªç”¨æˆ·12# slappasswd # vi ldapuser.ldif12345678910111213141516171819# create new# replace to your own domain name for &quot;dc=***,dc=***&quot; sectiondn: uid=cent,ou=People,dc=iamzhl,dc=topobjectClass: inetOrgPersonobjectClass: posixAccountobjectClass: shadowAccountcn: Centsn: LinuxuserPassword: &#123;SSHA&#125;xxxxxxxxxxxxxxxxxloginShell: /bin/bashuidNumber: 1000gidNumber: 1000homeDirectory: /home/centdn: cn=cent,ou=Group,dc=iamzhl,dc=topobjectClass: posixGroupcn: CentgidNumber: 1000memberUid: cent1# ldapadd -x -D cn=Manager,dc=iamzhl,dc=top -W -f ldapuser.ldifæ·»åŠ æœ¬æœºçš„ç”¨æˆ·å’Œç¾¤ç»„åˆ°ldapç›®å½•1# vi ldapuser.sh123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869# extract local users and groups who have 1000-9999 digit UID# replace \"SUFFIX=***\" to your own domain name# this is an example#!/bin/bashSUFFIX='dc=iamzhl,dc=top'LDIF='ldapuser.ldif'echo -n &gt; $LDIFGROUP_IDS=()grep \"x:[1-9][0-9][0-9][0-9]:\" /etc/passwd | (while read TARGET_USERdo USER_ID=\"$(echo \"$TARGET_USER\" | cut -d':' -f1)\" USER_NAME=\"$(echo \"$TARGET_USER\" | cut -d':' -f5 | cut -d' ' -f1,2)\" [ ! \"$USER_NAME\" ] &amp;&amp; USER_NAME=\"$USER_ID\" LDAP_SN=\"$(echo \"$USER_NAME\" | cut -d' ' -f2)\" [ ! \"$LDAP_SN\" ] &amp;&amp; LDAP_SN=\"$USER_NAME\" LASTCHANGE_FLAG=\"$(grep \"$&#123;USER_ID&#125;:\" /etc/shadow | cut -d':' -f3)\" [ ! \"$LASTCHANGE_FLAG\" ] &amp;&amp; LASTCHANGE_FLAG=\"0\" SHADOW_FLAG=\"$(grep \"$&#123;USER_ID&#125;:\" /etc/shadow | cut -d':' -f9)\" [ ! \"$SHADOW_FLAG\" ] &amp;&amp; SHADOW_FLAG=\"0\" GROUP_ID=\"$(echo \"$TARGET_USER\" | cut -d':' -f4)\" [ ! \"$(echo \"$&#123;GROUP_IDS[@]&#125;\" | grep \"$GROUP_ID\")\" ] &amp;&amp; GROUP_IDS=(\"$&#123;GROUP_IDS[@]&#125;\" \"$GROUP_ID\") echo \"dn: uid=$USER_ID,ou=People,$SUFFIX\" &gt;&gt; $LDIF echo \"objectClass: inetOrgPerson\" &gt;&gt; $LDIF echo \"objectClass: posixAccount\" &gt;&gt; $LDIF echo \"objectClass: shadowAccount\" &gt;&gt; $LDIF echo \"sn: $LDAP_SN\" &gt;&gt; $LDIF echo \"givenName: $(echo \"$USER_NAME\" | awk '&#123;print $1&#125;')\" &gt;&gt; $LDIF echo \"cn: $USER_NAME\" &gt;&gt; $LDIF echo \"displayName: $USER_NAME\" &gt;&gt; $LDIF echo \"uidNumber: $(echo \"$TARGET_USER\" | cut -d':' -f3)\" &gt;&gt; $LDIF echo \"gidNumber: $(echo \"$TARGET_USER\" | cut -d':' -f4)\" &gt;&gt; $LDIF echo \"userPassword: &#123;crypt&#125;$(grep \"$&#123;USER_ID&#125;:\" /etc/shadow | cut -d':' -f2)\" &gt;&gt; $LDIF echo \"gecos: $USER_NAME\" &gt;&gt; $LDIF echo \"loginShell: $(echo \"$TARGET_USER\" | cut -d':' -f7)\" &gt;&gt; $LDIF echo \"homeDirectory: $(echo \"$TARGET_USER\" | cut -d':' -f6)\" &gt;&gt; $LDIF echo \"shadowExpire: $(passwd -S \"$USER_ID\" | awk '&#123;print $7&#125;')\" &gt;&gt; $LDIF echo \"shadowFlag: $SHADOW_FLAG\" &gt;&gt; $LDIF echo \"shadowWarning: $(passwd -S \"$USER_ID\" | awk '&#123;print $6&#125;')\" &gt;&gt; $LDIF echo \"shadowMin: $(passwd -S \"$USER_ID\" | awk '&#123;print $4&#125;')\" &gt;&gt; $LDIF echo \"shadowMax: $(passwd -S \"$USER_ID\" | awk '&#123;print $5&#125;')\" &gt;&gt; $LDIF echo \"shadowLastChange: $LASTCHANGE_FLAG\" &gt;&gt; $LDIF echo &gt;&gt; $LDIFdonefor TARGET_GROUP_ID in \"$&#123;GROUP_IDS[@]&#125;\"do LDAP_CN=\"$(grep \":$&#123;TARGET_GROUP_ID&#125;:\" /etc/group | cut -d':' -f1)\" echo \"dn: cn=$LDAP_CN,ou=Group,$SUFFIX\" &gt;&gt; $LDIF echo \"objectClass: posixGroup\" &gt;&gt; $LDIF echo \"cn: $LDAP_CN\" &gt;&gt; $LDIF echo \"gidNumber: $TARGET_GROUP_ID\" &gt;&gt; $LDIF for MEMBER_UID in $(grep \":$&#123;TARGET_GROUP_ID&#125;:\" /etc/passwd | cut -d':' -f1,3) do UID_NUM=$(echo \"$MEMBER_UID\" | cut -d':' -f2) [ $UID_NUM -ge 1000 -a $UID_NUM -le 9999 ] &amp;&amp; echo \"memberUid: $(echo \"$MEMBER_UID\" | cut -d':' -f1)\" &gt;&gt; $LDIF done echo &gt;&gt; $LDIFdone)12# sh ldapuser.sh # ldapadd -x -D cn=Manager,dc=iamzhl,dc=top -W -f ldapuser.ldifåˆ©ç”¨Apache Directory Studioè¿›è¡Œç®¡ç†Apache Directory Studio æ˜¯ä¸€ä¸ª LDAP çš„å·¥å…·å¹³å°ï¼Œç”¨æ¥è¿æ¥åˆ°ä»»ä½• LDAP æœåŠ¡å™¨å¹¶è¿›è¡Œç®¡ç†å’Œå¼€å‘å·¥ä½œã€‚å…¶å¯ä»¥å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼šLDAPæµè§ˆå™¨LDIFç¼–è¾‘å™¨åµŒå…¥å¼ ApacheDSACIç¼–è¾‘å™¨å±æ€§ç®¡ç†ä¸‹é¢ä»¥æ–°å»ºè¿æ¥å’Œæ–°å¢ç”¨æˆ·ä¸ºä¾‹è¿›è¡Œæ¼”ç¤ºå¦‚å›¾ï¼Œç‚¹å‡» New Connection æ–°å»ºä¸€ä¸ª ldap è¿æ¥ä¾æ¬¡è¾“å…¥è¿æ¥åã€ä¸»æœºåä»¥åŠç«¯å£å·åç‚¹å‡»Nextå†ä¾æ¬¡è¾“å…¥ç»‘å®šçš„DNå’Œå¯†ç åç‚¹å‡»Finishæ–°å»ºä¸€ä¸ª openLDAP ç”¨æˆ· test / 123456Creditsæœ¬æ–‡å¤šå¤„å‚è€ƒcentos7ä¸‹ldapæœåŠ¡æ­å»ºï¼Œæ„Ÿè°¢wenwenxiongçš„åˆ†äº«ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://blog.iamzhl.top/categories/è¿ç»´/"}],"tags":[{"name":"openLDAP","slug":"openLDAP","permalink":"https://blog.iamzhl.top/tags/openLDAP/"}]},{"title":"CAS 5.3.4 å®‰è£…éƒ¨ç½²","slug":"CAS-5-3-4-install-and-deploy","date":"2018-11-24T12:59:49.000Z","updated":"2019-03-11T16:21:49.883Z","comments":true,"path":"CAS-5-3-4-install-and-deploy.html","link":"","permalink":"https://blog.iamzhl.top/CAS-5-3-4-install-and-deploy.html","excerpt":"","text":"ç®€ä»‹CASå…¨ç§°Central Authentication Serviceï¼Œä¸­å¤®è®¤è¯æœåŠ¡ï¼Œä¸€ç§ç‹¬ç«‹å¼€æ”¾æŒ‡ä»¤åè®®ã€‚CAS æ˜¯ Yale å¤§å­¦å‘èµ·çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæ—¨åœ¨ä¸º Web åº”ç”¨ç³»ç»Ÿæä¾›ä¸€ç§å¯é çš„å•ç‚¹ç™»å½•æ–¹æ³•ï¼ŒCAS åœ¨ 2004 å¹´ 12 æœˆæ­£å¼æˆä¸º JA-SIG çš„ä¸€ä¸ªé¡¹ç›®ï¼Œç›®å‰æ˜¯ä¸€ç§ä¼ä¸šçº§çš„å•ç‚¹ç™»å½•è§£å†³æ–¹æ¡ˆã€‚åè®®ä»‹ç»å…³äº oauth2.0 çš„åŸç†åŠä»‹ç»å¯ä»¥å‚è€ƒç†è§£OAuth 2.0 - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—ï¼Œè¿™é‡Œä¸åšèµ˜è¿°ã€‚ç¯å¢ƒå‡†å¤‡CASæ˜¯åŸºäºSpringå†™çš„ï¼Œå› æ­¤éœ€è¦å‡†å¤‡Javaç¯å¢ƒï¼Œå®˜æ–¹æä¾›äº†ä¸€ç§éå¸¸å¥½ç”¨çš„ç¼–è¯‘æ–¹æ³•ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥å†³å®šä¾èµ–çš„é€‰æ‹©ï¼Œæœ¬æ–‡ä¸»è¦ä»¥openLDAPå’Œoauthä¸ºä¾‹ã€‚ç¼–è¯‘æ—¶éœ€è¦mavenç¯å¢ƒã€‚è¿è¡Œæ—¶éœ€è¦ Tomcat å®¹å™¨ï¼Œå› æ­¤éœ€è¦æå‰å‡†å¤‡å¥½ Tomcat ç¯å¢ƒã€‚åç»­æˆ‘ä»¬ä¼šæ•´åˆ openLDAP åšç»Ÿä¸€ç”¨æˆ·ç®¡ç†ï¼Œå› æ­¤è¯·å…ˆå®‰è£…å¥½ openLDAPã€‚ç¼–è¯‘é¦–å…ˆå»é¡¹ç›®åœ°å€ä¸‹è½½ç¼–è¯‘æ¨¡æ¿1https://github.com/apereo/cas-overlay-template123# git clone https://github.com/apereo/cas-overlay-template# cd cas-overlay-template# vi pom.xmlæ‰¾åˆ°ä¸‹é¢çš„éƒ¨åˆ†123456789101112&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.apereo.cas&lt;/groupId&gt; &lt;artifactId&gt;cas-server-webapp$&#123;app.server&#125;&lt;/artifactId&gt; &lt;version&gt;$&#123;cas.version&#125;&lt;/version&gt; &lt;type&gt;war&lt;/type&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- ...Additional dependencies may be placed here... --&gt; &lt;/dependencies&gt;å°†æ³¨é‡Šçš„éƒ¨åˆ†æ›¿æ¢ä¸ºæˆ‘ä»¬éœ€è¦çš„æ¨¡å—12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.apereo.cas&lt;/groupId&gt; &lt;artifactId&gt;cas-server-webapp$&#123;app.server&#125;&lt;/artifactId&gt; &lt;version&gt;$&#123;cas.version&#125;&lt;/version&gt; &lt;type&gt;war&lt;/type&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apereo.cas&lt;/groupId&gt; &lt;artifactId&gt;cas-server-support-oauth-webflow&lt;/artifactId&gt; &lt;version&gt;$&#123;cas.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;$&#123;mysql.driver.version&#125;&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apereo.cas&lt;/groupId&gt; &lt;artifactId&gt;cas-server-support-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;cas.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apereo.cas&lt;/groupId&gt; &lt;artifactId&gt;cas-server-support-jdbc-drivers&lt;/artifactId&gt; &lt;version&gt;$&#123;cas.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apereo.cas&lt;/groupId&gt; &lt;artifactId&gt;cas-server-support-rest&lt;/artifactId&gt; &lt;version&gt;$&#123;cas.version&#125;&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apereo.cas&lt;/groupId&gt; &lt;artifactId&gt;cas-server-support-ldap&lt;/artifactId&gt; &lt;version&gt;$&#123;cas.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apereo.cas&lt;/groupId&gt; &lt;artifactId&gt;cas-server-support-jpa-ticket-registry&lt;/artifactId&gt; &lt;version&gt;$&#123;cas.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apereo.cas&lt;/groupId&gt; &lt;artifactId&gt;cas-server-support-jpa-service-registry&lt;/artifactId&gt; &lt;version&gt;$&#123;cas.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apereo.cas&lt;/groupId&gt; &lt;artifactId&gt;cas-server-support-rest-services&lt;/artifactId&gt; &lt;version&gt;$&#123;cas.version&#125;&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apereo.cas&lt;/groupId&gt; &lt;artifactId&gt;cas-server-support-json-service-registry&lt;/artifactId&gt; &lt;version&gt;$&#123;cas.version&#125;&lt;/version&gt; &lt;/dependency&gt; --&gt;&lt;/dependencies&gt;ä¸Šé¢ä¾‹å­ä¸­æˆ‘æ·»åŠ äº†openLDAP oauth2.0 mysqlçš„ä¾èµ–ï¼Œå…·ä½“è¯·æŒ‰ç…§è‡ªå·±éœ€æ±‚é€‰æ‹©ã€‚ç¼–è¾‘å¥½pomæ–‡ä»¶åï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å¼€å§‹ç¼–è¯‘1# mvn clean packageè¿‡ç¨‹å¾ˆé•¿ï¼Œéœ€è¦è”ç½‘ã€‚å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç¼–è¯‘å®Œæˆåï¼Œä¼šåœ¨æ­¤ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª target ç›®å½•ï¼Œæˆ‘ä»¬éœ€è¦çš„ war åŒ…å°±åœ¨é‡Œé¢ã€‚å®‰è£…æµ‹è¯•å®‰è£…è¿‡ç¨‹å°±æ¯”è¾ƒç®€å•äº†ï¼Œå°† war åŒ…ä¿å­˜è‡³ Tomcat ä¸‹ webapps ç›®å½•ä¸‹ï¼Œç„¶åè¿è¡Œ Tomcat å³å¯ã€‚12# startup.sh# tail -f /usr/local/tomcat/logs/catalina.outè¿è¡Œå®Œæˆåæ—¥å¿—å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç„¶åæˆ‘ä»¬æ‰“å¼€ http://localhost:8080/casé»˜è®¤çš„ç”¨æˆ·åå¯†ç ä¸º casuser / Mellonï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç ç‚¹å‡»ç™»å½•ï¼Œç™»å½•æˆåŠŸåå¦‚å›¾è·³è½¬è‡³ç™»å½•æˆåŠŸé¡µé¢å®‰è£…è‡³æ­¤å®Œæˆå¼€å¯ oauth 2.0 æˆæƒapplication.properties å¢åŠ é…ç½®æ–‡ä»¶å¦‚ä¸‹1# vi /usr/local/tomcat/webapps/cas/WEB-INF/classes/application.properties12345678cas.authn.oauth.refreshToken.timeToKillInSeconds=2592000cas.authn.oauth.code.timeToKillInSeconds=30cas.authn.oauth.code.numberOfUses=1cas.authn.oauth.accessToken.releaseProtocolAttributes=truecas.authn.oauth.accessToken.timeToKillInSeconds=7200cas.authn.oauth.accessToken.maxTimeToLiveInSeconds=28800cas.authn.oauth.grants.resourceOwner.requireServiceHeader=truecas.authn.oauth.userProfileViewType=NESTEDå¢åŠ  OAUTH-1002.json service æ³¨å†Œæ–‡ä»¶1# vi /usr/local/tomcat/webapps/cas/WEB-INF/classes/servies/OAUTH-1002.json12345678&#123; &quot;@class&quot; : &quot;org.apereo.cas.support.oauth.services.OAuthRegisteredService&quot;, &quot;clientId&quot;: &quot;20181124&quot;, &quot;clientSecret&quot;: &quot;123456&quot;, &quot;serviceId&quot; : &quot;^(https|http|imaps)://.*&quot;, &quot;name&quot; : &quot;OAuthService&quot;, &quot;id&quot; : 1002&#125;é‡å¯ Tomcat æµ‹è¯•1234567891011121314# shutdown.sh Using CATALINA_BASE: /usr/local/tomcatUsing CATALINA_HOME: /usr/local/tomcatUsing CATALINA_TMPDIR: /usr/local/tomcat/tempUsing JRE_HOME: /usrUsing CLASSPATH: /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar# startup.sh Using CATALINA_BASE: /usr/local/tomcatUsing CATALINA_HOME: /usr/local/tomcatUsing CATALINA_TMPDIR: /usr/local/tomcat/tempUsing JRE_HOME: /usrUsing CLASSPATH: /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jarTomcat started.#é‡å¯å®Œæˆåï¼Œæˆ‘ä»¬åˆ©ç”¨æœ¬åšå®¢ä½œä¸ºç›®æ ‡è®¿é—®ç½‘å€è¿›è¡Œæµ‹è¯•ï¼Œæµè§ˆå™¨æ‰“å¼€ http://localhost:8080/cas/oauth2.0/authorize?response_type=code&amp;client_id=20181124&amp;redirect_uri=https://blog.iamzhl.topå‘ç°è·³è½¬äº†ä¸€ä¸ªç¤ºä¾‹ç½‘å€è¿™æ—¶æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹ä¸¤ä¸ªå˜é‡1# vi /usr/local/tomcat/webapps/cas/WEB-INF/classes/application.propertiesåŠ å…¥ä¸‹é¢ä¸¤è¡Œ12cas.server.name=http://devops.iamzhl.top:8080/cascas.server.prefix=$&#123;cas.server.name&#125;è¯·å°† devops.iamzhl.top æ”¹ä¸ºä½ çš„ ipï¼Œç„¶åé‡å¯ Tomcat å†æ¬¡æµ‹è¯•è¿™æ¬¡èƒ½æ­£å¸¸è·³è½¬äº†ï¼Œä½†æ˜¯å‡ºç°äº†æœªè®¤è¯æˆæƒçš„æœåŠ¡ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰å¼€å¯ http åè®®æ”¯æŒï¼Œå› æ­¤åªè¦å†è®©æˆ‘ä»¬çš„ CAS Server æ”¯æŒ http è®¤è¯å°±è¡Œäº†1# vi /usr/local/tomcat/webapps/cas/WEB-INF/classes/application.propertiesæ·»åŠ ä¸‹é¢ä¸¤è¡Œ12cas.tgc.secure=falsecas.serviceRegistry.initFromJson=true1# vi /usr/local/tomcat/webapps/cas/WEB-INF/classes/services/HTTPSandIMAPS-10000001.jsonå°†&quot;serviceId&quot; : &quot;^(https|imaps)://.*&quot;,æ”¹ä¸º&quot;serviceId&quot; : &quot;^(https|http|imaps)://.*&quot;,ï¼Œå¦‚å›¾å†æ¬¡ç™»å½•æµ‹è¯•è¿™æ¬¡ç»ˆäºæ­£å¸¸äº†ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç ç‚¹å‡»ç™»å½•ï¼Œå°±ä¼šè·³è½¬åˆ°æˆæƒé¡µé¢ç‚¹å‡» Allow å³å¯æˆåŠŸæˆæƒè·³è½¬è‡³æœ¬åšå®¢ï¼Œæˆ‘ä»¬ä¼šæ³¨æ„åˆ° uri ä¼šæºå¸¦ä¸€ä¸ª codeï¼Œè¿™å°±æ˜¯ CAS ç›®å‰åœ¨ oauth2.0 æˆæƒä¸­æœ€ä¸ºå®Œå–„çš„ code æˆæƒæ¨¡å¼äº†ã€‚è‡³æ­¤ï¼Œ CAS 5.3 é›†æˆ oauth2.0 çš„æˆæƒå·²ç»æ­å»ºå®Œæ¯•æ•´åˆ openLDAP1# vi /usr/local/tomcat/webapps/cas/WEB-INF/classes/application.propertiesæ³¨é‡Šæ‰é»˜è®¤çš„ cas.authn.accept.users è®¤è¯æ–¹å¼å¹¶æ·»åŠ ä¸LDAP Serverè¿æ¥çš„é…ç½®(è¯·æ ¹æ®è‡ªå·±çš„LDAPæœåŠ¡å™¨ä¿¡æ¯è¿›è¡Œä¿®æ”¹)12345678910111213141516171819202122232425262728293031323334353637383940414243444546### CAS Authentication Credentials## cas.authn.accept.users=casuser::Melloncas.authn.ldap[0].principalAttributeList=sn,cn:commonName,givenName,eduPersonTargettedId:SOME_IDENTIFIERcas.authn.ldap[0].collectDnAttribute=falsecas.authn.ldap[0].principalDnAttributeName=principalLdapDncas.authn.ldap[0].allowMultiplePrincipalAttributeValues=truecas.authn.ldap[0].allowMissingPrincipalAttributeValue=truecas.authn.ldap[0].credentialCriteria=cas.authn.attributeRepository.ldap[0].attributes.uid=uidcas.authn.attributeRepository.ldap[0].attributes.displayName=displayNamecas.authn.attributeRepository.ldap[0].attributes.cn=commonNamecas.authn.attributeRepository.ldap[0].attributes.affiliation=groupMembershipcas.authn.ldap[0].ldapUrl=ldap://devops.iamzhl.top:389cas.authn.ldap[0].bindDn=cn=Manager,dc=iamzhl,dc=topcas.authn.ldap[0].bindCredential=passwdcas.authn.ldap[0].poolPassivator=BINDcas.authn.ldap[0].connectionStrategy=cas.authn.ldap[0].providerClass=org.ldaptive.provider.unboundid.UnboundIDProvidercas.authn.ldap[0].connectTimeout=5000cas.authn.ldap[0].trustCertificates=cas.authn.ldap[0].keystore=cas.authn.ldap[0].keystorePassword=cas.authn.ldap[0].keystoreType=PKCS12cas.authn.ldap[0].minPoolSize=3cas.authn.ldap[0].maxPoolSize=10cas.authn.ldap[0].validateOnCheckout=truecas.authn.ldap[0].validatePeriodically=truecas.authn.ldap[0].validatePeriod=500cas.authn.ldap[0].validateTimeout=5000cas.authn.ldap[0].failFast=truecas.authn.ldap[0].idleTime=500cas.authn.ldap[0].prunePeriod=24cas.authn.ldap[0].blockWaitTime=5000cas.authn.ldap[0].useSsl=falsecas.authn.ldap[0].useStartTls=falsecas.authn.ldap[0].responseTimeout=8000cas.authn.ldap[0].allowMultipleDns=falsecas.authn.ldap[0].name=cas.authn.ldap[0].type=AUTHENTICATEDcas.authn.ldap[0].searchFilter=uid=&#123;user&#125;#cas.authn.ldap[0].enhanceWithEntryResolver=truecas.authn.ldap[0].derefAliases=NEVERcas.authn.ldap[0].dnFormat=uid=%s,ou=People,dc=iamzhl,dc=topcas.authn.ldap[0].baseDn=ou=People,dc=iamzhl,dc=topé‡å¯ Tomcat æŸ¥çœ‹æ—¥å¿—123# shutdown.sh# startup.sh# tail -f /usr/local/tomcat/logs/catalina.outæ–°å»ºä¸€ä¸ª openLDAP ç”¨æˆ· test / 123456æ‰“å¼€ CAS ç½‘å€æµ‹è¯• http://devops.iamzhl.top:8080/cas/loginè¾“å…¥ç”¨æˆ·åå¯†ç ç™»é™†æˆåŠŸæ—¥å¿—è¾“å‡ºå¦‚ä¸‹è‡³æ­¤ï¼ŒCAS 5.3 æ•´åˆ openLDAP ç»“æŸã€‚è‡ªå®šä¹‰ç™»å‡ºè·³è½¬ç•Œé¢æŸäº›æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å¯¹ç™»å‡ºè¿›è¡Œå®šåˆ¶ï¼Œæ¯”å¦‚ç­‰å‡ºåè·³è½¬åˆ°ç­‰å‡ºç•Œé¢ï¼Œåœ¨CAS 5.3ä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œç›´æ¥ä¿®æ”¹å‰ç«¯çš„HTMLé¡µé¢æ— æ³•å®Œæˆç™»å‡ºçš„å®šåˆ¶è·³è½¬ï¼Œä¸è¿‡å®˜æ–¹æä¾›äº†æ›´ä¸ºæ–¹ä¾¿çš„è®¾ç½®æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶application.propertiesæ¥å®ç°ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹12345cas.logout.followServiceRedirects=truecas.logout.redirectParameter=servicecas.logout.redirectUrl=https://default.cas.comcas.logout.confirmLogout=falsecas.logout.removeDescendantTickets=trueè¯·æ ¹æ®éœ€è¦å°†å…¶ä¸­çš„redirectUrlæ”¹ä¸ºè¦å®šåˆ¶çš„ç™»å‡ºè·³è½¬é“¾æ¥è‡ªå®šä¹‰é»˜è®¤çš„ç™»å½•è·³è½¬ç•Œé¢ç™»å‡ºè·³è½¬å¯ä»¥å®šåˆ¶ï¼Œç™»å½•çš„ä¹Ÿå¯ä»¥ï¼Œæœ‰äº›æ—¶å€™ï¼Œå¯èƒ½éœ€è¦åœ¨ç›´æ¥è®¿é—®çš„CASçš„æ—¶å€™ï¼Œç™»é™†æˆåŠŸåç›´æ¥è·³è½¬åˆ°æŒ‡å®šçš„ç•Œé¢ï¼Œæ¯”å¦‚ç›´æ¥è®¿é—®http://devops.iamzhl.top:8080/casï¼Œéœ€è¦è·³è½¬åˆ°http://devops.iamzhl.top/index.htmlï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨application.propertiesä¸­æ·»åŠ ä»¥ä¸‹å±æ€§1cas.view.defaultRedirectUrl=http://devops.iamzhl.top/index.htmlè‡ªå®šä¹‰ç™»å½•ç•Œé¢ä¸»é¢˜åœ¨cas/WEB-INF/classes/static/themesä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ä»¥è¦è®¾ç½®çš„ä¸»é¢˜åå‘½åï¼Œæ¯”å¦‚devopsï¼Œåœ¨æ­¤ç›®å½•ä¸‹å»ºç«‹jsã€cssä»¥åŠimagesç­‰é™æ€èµ„æºæ–‡ä»¶å¤¹ï¼Œå°†å®šåˆ¶çš„é™æ€èµ„æºä¿å­˜å¥½ï¼Œç»“æ„å¦‚ä¸‹\u0011ç„¶ååœ¨application.propertiesæ·»åŠ ä»¥ä¸‹å±æ€§1cas.theme.defaultThemeName=devops","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://blog.iamzhl.top/categories/è¿ç»´/"}],"tags":[{"name":"CAS","slug":"CAS","permalink":"https://blog.iamzhl.top/tags/CAS/"}]},{"title":"CentOS 7 å®‰è£…éƒ¨ç½²é‚®ä»¶æœåŠ¡å™¨","slug":"Install-and-deploy-mail-server-on-CentOS-7","date":"2018-10-19T13:31:24.000Z","updated":"2019-03-11T16:21:49.893Z","comments":true,"path":"Install-and-deploy-mail-server-on-CentOS-7.html","link":"","permalink":"https://blog.iamzhl.top/Install-and-deploy-mail-server-on-CentOS-7.html","excerpt":"","text":"æœ¬æ–‡ç¯å¢ƒCentOS 7.2 1511å¼€å§‹å®‰è£…å®‰è£…postfix1# yum -y install postfixå¦‚æœæœºå™¨å·²ç»å®‰è£…äº†sendmailï¼Œéœ€è¦å°†å…¶å¸è½½ï¼Œä¸‹é¢ä¸¤æ¡å‘½ä»¤å‡å¯12# yum -y remove sendmail# rpm -e sendmailä¿®æ”¹MTA(é»˜è®¤é‚®ä»¶ä»£ç†)1# alternatives --config mtaæ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸ1# alternatives --display mtaè¿™é‡Œæˆ‘å·²ç»å®‰è£…è¿‡postfixäº†å®‰è£…dovecot1# yum -y install dovecoté…ç½®postfix1# vi /etc/postfix/main.cfä¿®æ”¹ä»¥ä¸‹å‚æ•°123456789myhostname = mail.zhanghl.cn # å–æ¶ˆæ³¨é‡Šï¼Œè®¾ç½®hostnamemydomain = zhanghl.cn # å–æ¶ˆæ³¨é‡Šï¼Œè®¾ç½®åŸŸåmyorigin = $mydomain # å–æ¶ˆæ³¨é‡Šinet_interfaces = all # ä¿®æ”¹ä¸ºallinet_protocols = ipv4 # ä¿®æ”¹ipv4ï¼Œå¦‚æœæ”¯æŒipv6ï¼Œåˆ™å¯ä»¥ä¸ºallmydestination = $myhostname, localhost.$mydomain, localhost, $mydomain # ä¿®æ”¹åœ¨æœ€åæ·»åŠ $mydomainmynetworks = 127.0.0.0/8, 10.0.0.0/24 # å–æ¶ˆæ³¨é‡Šï¼ŒæŒ‡å®šå†…ç½‘å’Œæœ¬åœ°çš„IPåœ°å€èŒƒå›´home_mailbox = Maildir/ # å–æ¶ˆæ³¨é‡Šï¼Œé‚®ä»¶ä¿å­˜ç›®å½•smtpd_banner = $myhostname ESMTP $mail_name ($mail_version) # å–æ¶ˆæ³¨é‡Šï¼Œé‚®ä»¶æœåŠ¡å™¨æ¬¢è¿ä¿¡æ¯æ–‡ä»¶æœ€åæ·»åŠ ä»¥ä¸‹å†…å®¹1234567891011# Setup max mail attachment to 10Mmessage_size_limit = 10485760# Setup max capacity of Inbox to 1Gmailbox_size_limit = 1073741824# SMTP Authenticationsmtpd_sasl_type = dovecotsmtpd_sasl_path = private/authsmtpd_sasl_auth_enable = yessmtpd_sasl_security_options = noanonymoussmtpd_sasl_local_domain = $myhostnamesmtpd_recipient_restrictions = permit_mynetworks,permit_auth_destination,permit_sasl_authenticated,rejectå¯åŠ¨å¹¶è®¾ç½®è‡ªå¯åŠ¨12# systemctl start postfix //å¯åŠ¨# systemctl enable postfix //è‡ªå¯åŠ¨é…ç½®dovecot1# vim /etc/dovecot/dovecot.conf1listen = * //å–æ¶ˆæ³¨é‡Šå¹¶ä¿®æ”¹1# vim /etc/dovecot/conf.d/10-auth.conf12disable_plaintext_auth = no //å–æ¶ˆæ³¨é‡Šå¹¶ä¿®æ”¹auth_mechanisms = plain login //ä¿®æ”¹æ·»åŠ login1# vim /etc/dovecot/conf.d/10-mail.conf1mail_location = maildir:~/Maildir //ä¿®æ”¹è®¾ç½®é‚®ä»¶å­˜å‚¨ä½ç½®1# vim /etc/dovecot/conf.d/10-master.confå–æ¶ˆæ³¨é‡Šå¹¶æ·»åŠ userå’Œgroupå±æ€§12345unix_listener /var/spool/postfix/private/auth &#123; mode = 0666 user = postfix group = postfix&#125;å¯åŠ¨å¹¶è®¾ç½®è‡ªå¯åŠ¨12# systemctl start dovecot //å¯åŠ¨# systemctl enable dovecot //è‡ªå¯åŠ¨åŸŸåè§£ææ·»åŠ ä¸€ä¸ªå­åŸŸåmailï¼ŒAè®°å½•è§£æåˆ°æœåŠ¡å™¨IPã€‚å†æ·»åŠ ä¸€ä¸ªMXè®°å½•ï¼Œä¸»æœºè®°å½•ä¸ºç©ºï¼Œè®°å½•å€¼ä¸ºä¸Šé¢è§£æçš„äºŒçº§åŸŸåmail.zhanghl.cnï¼Œä¼˜å…ˆçº§10ã€‚æ³¨æ„ï¼šè§£æç”Ÿæ•ˆå¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´ã€‚ä¹Ÿå¯ä»¥ä¿®æ”¹/etc/hostsæ·»åŠ é‚®ä»¶æœåŠ¡å™¨åŸŸåå®ç°ã€‚1# vim /etc/hostsæµ‹è¯•é‚®ç®±é¦–å…ˆå®‰è£…telnetï¼Œç”±äºCentOS 7å·²ç»é»˜è®¤æ²¡æœ‰äº†xinetdå’Œtelnetï¼Œå› æ­¤éœ€è¦å®‰è£…1# yum -y install xinetd telnet telnet-serverè®¾ç½®xinetdå¯åŠ¨å¹¶è‡ªå¯åŠ¨12# systemctl start xinetd# systemctl enable xinetdåˆ©ç”¨telnetæµ‹è¯•é‚®ä»¶æœåŠ¡å™¨123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105[zhanghl@centos-7 ~]$ telnet zhanghl.cn 25Trying 127.0.0.1...Connected to zhanghl.cn.Escape character is '^]'.220 mail.zhanghl.cn ESMTP Postfix (2.10.1)mail from:zhanghl250 2.1.0 Okrcpt to:root250 2.1.5 Okdata354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;Hello, i'm zhanghl!.250 2.0.0 Ok: queued as 731144191B7Fquit221 2.0.0 ByeConnection closed by foreign host.[zhanghl@centos-7 ~]$ telnet zhanghl.cn 110Trying 127.0.0.1...Connected to zhanghl.cn.Escape character is '^]'.+OK Dovecot ready.user zhanghl+OKpass 123456+OK Logged in.list+OK 1 messages:1 2381.retr 1+OK 2381 octetsReturn-Path: &lt;&gt;X-Original-To: zhanghl@zhanghl.cnDelivered-To: zhanghl@zhanghl.cnReceived: by mail.zhanghl.cn (Postfix) id 61E594191B92; Fri, 19 Oct 2018 22:44:27 +0800 (CST)Date: Fri, 19 Oct 2018 22:44:27 +0800 (CST)From: MAILER-DAEMON@zhanghl.cn (Mail Delivery System)Subject: Undelivered Mail Returned to SenderTo: zhanghl@zhanghl.cnAuto-Submitted: auto-repliedMIME-Version: 1.0Content-Type: multipart/report; report-type=delivery-status; boundary=\"731144191B7F.1539960267/mail.zhanghl.cn\"Message-Id: &lt;20181019144427.61E594191B92@mail.zhanghl.cn&gt;This is a MIME-encapsulated message.--731144191B7F.1539960267/mail.zhanghl.cnContent-Description: NotificationContent-Type: text/plain; charset=us-asciiThis is the mail system at host mail.zhanghl.cn.I'm sorry to have to inform you that your message could notbe delivered to one or more recipients. It's attached below.For further assistance, please send mail to postmaster.If you do so, please include this problem report. You candelete your own text from the attached returned message. The mail system&lt;root@zhanghl.cn&gt; (expanded from &lt;root&gt;): maildir delivery failed: create maildir file /root/Maildir/tmp/1539960267.P14995.centos-7.shared: Permission denied--731144191B7F.1539960267/mail.zhanghl.cnContent-Description: Delivery reportContent-Type: message/delivery-statusReporting-MTA: dns; mail.zhanghl.cnX-Postfix-Queue-ID: 731144191B7FX-Postfix-Sender: rfc822; zhanghl@zhanghl.cnArrival-Date: Fri, 19 Oct 2018 22:43:58 +0800 (CST)Final-Recipient: rfc822; root@zhanghl.cnOriginal-Recipient: rfc822;rootAction: failedStatus: 5.2.0Diagnostic-Code: X-Postfix; maildir delivery failed: create maildir file /root/Maildir/tmp/1539960267.P14995.centos-7.shared: Permission denied--731144191B7F.1539960267/mail.zhanghl.cnContent-Description: Undelivered MessageContent-Type: message/rfc822Return-Path: &lt;zhanghl@zhanghl.cn&gt;Received: from mail.zhanghl.cn (mail.zhanghl.cn [127.0.0.1]) by mail.zhanghl.cn (Postfix) with SMTP id 731144191B7F for &lt;root&gt;; Fri, 19 Oct 2018 22:43:58 +0800 (CST)Message-Id: &lt;20181019144410.731144191B7F@mail.zhanghl.cn&gt;Date: Fri, 19 Oct 2018 22:43:58 +0800 (CST)From: zhanghl@zhanghl.cnHello, i'm zhanghl!--731144191B7F.1539960267/mail.zhanghl.cn--.quit+OK Logging out.Connection closed by foreign host.[zhanghl@centos-7 ~]$ä½¿ç”¨é‚®ç®±ä¸€åˆ‡éƒ½å¼„å¥½ä»¥åï¼Œå°±å¯ä»¥ä½¿ç”¨Foxmailç­‰ç¬¬ä¸‰æ–¹è½¯ä»¶æ¥æ”¶å‘é‚®ä»¶äº†ã€‚åœ¨è¿™é‡Œéœ€è¦è¯´ä¸€ä¸‹ï¼Œç³»ç»Ÿç”¨æˆ·å°±æ˜¯é‚®ä»¶çš„ç”¨æˆ·ï¼Œä¾‹å¦‚rootï¼Œå°±æ˜¯ä¸€ä¸ªé‚®ç®±ç”¨æˆ·ï¼Œé‚®ç®±æ˜¯root@zhanghl.cnï¼Œå¯†ç å°±æ˜¯rootçš„å¯†ç ï¼Œæ‰€ä»¥éœ€è¦åˆ›å»ºç”¨æˆ·ï¼Œåªè¦ä½¿ç”¨useraddåˆ›å»ºç”¨æˆ·ï¼Œå†ä½¿ç”¨passwdè®¾ç½®å¯†ç ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://blog.iamzhl.top/categories/è¿ç»´/"},{"name":"Linux","slug":"è¿ç»´/Linux","permalink":"https://blog.iamzhl.top/categories/è¿ç»´/Linux/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://blog.iamzhl.top/tags/è¿ç»´/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.iamzhl.top/tags/Linux/"},{"name":"SMTP","slug":"SMTP","permalink":"https://blog.iamzhl.top/tags/SMTP/"},{"name":"Mail Server","slug":"Mail-Server","permalink":"https://blog.iamzhl.top/tags/Mail-Server/"}]},{"title":"TestLinkå®‰è£…éƒ¨ç½²","slug":"TestLink-install-and-deploy","date":"2018-08-26T11:51:29.000Z","updated":"2019-03-11T16:21:49.903Z","comments":true,"path":"TestLink-install-and-deploy.html","link":"","permalink":"https://blog.iamzhl.top/TestLink-install-and-deploy.html","excerpt":"","text":"TestLinkå®‰è£…éƒ¨ç½²å®‰è£…MySQLMySQLçš„Serveråœ¨CentOS 7ä¸Šä»é»˜è®¤è½¯ä»¶åˆ—è¡¨ä¸­è¢«ç§»é™¤äº†ï¼Œç”¨MariaDBæ¥ä»£æ›¿ï¼Œæ‰€ä»¥è¿™å¯¼è‡´æˆ‘ä»¬å¿…é¡»è¦å»å®˜ç½‘ä¸Šè¿›è¡Œä¸‹è½½ï¼Œæ‰¾åˆ°é“¾æ¥ï¼Œç”¨wgetæ‰“å¼€ï¼Œç„¶åå†å®‰è£…ï¼š123# wget http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm# rpm -ivh mysql57-community-release-el7-9.noarch.rpm# yum -y install mysql mysql-server mysql-develå¯åŠ¨MySQLæœåŠ¡1# systemctl start mysqldè·å–å®‰è£…MySQLæ—¶çš„åˆå§‹å¯†ç å¹¶ç™»å½•MySQL12# grep 'temporary password' /var/log/mysqld.log# mysql -u root -pç™»å½•æˆåŠŸåä¿®æ”¹å¯†ç ï¼Œé¦–å…ˆä¿®æ”¹å®‰å…¨ç­–ç•¥ä¸º0ï¼Œç„¶åå°†å¯†ç é•¿åº¦é™åˆ¶ä¿®æ”¹ä¸º1ï¼Œæœ€åä¿®æ”¹å¯†ç 123mysql&gt; set global validate_password_policy=0;mysql&gt; set global validate_password_length=1;mysql&gt; set password for root@localhost=password(&apos;root&apos;);åˆ›å»ºtestlinkç”¨æˆ·å¹¶åˆ›å»ºtestlinkè¦ç”¨çš„æ•°æ®åº“å¹¶æŠŠtestlinkæ•°æ®åº“çš„æ‰€æœ‰æƒé™èµ‹ç»™testlinkç”¨æˆ·1234mysql&gt; CREATE USER &apos;testlink&apos;@&apos;%&apos; IDENTIFIED BY &apos;root&apos;;mysql&gt; CREATE DATABASE testlink; mysql&gt; GRANT ALL ON testlink.* TO &apos;testlink&apos;@&apos;%&apos;; mysql&gt; flush privileges;è®¾ç½®MySQLå¯åŠ¨ä¸è‡ªå¯åŠ¨12# systemctl enable mysqld //è‡ªå¯åŠ¨# systemctl start mysqld //å¯åŠ¨å®‰è£…httpdå®‰è£…1# yum -y install httpdå¯åŠ¨è‡ªå¯åŠ¨12# systemctl enable httpd //è‡ªå¯åŠ¨# systemctl start httpd //å¯åŠ¨å®‰è£…PHP123# rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm# rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm# yum -y install `yum search php | grep php56w | grep -v \"===\" | grep -v mysqlnd | awk -F '.' '&#123;print $1&#125;'`æµ‹è¯•ä¸€ä¸‹PHPç¯å¢ƒå†™ä¸€ä¸ªphpinfoæµ‹è¯•phpç¯å¢ƒæ˜¯å¦æ­£å¸¸1# vim /var/www/html/info.php123&lt;?php phpinfo();?&gt;æµè§ˆå™¨æ‰“å¼€http://IP:httpdç«¯å£/info.phpå¦‚å›¾ï¼ŒPHPç¯å¢ƒå®‰è£…å®Œæˆã€‚Note:PHPæ— æ³•æ­£ç¡®è§£æï¼Œç½‘é¡µæ˜¾ç¤ºæºç çš„è§£å†³æ–¹æ³•ï¼š1$ vi /etc/php.iniå°†short_open_tag = Offä¿®æ”¹ä¸ºshort_open_tag = Onï¼Œç„¶åé‡å¯httpdæœåŠ¡å³å¯å®‰è£…TestLinkä¸‹è½½1# wget https://jaist.dl.sourceforge.net/project/testlink/TestLink%201.9/TestLink%201.9.18/testlink-1.9.18.tar.gzè§£å‹é‡å‘½å1234# tar zxvf testlink-1.9.18.tar.gz# mv testlink-1.9.18 testlink# mv testlink /var/www/html/# chown -R apache:apache /var/www/html/testlinkä¿®æ”¹é…ç½®æ–‡ä»¶12345# sed -i -e \"s/AllowOverride None/AllowOverride All/g\" /etc/httpd/conf/httpd.conf# sed -i -e \"s/DirectoryIndex index.html/DirectoryIndex index.html index.php index.shtm/g\" /etc/httpd/conf/httpd.conf# sed -i -e \"s/session.gc_maxlifetime = 1440/session.gc_maxlifetime = 2400/g\" /etc/php.ini# sed -i -e \"s/max_execution_time = 30/max_execution_time = 120/g\" /etc/php.ini# service httpd restartæ–°å»ºä¸€äº›PHPç¯å¢ƒè¦æ±‚å¿…å¤‡çš„æ–‡ä»¶å¤¹å¹¶èµ‹äºˆé€‚å½“æƒé™123456# mkdir -p /var/www/html/testlink/gui/templates_c# mkdir -p /var/testlink/logs/# mkdir -p /var/testlink/upload_area/# chmod 777 /var/www/html/testlink/gui/templates_c# chmod 777 /var/testlink/logs/# chmod 777 /var/testlink/upload_area/å®‰è£…æµè§ˆå™¨æ‰“å¼€http://IP:port/testlink/install(å°†IPæ¢æˆè‡ªå·±ä¸»æœºIPï¼Œç«¯å£å·æ¢ä¸ºè‡ªå·±ä¸»æœºçš„ApacheæœåŠ¡ç«¯å£å·)ã€‚å¦‚å›¾ï¼Œç‚¹å‡»New installationå¼€å§‹å®‰è£…é€‰ä¸­åŒæ„åè®®ï¼Œcontinueè¿›å…¥ç³»ç»Ÿç¯å¢ƒæ£€æµ‹é˜¶æ®µï¼Œè¿™ä¸€æ­¥éœ€è¦æ ¹æ®é”™è¯¯æç¤ºè¿›è¡Œé…ç½®ï¼Œå‰é¢å·²ç»åœ¨å®‰è£…phpå’Œtestlinkæ—¶è§£å†³äº†ï¼Œæ‰€ä»¥ç°åœ¨å·²ç»æ²¡æœ‰é”™è¯¯äº†ï¼Œå›¾ä¸­æ©™è‰²çš„æç¤ºå¯ä»¥å¿½ç•¥ï¼Œç‚¹å‡»continueå¦‚å›¾ï¼Œè®¾å®šæ•°æ®åº“ç®¡ç†å‘˜ç™»å½•è´¦æˆ·å¯†ç ï¼Œè‡ªå®šä¹‰TestLinkçš„æ•°æ®åº“ç™»å½•è´¦æˆ·å¯†ç ï¼Œå…¶ä½™å‡ä¿æŒé»˜è®¤ï¼Œç‚¹å‡»Process TestLink Setupè¿™é‡Œæœ‰ä¸€ç‚¹æç¤ºï¼Œå¦‚ä¸Šå›¾ä¸­é»‘ä½“æ‰€è¯´ ï¼Œéœ€è¦æ‰‹åŠ¨å¯¼å…¥udf0ç»“å°¾çš„sqlæ–‡ä»¶ï¼Œåªéœ€åœ¨mysqlå‘½ä»¤è¡Œä¸­æ‰§è¡Œsource /var/www/html/testlink/install/sql/mysql/testlink_create_udf0.sqlå³å¯ï¼Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œéœ€è¦æ‰‹åŠ¨ä¿®æ”¹å…¶ä¸­çš„useå­—æ®µï¼Œå¦‚ä¸‹å›¾ï¼Œä¿®æ”¹ä¸ºmysqlæ–°å»ºçš„testlinkæ•°æ®åº“åå¦‚æœå®‰è£…åˆ°æœ€åå‡ºç°äº†æ‰“å°æ•°æ®åº“è°ƒè¯•ä¿¡æ¯ï¼Œè¯·æ£€æŸ¥phpçš„mysqlæ¨¡å—ï¼Œå‘½ä»¤æ˜¯php -m | grep mysqlï¼Œå¦‚ä¸‹å›¾åˆ™æ˜¯æ­£å¸¸çš„å¦‚æœæç¤ºåŠ¨æ€åº“æ— æ³•åŠ è½½ä¹‹ç±»çš„é”™è¯¯ï¼Œåªéœ€é‡æ–°å®‰è£…php-mysqlï¼Œç„¶åé‡å¯php-fpmå’Œhttpdå³å¯ç™»å½•å®‰è£…å®Œæˆç½‘å€è¾“å…¥http://IP/testlinkå³å¯è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢ï¼Œé»˜è®¤ç”¨æˆ·admin/admin","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.iamzhl.top/categories/Linux/"},{"name":"è¿ç»´","slug":"Linux/è¿ç»´","permalink":"https://blog.iamzhl.top/categories/Linux/è¿ç»´/"}],"tags":[{"name":"TestLink","slug":"TestLink","permalink":"https://blog.iamzhl.top/tags/TestLink/"}]},{"title":"CentOS å®‰è£…éƒ¨ç½² Gerrit","slug":"Gerrit-install-and-deploy","date":"2018-08-22T03:36:45.000Z","updated":"2019-03-11T16:21:49.890Z","comments":true,"path":"Gerrit-install-and-deploy.html","link":"","permalink":"https://blog.iamzhl.top/Gerrit-install-and-deploy.html","excerpt":"","text":"Gerrit å®‰è£…é…ç½®è¿‡ç¨‹å®‰è£…è¿‡ç¨‹å¦‚ä¸‹æ­¥éª¤ä¸€ï¼šåˆ›å»ºä¸“ç”¨è´¦æˆ·å’Œå·¥ä½œç›®å½•12# adduser gerrit // åˆ›å»ºä¸“ç”¨è´¦æˆ·# passwd gerrit //ä¸ºä¸“æœ‰è´¦æˆ·è®¾ç½®å¯†ç æ­¥éª¤äºŒï¼šé…ç½®Javaç¯å¢ƒå»å®˜ç½‘ä¸‹è½½JDKï¼šhttp://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.htmlå®‰è£…JDKå°†ä¸‹è½½å¾—åˆ°çš„jdk-8u161-linux-x64.rpmåŒ…ä¿å­˜åˆ°Linuxä¸»æœº1# rpm -ivh jdk-8u161-linux-x64.rpmè®¾ç½®ç¯å¢ƒå˜é‡ï¼Œç¼–è¾‘~/.bashrcï¼Œ1# vim ~/.bashrcåœ¨æ–‡ä»¶çš„æœ«å°¾æ·»åŠ ä»¥ä¸‹è¡Œ1234export JAVA_HOME=/usr/java/jdk1.8.0_161export JRE_HOME=$JAVA_HOME/jreexport CLASSPATH=$JAVA_HOME/libexport PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin:$CLASSPATHä½¿ç¯å¢ƒé…ç½®ç”Ÿæ•ˆ1# source ~/.bashrcæµ‹è¯•Javaç¯å¢ƒï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼šjava -versionæŸ¥çœ‹æ˜¯å¦æ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼Œè‹¥æ˜¾ç¤ºåˆ™å®‰è£…æˆåŠŸæ­¥éª¤ä¸‰ï¼šå®‰è£…MySQLMySQLçš„Serveråœ¨CentOS 7ä¸Šä»é»˜è®¤è½¯ä»¶åˆ—è¡¨ä¸­è¢«ç§»é™¤äº†ï¼Œç”¨MariaDBæ¥ä»£æ›¿ï¼Œæ‰€ä»¥è¿™å¯¼è‡´æˆ‘ä»¬å¿…é¡»è¦å»å®˜ç½‘ä¸Šè¿›è¡Œä¸‹è½½ï¼Œæ‰¾åˆ°é“¾æ¥ï¼Œç”¨wgetæ‰“å¼€ï¼Œç„¶åå†å®‰è£…ï¼š123# wget http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm# rpm -ivh mysql57-community-release-el7-9.noarch.rpm# yum -y install mysql mysql-server mysql-develå¯åŠ¨MySQLæœåŠ¡1# systemctl start mysqldè·å–å®‰è£…MySQLæ—¶çš„åˆå§‹å¯†ç å¹¶ç™»å½•MySQL12# grep 'temporary password' /var/log/mysqld.log# mysql -u root -pç™»å½•æˆåŠŸåä¿®æ”¹å¯†ç ï¼Œé¦–å…ˆä¿®æ”¹å®‰å…¨ç­–ç•¥ä¸º0ï¼Œç„¶åå°†å¯†ç é•¿åº¦é™åˆ¶ä¿®æ”¹ä¸º1ï¼Œæœ€åä¿®æ”¹å¯†ç 123mysql&gt; set global validate_password_policy=0;mysql&gt; set global validate_password_length=1;mysql&gt; set password for root@localhost=password(&apos;root&apos;);åˆ›å»ºgerritç”¨æˆ·1mysql&gt; CREATE USER &apos;gerrit&apos;@&apos;%&apos; IDENTIFIED BY &apos;123456&apos;;åˆ›å»ºgerritè¦ç”¨çš„æ•°æ®è¡¨1mysql&gt; CREATE DATABASE ReviewDB;æŠŠReviewDBçš„æ‰€æœ‰æƒé™èµ‹ç»™gerrit1mysql&gt; GRANT ALL ON ReviewDB.* TO &apos;gerrit&apos;@&apos;%&apos;;æ­¥éª¤å››ï¼šå®‰è£…Git1# yum -y install gitæ­¥éª¤äº”ï¼šä¸‹è½½å®‰è£…gerritä»å®˜ç½‘ä¸‹è½½gerritï¼Œå­˜æ”¾äº/home/gerritç›®å½•ï¼š1# wget https://gerrit-releases.storage.googleapis.com/gerrit-2.15.5.warå®‰è£…gerritï¼šé¦–å…ˆåˆ‡æ¢ä¸ºgerritç”¨æˆ·ï¼Œç„¶åè¿è¡Œgerritçš„waråŒ…123# su gerrit$ cd $ java -jar gerrit-2.15.war init -d review_siteä¸€è·¯å›è½¦é»˜è®¤å®‰è£…(å…¶ä¸­çš„è®¤è¯æ–¹å¼å¤„æ”¹ä¸ºHTTP)1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798[root@centos-7 gerrit]# su gerrit[gerrit@centos-7 ~]$ llæ€»ç”¨é‡ 83864-rwxr-xr-x. 1 root root 85872756 8æœˆ 21 12:49 gerrit-2.14.war[gerrit@centos-7 ~]$ java -jar gerrit-2.15.5.war init -d review_siteUsing secure store: com.google.gerrit.server.securestore.DefaultSecureStore[2018-08-21 12:51:37,463] [main] INFO com.google.gerrit.server.config.GerritServerConfigProvider : No /home/gerrit/review_site/etc/gerrit.config; assuming defaults*** Gerrit Code Review 2.15.5***Create '/home/gerrit/review_site' [Y/n]?*** Git Repositories***Location of Git repositories [git]:*** SQL Database***Database server type [h2]:*** Index***Type [LUCENE/?]:*** User Authentication***Authentication method [OPENID/?]: HTTPGet username from custom HTTP header [y/N]?SSO logout URL :Enable signed push support [y/N]?*** Review Labels***Install Verified label [y/N]?*** Email Delivery***SMTP server hostname [localhost]:SMTP server port [(default)]:SMTP encryption [NONE/?]:SMTP username :*** Container Process***Run as [gerrit]:Java runtime [/usr/java/jdk1.8.0_161/jre]:Copy gerrit-2.15.5.war to review_site/bin/gerrit.war [Y/n]?Copying gerrit-2.15.5.war to review_site/bin/gerrit.war*** SSH Daemon***Listen on address [*]:Listen on port [29418]:Generating SSH host key ... rsa... dsa... done*** HTTP Daemon***Behind reverse proxy [y/N]?Use SSL (https://) [y/N]?Listen on address [*]:Listen on port [8080]:Canonical URL [http://centos-7.shared:8080/]:*** Cache****** Plugins***Installing plugins.Install plugin commit-message-length-validator version v2.15.5 [y/N]?Install plugin download-commands version v2.15.5 [y/N]?Install plugin hooks version v2.15.5 [y/N]?Install plugin replication version v2.15.5 [y/N]?Install plugin reviewnotes version v2.15.5 [y/N]?Install plugin singleusergroup version v2.15.5 [y/N]?Initializing plugins.No plugins found with init steps.Initialized /home/gerrit/review_siteExecuting /home/gerrit/review_site/bin/gerrit.sh startStarting Gerrit Code Review: OKWaiting for server on centos-7.shared:8080 ... OKOpening http://centos-7.shared:8080/#/admin/projects/ ...FAILEDOpen Gerrit with a JavaScript capable browser: http://centos-7.shared:8080/#/admin/projects/[gerrit@centos-7 ~]$æˆæƒæ–‡ä»¶å¤¹æƒé™ç»™gerritç”¨æˆ·ï¼š1# chown -R gerrit:gerrit review_siteä¿®æ”¹gerrité…ç½®æ–‡ä»¶ï¼Œè¯´æ˜å¦‚ä¸‹1$ vim review_site/etc/gerrit.config12345678910111213141516171819[gerrit] basePath = git //æŒ‡å®šè¢«gerritç®¡ç†çš„æ‰€æœ‰gitåº“å­˜æ”¾ä½ç½®ï¼Œå³review_site_project/git/ canonicalWebUrl = http://10.211.55.19:8081/project //æŒ‡å®šwebè®¿é—®gerritçš„ç½‘å€//å¡«è‡ªå·±çš„ipå’Œç«¯å£å·[database] type = mysql //æŒ‡å®šgerritæ‰€é»˜è®¤æ•°æ®åº“ç±»å‹ï¼Œå¯ä»¥é€‰ç”¨mysqlï¼Œå®‰è£…å¹¶åˆ›å»ºgerritè´¦æˆ· database = /home/gerrit/review_site/db/ReviewDB[auth] type = HTTP //æŒ‡å®šæµè§ˆå™¨ç™»å½•gerritæ—¶çš„è®¤è¯æ–¹å¼[sendemail] smtpServer = localhost //å±€åŸŸç½‘é‚®ä»¶æœåŠ¡å™¨ï¼Œå¯ä½¿ç”¨hMailSeveræ­å»º[container] user = gerrit //æŒ‡å®šgerritæ‰€åœ¨æœºå™¨çš„ç”¨æˆ·èº«ä»½ä¸ä¸Šæ–‡åˆ›å»ºçš„ç”¨æˆ·å¯¹åº”ä¸€è‡´,å¯ä»¥æ˜¯root javaHome = /usr/java/jdk1.8.0_161/jre[sshd] listenAddress = *:29418 //æŒ‡å®šsshdæœåŠ¡ç›‘å¬çš„ç«¯å£å·[httpd] listenUrl = http://*:8081/ //æŒ‡å®šhttpä»£ç†åœ°å€[cache] directory = cache //ç¼“å­˜ä½ç½®é‡å¯gerritæœåŠ¡1$ review_site/bin/gerrit.sh restartè®¾ç½®gerritæœåŠ¡å¼€æœºå¯åŠ¨1# ln -snf /home/gerrit/review_site/bin/gerrit.sh /etc/init.d/gerrit.shæ­¥éª¤å…­ï¼šé…ç½®åå‘ä»£ç†æœåŠ¡(nginx)è¯´æ˜ï¼š å±€åŸŸç½‘æœ¬åœ°å®‰è£…ï¼Œè®¾ç½®æœ¬åœ°repoåº“å®‰è£…nginxåå‘ä»£ç†æœåŠ¡å™¨å®‰è£…gcc-c++ pcre pcre-devel zlib zlib-devel opensslï¼š1# yum -y install gcc-c++ pcre pcre-devel zlib zlib-devel opensslå®‰è£…å¯åŠ¨nginxå¹¶è®¾ç½®è‡ªå¯åŠ¨12345# rpm -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm# yum update &amp;&amp; yum -y install nginx # systemctl enable nginxCreated symlink from /etc/systemd/system/multi-user.target.wants/nginx.service to /usr/lib/systemd/system/nginx.service.# systemctl start nginxé…ç½®nginxï¼š1# vim /etc/nginx/conf.d/default.conf12345678910111213141516171819202122232425262728server &#123; listen 82; server_name localhost; auth_basic &quot;Welcome to Gerrit Code Review !&quot;; auth_basic_user_file /home/gerrit/review_site/etc/passwd; #charset koi8-r; #access_log /var/log/nginx/host.access.log main; location / &#123; #root /usr/share/nginx/html; #index index.html index.htm index.php index.jsp; proxy_pass http://127.0.0.1:8081; #proxy_set_header X-Forwarded-For $remote_addr; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; &#125; #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html &#123; root /usr/share/nginx/html; &#125;å¯åŠ¨nginxæœåŠ¡ï¼š1234# setenforce 0 //å…³é—­selinuxä»¥é¿å…é€ æˆæƒé™é—®é¢˜# systemctl disable firewalld //ç¦ç”¨é˜²ç«å¢™# systemctl stop firewalld //å…³é—­é˜²ç«å¢™# systemctl start nginxè®¾ç½®ç¬¬ä¸€ä¸ªgerritç”¨æˆ·çš„è´¦å·å’Œå¯†ç è¦ç”¨åˆ°htpasswdå‘½ä»¤éœ€è¦é¦–å…ˆå®‰è£…æœ‰httpd123# yum -y install httpd$ touch ./review_site/etc/passwd$ htpasswd -b ./review_site/etc/passwd gerrit 123456æ­¥éª¤ä¸ƒï¼šå®‰è£…é…ç½®gitwebå®‰è£…gitweb,æœ€å¥½åœ¨è”ç½‘ç¯å¢ƒä¸‹å®‰è£…ï¼Œæˆ–è€…åœ¨ç¦»çº¿ç¯å¢ƒä¸‹ä¸‹è½½å¯¹åº”çš„ä¾èµ–åŒ…1# yum -y install gitwebé…ç½®gitweb,ä¸gerrité›†æˆä¿®æ”¹gitwebçš„é…ç½®æ–‡ä»¶ï¼ˆ/etc/gitweb.confï¼‰ï¼Œå°†é…ç½®é¡¹ â€œ$projectrootâ€ä¿®æ”¹ä¸ºgerritçš„gitä»“åº“ç›®å½•ã€‚ä¿®æ”¹/home/gerrit/review_site/etc/gerrit.config,æ·»åŠ ï¼šé…ç½®gerritæƒé™ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•gerrit,ä¿®æ”¹All-Projectsçš„æƒé™ï¼Œä¸ºrefs/*å’Œrefs/meta/configçš„Readé…ç½®é¡¹é…ç½®åˆé€‚çš„æƒé™ã€‚æ³¨æ„ï¼šå¦‚æœä½ æ˜¯åœ¨rootç”¨æˆ·ä¸‹è¾“å…¥ä¸Šé¢çš„å‘½ä»¤ åˆ›å»ºäº†passwordæ–‡ä»¶åˆ°/home/gerrit/review_site/etcç›®å½•ä¸­,ä½ ä¼šå‘ç°åœ¨ç™»å½•çš„æ—¶å€™æ°¸è¿œç™»å½•ä¸æˆåŠŸ,æ°¸è¿œä¼šå¾—åˆ°æœåŠ¡å™¨500çš„é”™è¯¯é¡µé¢ã€‚åŸå› æ˜¯passwordæ–‡ä»¶çš„æƒé™é—®é¢˜ã€‚æˆ‘ä»¬çŸ¥é“,/home/gerrit/æ˜¯æˆ‘ä»¬ä¹‹å‰æ–°å»ºçš„gerritç”¨æˆ·çš„,é‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å¤¹çš„æƒé™æ˜¯700,ä¹Ÿå°±æ˜¯åªå…è®¸gerritç”¨æˆ·è®¿é—®,å…¶ä»–ç»„çš„ç”¨æˆ·æ˜¯è®¿é—®ä¸äº†çš„,è™½ç„¶è¿™ä¸ªæ–‡ä»¶çš„æƒé™æ‹¥æœ‰rootç”¨æˆ·çš„æ‰€æœ‰æƒé™,ä½†æ˜¯å› ä¸ºå®ƒæ”¾åœ¨700æƒé™çš„æ–‡ä»¶å¤¹ä¸‹é¢,æ‰€ä»¥åŒæ ·å…¶ä»–ç”¨æˆ·æ˜¯è®¿é—®ä¸åˆ°çš„ã€‚è§£å†³æ–¹æ³•å¦‚ä¸‹1# chown -R gerrit:gerrit /home/gerrité‡å¯gerritæœåŠ¡å’ŒNginxæœåŠ¡é‡å¯gerritå’ŒnginxæœåŠ¡12$ /home/gerrit/review_site/bin/gerrit.sh restart# systemctl restart nginxæ­¥éª¤å…«ï¼šæµ‹è¯•è®¿é—®http://localhostï¼Œç”¨gerritç”¨æˆ·ç™»å½•ï¼Œç™»å½•ç•Œé¢å¦‚ä¸‹","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.iamzhl.top/categories/Linux/"},{"name":"è¿ç»´","slug":"Linux/è¿ç»´","permalink":"https://blog.iamzhl.top/categories/Linux/è¿ç»´/"}],"tags":[{"name":"Gerrit","slug":"Gerrit","permalink":"https://blog.iamzhl.top/tags/Gerrit/"},{"name":"ä»£ç å®¡æŸ¥","slug":"ä»£ç å®¡æŸ¥","permalink":"https://blog.iamzhl.top/tags/ä»£ç å®¡æŸ¥/"}]},{"title":"Jenkins é…ç½®éƒ¨ç½²","slug":"Jenkins-configure-and-deploy","date":"2018-08-22T03:36:45.000Z","updated":"2019-03-11T16:21:49.895Z","comments":true,"path":"Jenkins-configure-and-deploy.html","link":"","permalink":"https://blog.iamzhl.top/Jenkins-configure-and-deploy.html","excerpt":"","text":"Jenkins é…ç½®éƒ¨ç½²ç®€ä»‹Jenkinsæ˜¯ä¸€ä¸ªå¼€æºçš„ã€æä¾›å‹å¥½æ“ä½œç•Œé¢çš„æŒç»­é›†æˆ(CI)å·¥å…·ï¼Œèµ·æºäºHudsonï¼ˆHudsonæ˜¯å•†ç”¨çš„ï¼‰ï¼Œä¸»è¦ç”¨äºæŒç»­ã€è‡ªåŠ¨çš„æ„å»º/æµ‹è¯•è½¯ä»¶é¡¹ç›®ã€ç›‘æ§å¤–éƒ¨ä»»åŠ¡çš„è¿è¡Œã€‚Jenkinsç”¨Javaè¯­è¨€ç¼–å†™ï¼Œå¯åœ¨Tomcatç­‰æµè¡Œçš„servletå®¹å™¨ä¸­è¿è¡Œï¼Œä¹Ÿå¯ç‹¬ç«‹è¿è¡Œã€‚é€šå¸¸ä¸ç‰ˆæœ¬ç®¡ç†å·¥å…·(SCM)ã€æ„å»ºå·¥å…·ç»“åˆä½¿ç”¨ï¼›å¸¸ç”¨çš„ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿæœ‰SVNã€GITï¼Œæ„å»ºå·¥å…·æœ‰Mavenã€Antã€Gradleã€‚å…¶å…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼šæ˜“äºå®‰è£…ï¼šä¸éœ€è¦å®‰è£…ã€ä¸éœ€è¦æ•°æ®åº“ï¼Œåªéœ€é€šè¿‡java -jar jenkins.waræˆ–éƒ¨ç½²åˆ°ä¸€ä¸ªservletå®¹å™¨ä¸­ã€‚æ˜“äºé…ç½®ï¼šæ‰€æœ‰çš„é…ç½®éƒ½å¯èƒ½é€šè¿‡Jenkinsæä¾›çš„webç•Œé¢å®Œæˆï¼Œå½“ç„¶å¦‚æœä½ å–œæ¬¢ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ‰‹åŠ¨ä¿®æ”¹xmlæ–‡ä»¶è¿›è¡Œé…ç½®ã€‚æ¶ˆæ¯é€šçŸ¥åŠæµ‹è¯•æŠ¥å‘Šï¼šèƒ½å¤Ÿç”Ÿæˆå„ç±»æµ‹è¯•æŠ¥å‘Šå¹¶é€šè¿‡æ¶ˆæ¯é€šçŸ¥æœºåˆ¶ï¼ˆEmailç­‰ï¼‰è¿›è¡ŒæŠ¥å‘Šï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ã€è¦†ç›–ç‡æµ‹è¯•ã€é™æ€åˆ†æç­‰ã€‚åˆ†å¸ƒå¼æ„å»ºï¼šJenkinsæ”¯æŒå¤šä¸ªSlaveèŠ‚ç‚¹çš„åŠ¨æ€æŒ‚è½½ï¼Œå®Œæˆåˆ†å¸ƒå¼æ„å»ºã€‚èµ„æºåŠ¨æ€è°ƒåº¦ï¼šJenkinsçš„å®¹å™¨èµ„æºé€šè¿‡KubernetesåŠ¨æ€è°ƒåº¦ï¼ŒåŠ¨æ€æ‰©å®¹æ”¶ç¼©ã€‚æ’ä»¶æ”¯æŒï¼šJenkinsæ”¯æŒä¸Šåƒç§æ’ä»¶ï¼Œå¯ä»¥è¿›è¡Œæ‰©å±•ï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€æ±‚è¿‘å®šåˆ¶å¼€å‘ã€‚å®‰è£…éƒ¨ç½²ä»¥CentOSç¯å¢ƒå®‰è£…éƒ¨ç½²ä¸ºä¾‹ï¼Œè¯¦ç»†ä»‹ç»Jenkinså®‰è£…éƒ¨ç½²æ•´ä½“è¿‡ç¨‹å’Œå¸¸ç”¨è®¾ç½®ã€‚å‡†å¤‡å·¥ä½œç¯å¢ƒå‡†å¤‡å¦‚æœä½¿ç”¨Jenkins.waråŒ…çš„å½¢å¼è¿›è¡Œå®‰è£…ï¼Œéœ€è¦æå‰å‡†å¤‡ä»¥ä¸‹ç¯å¢ƒã€‚Javaç¯å¢ƒå‡†å¤‡å»å®˜ç½‘ä¸‹è½½JDKï¼šhttp://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.htmlå®‰è£…å°†ä¸‹è½½å¾—åˆ°çš„jdk-8u161-linux-x64.rpmåŒ…ä¿å­˜åˆ°Linuxä¸»æœº1# rpm -ivh jdk-8u161-linux-x64.rpmç¯å¢ƒå˜é‡1# vim ~/.bashrcåœ¨æ–‡ä»¶çš„æœ«å°¾æ·»åŠ ä»¥ä¸‹è¡Œ1234export JAVA_HOME=/usr/java/jdk1.8.0_161export JRE_HOME=$JAVA_HOME/jreexport CLASSPATH=$JAVA_HOME/libexport PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin:$CLASSPATHä½¿ç¯å¢ƒé…ç½®ç”Ÿæ•ˆ1# source ~/.bashrcæµ‹è¯•Javaç¯å¢ƒ1# java -version&emsp;&emsp;æŸ¥çœ‹æ˜¯å¦æ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼Œè‹¥æ˜¾ç¤ºåˆ™å®‰è£…æˆåŠŸTomcatç¯å¢ƒå‡†å¤‡ä¸‹è½½Tomcatåœ°å€: http://mirrors.shu.edu.cn/apache/tomcat/tomcat-8/v8.5.32/bin/apache-tomcat-8.5.32.tar.gz1# wget http://mirrors.shu.edu.cn/apache/tomcat/tomcat-8/v8.5.32/bin/apache-tomcat-8.5.32.tar.gzå®‰è£…Tomcat12# tar zxvf apache-tomcat-8.5.32.tar.gz# mv apache-tomcat-8.5.32 /usr/local/é…ç½®Tomcatç¯å¢ƒ1# vim ~/.bashrcåœ¨æ–‡ä»¶çš„æœ«å°¾æ·»åŠ ä»¥ä¸‹è¡Œ1234export CATALINA_BASE=/usr/local/apache-tomcat-8.5.32export TOMCAT_HOME=/usr/local/apache-tomcat-8.5.32export CATALINA_HOME=/usr/local/apache-tomcat-8.5.32export PATH=$PATH:$CATALINA_HOME/bin:$CATALINA_HOME/libä½¿ç¯å¢ƒé…ç½®ç”Ÿæ•ˆ1# source ~/.bashrcå¯åŠ¨TomcatæœåŠ¡1# startup.shæµ‹è¯•Tomcatæ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨åœ°å€æ ä¸­è¾“å…¥http://IP:8080å›è½¦ï¼Œå¦‚æœçœ‹åˆ°Tomcatè‡ªå¸¦çš„ä¸€ä¸ªJSPé¡µé¢ï¼Œè¯´æ˜ä½ çš„Tomcatå·²æ­å»ºæˆåŠŸå®‰è£…éƒ¨ç½²ä¸‹è½½waræ–‡ä»¶1# wget http://mirrors.jenkins.io/war-stable/latest/jenkins.warå®‰è£…Jenkinså°†ä¸‹è½½åçš„waråŒ…æ”¾åˆ°/usr/local/apache-tomcat-8.5.32/webapps/ç›®å½•ä¸‹ï¼Œå¯åŠ¨tomcatå³å¯ï¼Œ æˆ–è€…ç”¨å‘½ä»¤java -jar jenkins.warã€‚æµ‹è¯•æ‰“å¼€æµè§ˆå™¨è¾“å…¥http://IP:8080/jenkinså›è½¦å³å¯çœ‹åˆ°jenkinåˆå§‹é…ç½®ç•Œé¢ï¼ŒæŒ‰ç…§æç¤ºè¿›è¡Œè®¾ç½®ã€‚å¸¸ç”¨è®¾ç½®é‚®ä»¶è®¾ç½®Jenkins-&gt;ç³»ç»Ÿç®¡ç†-&gt;ç³»ç»Ÿè®¾ç½®ï¼Œå¼¹å‡ºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šSMTPæœåŠ¡å™¨ï¼šä¸ºé‚®ç®±æœåŠ¡åœ°å€ã€‚QQ: smtp.qq.com163: smtp.163.comç”¨æˆ·é»˜è®¤åç¼€ï¼šå¯ä»¥è‡ªåŠ¨è¯†åˆ«ï¼Œåªéœ€å¡«å†™ç”¨æˆ·å³å¯ã€‚å…¶ä»–é…ç½®ä¸ºJenkinsé‚®ç®±é»˜è®¤ç”¨æˆ·åŠé‡‡ç”¨çš„è®¤è¯æ–¹å¼ã€‚Jobè®¾ç½®åœ¨éœ€è¦é‚®ä»¶é€šçŸ¥çš„Jobè®¾ç½®é‡Œé¢å¢åŠ â€æ„å»ºåæ“ä½œæ­¥éª¤â€ -&gt; é€‰æ‹©E-mail Notificationã€‚æ‰©å±•æ’ä»¶è®¾ç½®ä½†æ˜¯å¦‚æœä½ ç¾¤å‘çš„æ”¶ä»¶äººåˆ—è¡¨æ¯”è¾ƒå¤šï¼Œæˆ–è€…æ¯æ¬¡é€šçŸ¥çš„äººä¸ä¸€æ ·ï¼Œæ¯”å¦‚æ¯æ¬¡åªæƒ³é€šçŸ¥å¯¼è‡´æ„å»ºå¤±è´¥çš„é‚£ä¸ªäººï¼ˆå³æœ€åä¸€æ¬¡ä¸Šä¼ ä»£ç çš„äººï¼‰ï¼Œé‚£ä¹ˆç®€å•çš„E-mail Notificationå°±ä¸èƒ½æ»¡è¶³è¦æ±‚ï¼Œéœ€è¦ä½¿ç”¨Email extension pluginæ’ä»¶ã€‚SMTP server â€“ è®¾ç½®SMTPæœåŠ¡å™¨åœ°å€Default user E-mail suffix â€“ è®¾ç½®ç”¨æˆ·é»˜è®¤é‚®ä»¶åç¼€Default Content Type â€“ é»˜è®¤å†…å®¹ç±»å‹(Plain Text HTML)Default Subject â€“ é»˜è®¤é‚®ä»¶ä¸»é¢˜Default Content â€“ é»˜è®¤é‚®ä»¶å†…å®¹ï¼Œå¯ä»¥è®¾ç½®æ¨¡æ¿Default Triggers â€“ è§¦å‘å™¨[ ] å…¨å±€é…ç½®æ ¹æ®å®é™…æƒ…å†µå‹¾é€‰éœ€è¦è§¦å‘é‚®ä»¶é€šçŸ¥çš„äº‹ä»¶ã€‚ç‚¹å‡»ä¸Šå›¾å³ä¸‹è§’Default Triggerï¼Œå¼¹å‡ºå¦‚ä¸‹è§¦å‘é¡¹ï¼š é¡¹ç›®é…ç½®è¿›å…¥åˆ°å…·ä½“çš„é¡¹ç›®é…ç½®ç•Œé¢ç‚¹å‡»â€é…ç½®ï¼Œåœ¨é…ç½®ç•Œé¢ç‚¹å‡»â€å¢åŠ æ„å»ºåæ“ä½œæ­¥éª¤â€ï¼Œé€‰æ‹©â€Editable Email Notificationâ€ã€‚å¯ä»¥åœ¨â€œAdvanced Settingsâ€ä¸­é’ˆå¯¹è¯¥é¡¹ç›®è¿›è¡Œä¸ªæ€§åŒ–çš„é…ç½®ã€‚å¯ä»¥é’ˆå¯¹è¯¥é¡¹ç›®å®šä¹‰è¯¥é¡¹ç›®é€šçŸ¥çš„æ”¶ä»¶äººåˆ—è¡¨ã€ä¸»é¢˜ã€å†…å®¹ã€é™„ä»¶ç­‰ã€‚ä»»åŠ¡åˆ›å»ºæ„å»ºé¡¹ç›®ç±»å‹ç‚¹å‡» Jenkins é¦–é¡µâ€åˆ›å»ºä¸€ä¸ªæ–°ä»»åŠ¡â€çš„é“¾æ¥ï¼Œå¼¹å‡ºå¦‚ä¸‹å›¾æ‰€ç¤ºé¡µé¢ã€‚Jenkins æä¾›äº†å…­ç§ç±»å‹çš„ä»»åŠ¡ã€‚æ„å»ºä¸€ä¸ªè‡ªç”±é£æ ¼çš„è½¯ä»¶é¡¹ç›®è¿™æ˜¯Jenkinsçš„ä¸»è¦åŠŸèƒ½ã€‚Jenkins ä¼šç»“åˆä»»ä½• SCM å’Œä»»ä½•æ„å»ºç³»ç»Ÿæ¥æ„å»ºä½ çš„é¡¹ç›®, ç”šè‡³å¯ä»¥æ„å»ºè½¯ä»¶ä»¥å¤–çš„ç³»ç»Ÿã€‚Pipeline(æµæ°´çº¿)Orchestrates long-running activities that can span multiple build slaves. Suitable for building pipelines (formerly known as workflows) and/or organizing complex activities that do not easily fit in free-style job type. â€“ å¾ˆéš¾ç”¨ä¸€ä¸¤å¥è¯è¯´æ¸… Pipeline, å‚è€ƒ , åé¢å¦èµ·ä¸€æ–‡æ¥ä»‹ç»ã€‚æ„å»ºä¸€ä¸ªå¤šé…ç½®é¡¹ç›®é€‚ç”¨äºå¤šé…ç½®é¡¹ç›®,ä¾‹å¦‚å¤šç¯å¢ƒæµ‹è¯•ã€å¹³å°æŒ‡å®šæ„å»º,ç­‰ç­‰ã€‚GitHub OrganizationScans a GitHub organization (or user account) for all repositories matching some defined markers. â€“ è¿™ä¸ªä¸»è¦é’ˆå¯¹ç”± Github æ‰˜ç®¡çš„é¡¹ç›®ã€‚Multibranch Pipeline(å¤šåˆ†æ”¯æµæ°´çº¿)Creates a set of Pipeline projects according to detected branches in one SCM repository. æ ¹æ®ä¸€ä¸ªSCMå­˜å‚¨åº“ä¸­æ£€æµ‹åˆ°çš„åˆ†æ”¯åˆ›å»ºä¸€ç»„ Pipeline é¡¹ç›®ã€‚æ–‡ä»¶å¤¹åˆ›å»ºä¸€ä¸ªå¯ä»¥åµŒå¥—å­˜å‚¨çš„å®¹å™¨ã€‚åˆ©ç”¨å®ƒå¯ä»¥è¿›è¡Œåˆ†ç»„ã€‚ è§†å›¾ä»…ä»…æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œè€Œæ–‡ä»¶å¤¹åˆ™æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å‘½åç©ºé—´ï¼Œ å› æ­¤ä½ å¯ä»¥æœ‰å¤šä¸ªç›¸åŒåç§°çš„çš„å†…å®¹ï¼Œåªè¦å®ƒä»¬åœ¨ä¸åŒçš„æ–‡ä»¶ å¤¹é‡Œå³å¯ã€‚è¿™é‡Œé€‰æ‹©ç¬¬ä¸€ä¸ªï¼šæ„å»ºä¸€ä¸ªè‡ªç”±é£æ ¼çš„è½¯ä»¶é¡¹ç›®ï¼Œ è¾“å…¥é¡¹ç›®åç§°ï¼špython test project ï¼Œç‚¹å‡»â€ç¡®å®šâ€æŒ‰é’®ã€‚æ„å»º Windows æµ‹è¯•ä»»åŠ¡å‡è®¾ï¼Œæœ‰ä¸€ä¸ª Python ç¼–å†™çš„æµ‹è¯•è„šæœ¬ py_tests.py ï¼Œå…¶ç»å¯¹è·¯å¾„ä¸º/root/py_tests.pyï¼Œå†…å®¹å¦‚ä¸‹ï¼š1print \"Hello world\"åœ¨Linuxä¸‹æ€ä¹ˆæ‰§è¡Œè¿™ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæ‰“å¼€ç»ˆç«¯123456[root@centos-7 ~]# cd[root@centos-7 ~]# ll py_tests.py-rw-r--r--. 1 root root 20 8æœˆ 16 16:07 py_tests.py[root@centos-7 ~]# python py_tests.pyHello world[root@centos-7 ~]#ä¸‹é¢å›åˆ°Jenkinsçš„é…ç½®è¿‡ç¨‹ä¸­æ·»åŠ é¡¹ç›®çš„æè¿°ï¼šPython æµ‹è¯•é¡¹ç›®ï¼Œæ‰“å°Hello worldã€‚å‰©ä¸‹çš„é€‰é¡¹éƒ½ä¸è¦ç®¡ï¼Œæ‹–åˆ°é¡µé¢åº•éƒ¨ï¼Œæ„å»º é€‰é¡¹ã€‚é€‰æ‹©æ‰§è¡Œshellé€‰é¡¹ï¼Œæ‰§è¡ŒLinux shellå‘½ä»¤ã€‚å¦‚ä¸Šå›¾ï¼Œè¾“å…¥ä½ åœ¨ Linux ç»ˆç«¯ä¸‹æ‰€è¾“çš„å‘½ä»¤python /root/py_tests.pyã€‚ ç‚¹å‡»ä¿å­˜ã€‚ä¸€ä¸ªæç®€çš„ï¼ŒåŸºäº Linux ç³»ç»Ÿçš„ Python è„šæœ¬æµ‹è¯•æŒç»­é›†æˆé¡¹ç›®å°±åˆ›å»ºå®Œæˆäº†ã€‚èŠ‚ç‚¹æ·»åŠ Jenkinsæœ‰ä¸ªå¾ˆå¼ºå¤§çš„åŠŸèƒ½ï¼šåˆ†å¸ƒå¼æ„å»º(åœ¨Jenkinsçš„é…ç½®ä¸­å«åšèŠ‚ç‚¹)ï¼Œåˆ†å¸ƒå¼æ„å»ºèƒ½å¤Ÿè®©åŒä¸€å¥—ä»£ç åœ¨ä¸åŒçš„ç¯å¢ƒ(å¦‚ï¼šWindowså’ŒLinuxç³»ç»Ÿ)ä¸­ç¼–è¯‘ã€æµ‹è¯•ç­‰ã€‚è€Œä¸”Jenkinsæ„å»ºçš„ä»£ç å’Œäº§ç‰©æœ€åè‡ªåŠ¨æ‹·è´åˆ°ä¸»èŠ‚ç‚¹ã€‚æ³¨æ„ï¼šå¦‚æœèŠ‚ç‚¹ä¸»æœºä¸Šä¸å­˜åœ¨JDKï¼ŒJenkinsä¼šå»è‡ªåŠ¨ä¸‹è½½ã€‚å»ºè®®ï¼šæ‰€æœ‰Unixæˆ–è€…Windowsæœºå™¨çš„ç¯å¢ƒè·¯å¾„ç»Ÿä¸€(å¦‚ï¼šJDKã€Antã€Maven)ï¼Œå¥½å¤„æ˜¯ä¾¿äºç®¡ç†ã€ä¸å®¹æ˜“å‡ºç°å¥‡è‘©é—®é¢˜ã€‚æ–°å»ºèŠ‚ç‚¹ç³»ç»Ÿç®¡ç† â†’ ç®¡ç†èŠ‚ç‚¹ â†’ æ–°å»ºèŠ‚ç‚¹(å·¦ä¸Šè§’)ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&emsp;&emsp;èŠ‚ç‚¹åç§°ï¼šå»ºè®®ä½¿ç”¨å­—æ¯ã€æ•°å­—æˆ–å­—æ¯å’Œæ•°å­—çš„ç»„åˆã€‚æœ€å¥½è§åçŸ¥æ„ã€‚ä¸å»ºè®®ä½¿ç”¨æ ‡ç‚¹ç¬¦å·å’Œä¸­æ–‡(ä¸­æ–‡å‘½åæ²¡æœ‰é—®é¢˜ï¼Œä½†Jobä¸­æ— æ³•å¼•ç”¨)ã€‚é…ç½®èŠ‚ç‚¹Name(åç§°)ï¼šèŠ‚ç‚¹åç§°Description(æè¿°)ï¼šèŠ‚ç‚¹æè¿°ï¼Œæ”¯æŒä¸­æ–‡å¹¶å‘æ„å»ºæ•°ï¼šæœ€å¤§åŒæ—¶æ„å»ºæ•°é‡(æ ¹æ®æœºå™¨çš„æ€§èƒ½å®šï¼Œå•é¢—å››æ ¸cpuå»ºè®®ä¸è¦è¶…è¿‡5) - å¿…é¡»ä¸ºæ•°å­—è¿œç¨‹å·¥ä½œç›®å½•ï¼šèŠ‚ç‚¹çš„æ ¹ç›®å½•(æ³¨æ„ï¼šå¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºç›®å½•ã€‚ä½ å¿…é¡»å¯¹è¯¥ç›®å½•æœ‰è¯»å†™æƒé™ï¼Œä¸ç„¶ä¼šæŠ¥é”™)æ ‡ç­¾ï¼šæ ‡è®°(åˆå«åšæ ‡ç­¾)ç”¨æ¥å¯¹å¤šèŠ‚ç‚¹åˆ†ç»„,æ ‡è®°ä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”.ä¾‹å¦‚â€™refression java6â€™å°†ä¼šæŠŠä¸€ä¸ªèŠ‚ç‚¹æ ‡è®°ä¸Šâ€™regressionâ€™å’Œâ€™java6â€™.ä¾‹æ¥è¯´,å¦‚æœä½ æœ‰å¤šä¸ªLinuxç³»ç»Ÿçš„æ„å»ºèŠ‚ç‚¹å¹¶ä¸”ä½ çš„Jobä¹Ÿéœ€è¦åœ¨Linuxç³»ç»Ÿä¸Šè¿è¡Œ,é‚£ä¹ˆä½ å¯ä»¥é…ç½®æ‰€æœ‰çš„Linuxç³»ç»ŸèŠ‚ç‚¹éƒ½æ ‡è®°ä¸ºâ€™windowsâ€™, ç„¶åæŠŠJobä¹Ÿæ ‡è®°ä¸ºâ€™Linuxâ€™.è¿™æ ·çš„è¯ä½ çš„Jobå°±ä¸ä¼šè¿è¡Œåœ¨é™¤äº†LinuxèŠ‚ç‚¹ä»¥å¤–çš„å…¶å®ƒèŠ‚ç‚¹ä¹‹ä¸Šäº†.Linuxç”¨æ³•ï¼šå°½å¯èƒ½çš„ä½¿ç”¨è¿™ä¸ªèŠ‚ç‚¹/åªå…è®¸è¿è¡Œç»‘å®šåˆ°è¿™å°æœºå™¨çš„Job(æ ¹æ®ä½ çš„éœ€æ±‚ï¼ŒäºŒé€‰ä¸€)å¯åŠ¨æ–¹å¼ï¼šLinuxèŠ‚ç‚¹ï¼šæ¨è â€“ Launch slave agents via SSHï¼Œ åœ¨Unix(åŒ…æ‹¬Linux)æœºå™¨ä¸Šé€šè¿‡SSHé€šé“è¿æ¥èŠ‚ç‚¹ (é€‚ç”¨äºUnixå’ŒLinux)Host(ä¸»æœº)ï¼šèŠ‚ç‚¹ä¸»æœºçš„ipåœ°å€Credentialsï¼šå‡­æ®(å¦‚æœä¸ºç©ºæˆ–è€…ä¸å¯é€‰æ‹©ï¼Œè¯·åœ¨ç³»ç»Ÿç®¡ç†â†’Manage Credentialsä¸­é…ç½®ã€‚Manage Credentialsçš„é…ç½®éå¸¸ç®€å•ï¼Œè¿™é‡Œå°±ä¸åœ¨æè¿°äº†ã€‚Manage Credentialsé…ç½®å®Œæˆåï¼Œéœ€åˆ·æ–°èŠ‚ç‚¹é…ç½®é¡µé¢æ‰ä¼šæ˜¾ç¤ºã€‚)èŠ‚ç‚¹è¿æ¥ä»¥Launch slave agents via SSHä¸ºä¾‹ï¼Œé€‰æ‹©Manually trusted key Verification Strategyï¼Œç„¶åç‚¹å‡»æœ€ä¸‹é¢çš„ä¿å­˜ã€‚Jenkins -&gt; ç³»ç»Ÿç®¡ç† -&gt; ç³»ç»Ÿè®¾ç½®ï¼Œè®¾ç½®SSH ServerName: è¿™ä¸ªå¯ä»¥éšæ„å†™Hostname: è¿œç¨‹ä¸»æœºçš„IPåœ°å€Username: è¿œç¨‹ä¸»æœºç™»å½•çš„ç”¨æˆ·åRemote Directory: è¿œç¨‹ç›®å½•å¦‚å›¾è®¾ç½®å¥½ä¿¡æ¯åï¼Œç‚¹å‡»ä¸‹é¢çš„ä¿å­˜Jenkins -&gt; ç³»ç»Ÿç®¡ç† -&gt; ç®¡ç†èŠ‚ç‚¹ï¼Œç‚¹å‡»åˆšåˆšé…ç½®å¥½çš„èŠ‚ç‚¹ï¼Œä¸Šçº¿èŠ‚ç‚¹å›åˆ°èŠ‚ç‚¹åˆ—è¡¨åå‘ç°èŠ‚ç‚¹å°±å·²ç»æˆåŠŸä¸Šçº¿äº†è§’è‰²æƒé™ç”±äºjenkinsé»˜è®¤çš„æƒé™ç®¡ç†ä½“ç³»ä¸æ”¯æŒç”¨æˆ·ç»„æˆ–è§’è‰²çš„é…ç½®ï¼Œå› æ­¤éœ€è¦å®‰è£…ç¬¬ä¸‰å‘æ’ä»¶æ¥æ”¯æŒè§’è‰²çš„é…ç½®ï¼Œæœ¬æ–‡å°†ä½¿ç”¨Role Strategy Pluginï¼Œä»‹ç»é¡µé¢ï¼šhttps://wiki.jenkins-ci.org/display/JENKINS/Role+Strategy+Pluginã€‚é…ç½®æ’ä»¶å®‰è£…æ’ä»¶åï¼Œè¿›å…¥ç³»ç»Ÿè®¾ç½®é¡µé¢ï¼Œé…ç½®å¦‚ä¸‹ï¼šé…ç½®æƒé™åœ¨ç³»ç»Ÿç®¡ç†é¡µé¢ç‚¹å‡»Manage and Assign Rolesè¿›å…¥è§’è‰²ç®¡ç†é¡µé¢è¿›å…¥ä¹‹åç®¡ç†è§’è‰²ï¼ˆManage Rolesï¼‰é€‰æ‹©è¯¥é¡¹å¯ä»¥åˆ›å»ºå…¨å±€è§’è‰²ã€é¡¹ç›®è§’è‰²ï¼Œå¹¶å¯ä»¥ä¸ºè§’è‰²åˆ†é…æƒé™ã€‚;å¦‚ä¸Šå›¾ï¼Œåˆ†åˆ«åˆ›å»ºäº†adminã€anonymousä¸¤ä¸ªå…¨å±€è§’è‰²ï¼ŒOnline Programã€testä¸¤ä¸ªé¡¹ç›®è§’è‰²ã€‚&emsp;&emsp;é¡¹ç›®è§’è‰²ä¸å…¨å±€è§’è‰²çš„åŒºåˆ«å°±æ˜¯ï¼Œé¡¹ç›®è§’è‰²åªèƒ½ç®¡ç†é¡¹ç›®ï¼Œæ²¡æœ‰ç®¡ç†jenkinsçš„æƒé™é…ç½®ã€‚&emsp;&emsp;æ·»åŠ é¡¹ç›®è§’è‰²æ—¶ï¼Œéœ€è¦æŒ‡å®šåŒ¹é…é¡¹ç›®çš„æ¨¡å¼ï¼Œå¦‚ä¸Šå›¾ä¸­çš„Patternï¼Œå®˜æ–¹æ–‡æ¡£ä»‹ç»è¯¥é€‰é¡¹æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚â€Roger-.â€è¡¨ç¤ºæ‰€æœ‰ä»¥Roger-å¼€å¤´çš„é¡¹ç›®ï¼Œ(?i)roger-.*è¡¨ç¤ºä»¥roger-å¼€å¤´çš„é¡¹ç›®å¹¶ä¸”ä¸åŒºåˆ†å¤§å°å†™ï¼Œå¦‚ä»¥ABCå¼€å¤´çš„é¡¹ç›®å¯ä»¥é…ç½®ä¸ºâ€ABC|ABC.*â€ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨â€abc|bcd|efgâ€ç›´æ¥åŒ¹é…å¤šä¸ªé¡¹ç›®ã€‚åˆ›å»ºç”¨æˆ·åœ¨åˆ†é…è§’è‰²ä¹‹å‰éœ€è¦å…ˆåˆ›å»ºç”¨æˆ·ã€‚åœ¨ç³»ç»Ÿç®¡ç†é¡µé¢ï¼Œç‚¹å‡»ç®¡ç†ç”¨æˆ·ï¼š&emsp;&emsp;ç‚¹å‡»æ–°å»ºä½¿ç”¨è€…å¯ä»¥åˆ›å»ºæ–°ç”¨æˆ·ï¼Œç‚¹å‡»ç”¨æˆ·IDæˆ–åç§°éƒ½å¯ä»¥ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ã€‚&emsp;&emsp;é€‰æ‹©Assign Roleså¯ä»¥ä¸ºç”¨æˆ·åˆ†é…æ‰€å±è§’è‰²ï¼Œå¯ä»¥åˆ†é…å…¨å±€è§’è‰²å’Œé¡¹ç›®è§’è‰²ã€‚&emsp;&emsp;å¦‚ä¸Šå›¾ï¼Œå°†ä¸åŒçš„ç”¨æˆ·åˆ†åˆ«åˆ†é…ç»™ä¸åŒçš„è§’è‰²ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥å…·æœ‰è§’è‰²æ‰€æ‹¥æœ‰çš„æƒé™ã€‚è¿è¡Œä¸ç»´æŠ¤Jenkinså‡çº§è¯´æ˜ï¼šJenkinsè¿­ä»£æ›´æ–°å¾ˆé¢‘ç¹ï¼Œä¸€èˆ¬1å‘¨æ›´æ–°ä¸€æ¬¡ï¼ŒåŠå¹´ä¸€ä¸ªå¤§ç‰ˆæœ¬ã€‚å‡çº§ï¼šä¸‹è½½æ–°çš„waråŒ…ï¼Œæ›¿æ¢æ—§çš„waråŒ…ï¼Œé‡å¯å³å¯ã€‚ä¸‹è½½åœ°å€ä¸ºhttp://mirrors.jenkins-ci.org/ã€‚PSï¼šå‡çº§å‰ï¼Œè¯·æµ‹è¯•è¯¥ç‰ˆæœ¬å’Œä½ æœ¬åœ°æ•°æ®çš„å…¼å®¹æ€§ã€‚å¦‚ä½•æµ‹è¯•ï¼šå°†JENKINS_HOMEæ‹·è´ä¸€ä»½åˆ°æ–°çš„æœºå™¨ï¼Œç”¨æ–°ç‰ˆçš„ç¨‹åºå¯åŠ¨ã€‚æµ‹è¯•å¯¹åº”çš„æ’ä»¶å’Œé…ç½®ã€‚Jenkinsè¿ç§»å’Œå¤‡ä»½é¦–å…ˆæ‰¾åˆ°JENKINS_HOMEï¼Œä¸€èˆ¬åœ¨ç”¨æˆ·æ ¹ç›®å½•ä¸‹.jenkinsç›®å½•ï¼Œå› ä¸ºJenkinsçš„æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼å­˜æ”¾åœ¨JENKINS_HOMEç›®å½•ä¸­ã€‚æ‰€ä»¥ä¸ç®¡æ˜¯è¿ç§»è¿˜æ˜¯å¤‡ä»½ï¼Œåªéœ€è¦æ“ä½œJENKINS_HOMEå°±è¡Œäº†ã€‚è¿ç§»ï¼šå»ºè®®å°†JENKINS_HOMEæ‰“åŒ…åå†æ‹·è´ï¼ŒWindowsä¸Šå¯ä»¥ç”¨zipï¼Œrarç­‰ï¼ŒLinuxä¸Šæœ‰zipï¼Œtarç­‰ã€‚ç„¶åå°†æ‰“åŒ…çš„æ–‡ä»¶è§£å‹åˆ°æ–°çš„JENKINS_HOMEç›®å½•å°±è¡Œäº†ã€‚å¤‡ä»½ï¼šå¦‚æœæ˜¯ä¸´æ—¶å¤‡ä»½ï¼Œæ•´ä¸ªå‹ç¼©æ–‡ä»¶å°±è¡Œäº†ã€‚æ¢å¤ï¼šæ¢å¤çš„æ—¶å€™éœ€è¦å…ˆåœæ­¢jenkinsã€‚ç§»åŠ¨ï¼Œåˆ é™¤æˆ–ä¿®æ”¹jobså¯¹äºç§»åŠ¨æˆ–åˆ é™¤jobsï¼Œåªéœ€è¦ç®€å•åœ°ç§»åŠ¨æˆ–åˆ é™¤$JENKINS_HOME/jobsç›®å½•ã€‚å¯¹äºä¿®æ”¹jobsçš„åå­—ï¼Œåªéœ€è¦ç®€å•åœ°ä¿®æ”¹$JENKINS_HOME/jobsä¸‹å¯¹åº”jobçš„æ–‡ä»¶å¤¹çš„åå­—ã€‚å¯¹äºä¸ç»å¸¸ä½¿ç”¨çš„jobï¼Œåªéœ€è¦å¯¹$JENKINS_HOME/jobsä¸‹å¯¹åº”çš„jobsçš„ç›®å½•zipæˆ–taråå­˜å‚¨åˆ°å…¶ä»–çš„åœ°æ–¹ã€‚Jenkins å¯åŠ¨æ—¶çš„å‘½ä»¤è¡Œå‚æ•°--httpPort=$HTTP_PORTç”¨æ¥è®¾ç½®jenkinsè¿è¡Œæ—¶çš„webç«¯å£ã€‚--httpsPort=$HTTP_PORTè¡¨ç¤ºä½¿ç”¨httpsåè®®ã€‚~~~~â€“httpListenAddress=$HTTP_HOSTç”¨æ¥æŒ‡å®šjenkinsç›‘å¬çš„ipèŒƒå›´ï¼Œé»˜è®¤ä¸ºæ‰€æœ‰çš„ipéƒ½å¯ä»¥è®¿é—®æ­¤jenkins serverã€‚ä¿®æ”¹jenkinsçš„timezoneå¦‚æœjenkinsæ‰€åœ¨çš„serverçš„timezoneä¸åŒäºç”¨æˆ·çš„timezoneï¼Œè¿™æ—¶å€™éœ€è¦ä¿®æ”¹jenkinsçš„timezoneï¼Œéœ€è¦åœ¨jenkinså¯åŠ¨çš„æ—¶å€™å¢åŠ ä¸‹åˆ—å‚æ•°-Dorg.apache.commons.jelly.tags.fmt.timeZone=TZã€‚æŸ¥çœ‹jenkinsçš„ç³»ç»Ÿä¿¡æ¯ä»¥åœ¨jenkinsçš„ç®¡ç†é¡µé¢ä¸‹çš„ç³»ç»Ÿä¿¡æ¯ä¸­ï¼ŒæŸ¥çœ‹æ‰€æœ‰çš„jenkinsçš„ä¿¡æ¯ï¼Œä¾‹å¦‚jenkinsçš„å¯åŠ¨é…ç½®ï¼Œæ‰€ä¾èµ–çš„ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ï¼Œæ‰€å®‰è£…çš„pluginsã€‚Jenkinsä¸­æ‰§è¡Œbatchå’ŒPythonJenkinsçš„job -&gt; build æ”¯æŒAntï¼Œmavenï¼Œwindows batchå’ŒShellï¼Œ ä½†æ˜¯æˆ‘ä»¬çŸ¥é“pythonï¼Œperlï¼Œrubyç­‰è„šæœ¬å…¶å®ä¹Ÿæ˜¯shellè„šæœ¬ï¼Œæ‰€ä»¥è¿™é‡Œçš„Shellå¯ä»¥æ‰©å±•ä¸ºpythonï¼Œperlï¼Œrubyç­‰ã€‚å¦‚å›¾Jenkins æ•´åˆ LDAP ä»¥åŠ CAS å•ç‚¹ç™»å½•å‚è€ƒå¦å¤–ä¸€ç¯‡åšå®¢Jenkins æ•´åˆ LDAP ä»¥åŠ CAS å•ç‚¹ç™»å½•","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.iamzhl.top/categories/Linux/"},{"name":"è¿ç»´","slug":"Linux/è¿ç»´","permalink":"https://blog.iamzhl.top/categories/Linux/è¿ç»´/"}],"tags":[{"name":"Jenkins","slug":"Jenkins","permalink":"https://blog.iamzhl.top/tags/Jenkins/"},{"name":"æŒç»­é›†æˆ","slug":"æŒç»­é›†æˆ","permalink":"https://blog.iamzhl.top/tags/æŒç»­é›†æˆ/"}]},{"title":"SonarQubeå®‰è£…éƒ¨ç½²","slug":"SonarQube-install-and-deploy","date":"2018-08-20T08:10:59.000Z","updated":"2019-03-11T16:21:49.901Z","comments":true,"path":"SonarQube-install-and-deploy.html","link":"","permalink":"https://blog.iamzhl.top/SonarQube-install-and-deploy.html","excerpt":"","text":"SonarQubeå®‰è£…éƒ¨ç½²ç®€ä»‹SonarQubeæ˜¯ä¸€ä¸ªç®¡ç†ä»£ç è´¨é‡çš„å¼€æ”¾å¹³å°ï¼Œå¯ä»¥ä»ä¸ƒä¸ªç»´åº¦æ£€æµ‹ä»£ç è´¨é‡ï¼šå¤æ‚åº¦åˆ†å¸ƒï¼ˆcomplexityï¼‰ï¼šä»£ç å¤æ‚åº¦è¿‡é«˜å°†éš¾ä»¥ç†è§£ã€éš¾ä»¥ç»´æŠ¤ï¼›é‡å¤ä»£ç ï¼ˆduplicationsï¼‰ï¼šç¨‹åºä¸­åŒ…å«å¤§é‡å¤åˆ¶ç²˜åº¦çš„ä»£ç æ˜¯è´¨é‡ä½ä¸‹çš„è¡¨ç°ï¼›å•å…ƒæµ‹è¯•ï¼ˆunit testsï¼‰ï¼šç»Ÿè®¡å¹¶å±•ç¤ºå•å…ƒæµ‹è¯•è¦†ç›–ç‡ï¼›ç¼–ç è§„èŒƒï¼ˆcoding rulesï¼‰ï¼šé€šè¿‡Findbugsã€PMDã€CheckStyleç­‰è§„èŒƒä»£ç ç¼–å†™ï¼›æ³¨é‡Šï¼ˆcommmentsï¼‰ï¼šå°‘äº†å¯è¯»æ€§å·®ï¼Œå¤šäº†çœ‹èµ·æ¥è´¹åŠ²ï¼›æ½œåœ¨çš„Bugï¼ˆpotential bugsï¼‰ï¼šé€šè¿‡Findbugsã€PMDã€CheckStyleç­‰æ£€æµ‹æ½œåœ¨bugï¼›ç»“æ„ä¸è®¾è®¡ï¼ˆarchitecture &amp; designï¼‰ï¼šä¾èµ–ã€è€¦åˆç­‰ã€‚SonarQube å¯ä»¥é›†æˆä¸åŒçš„æµ‹è¯•å·¥å…·ï¼ˆCppCheckã€CheckStyleã€Junitã€CppUnitç­‰ï¼‰ï¼Œä»£ç åˆ†æå·¥å…·ã€æŒç»­é›†æˆå·¥å…·ï¼ˆJenkinsï¼‰ã€IDEï¼ˆVisualStudioï¼‰ã€‚Sonaré€šè¿‡å¯¹ä»£ç è´¨é‡åˆ†æç»“æœæ•°æ®è¿›è¡Œåœ¨åŠ å·¥å¤„ç†ï¼Œé€šè¿‡é‡åŒ–çš„æ–¹å¼æ¥åº¦é‡ä»£ç çš„è´¨é‡å˜åŒ–ï¼Œä»è€Œå¯ä»¥æ–¹ä¾¿çš„å¯¹å·¥ç¨‹è¿›è¡Œä»£ç è´¨é‡ç®¡ç†ã€‚æ”¯æŒè¯­è¨€ï¼šJAVA PHP C# C COBOL PL/SQL FLEXç­‰20ä½™ç§ã€‚ç»„æˆSonarQubeå¹³å°çš„ç»„æˆï¼šæ•°æ®åº“ï¼šå­˜æ”¾SonarQubeçš„é…ç½®æ•°æ®ã€ä»£ç è´¨é‡çš„å¿«ç…§æ•°æ®ã€‚WebæœåŠ¡ï¼šç”¨äºæŸ¥çœ‹SonarQubeçš„é…ç½®æ•°æ®ã€ä»£ç è´¨é‡çš„å¿«ç…§æ•°æ®ã€‚åˆ†æå™¨ï¼šå¯¹é¡¹ç›®ä»£ç è¿›è¡Œåˆ†æã€ç”Ÿæˆè´¨é‡ç»“æœæ•°æ®å¹¶å­˜å…¥æ•°æ®åº“ä¸­ï¼ˆåˆ†æå™¨æœ‰å¤šä¸­ï¼Œæ­¤å¤„é€‰æ‹©SonarQube Maven Pluginï¼‰ã€‚å®‰è£…ç¯å¢ƒå®‰è£…JDKå»å®˜ç½‘ä¸‹è½½JDKï¼šhttp://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.htmlå®‰è£…JDKå°†ä¸‹è½½å¾—åˆ°çš„jdk-8u161-linux-x64.rpmåŒ…ä¿å­˜åˆ°Linuxä¸»æœº1# rpm -ivh jdk-8u161-linux-x64.rpmè®¾ç½®ç¯å¢ƒå˜é‡ï¼Œç¼–è¾‘~/.bashrcï¼Œ1# vim ~/.bashrcåœ¨æ–‡ä»¶çš„æœ«å°¾æ·»åŠ ä»¥ä¸‹è¡Œ1export JAVA_HOME=/usr/java/jdk1.8.0_161 export JRE_HOME=$JAVA_HOME/jre export CLASSPATH=$JAVA_HOME/lib export PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin:$CLASSPATHä½¿ç¯å¢ƒé…ç½®ç”Ÿæ•ˆ1# source ~/.bashrcæµ‹è¯•Javaç¯å¢ƒï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼šjava -versionæŸ¥çœ‹æ˜¯å¦æ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼Œè‹¥æ˜¾ç¤ºåˆ™å®‰è£…æˆåŠŸNote:å¦‚æœå·²ç»é¢„è£…äº†openjdkï¼Œè¯·å…ˆå¸è½½1# yum list installed | grep openjdk # æ ¹æ®æ‰§è¡Œç»“æœè¿›è¡Œå¸è½½å®‰è£…MySQLMySQLçš„Serveråœ¨CentOS 7ä¸Šä»é»˜è®¤è½¯ä»¶åˆ—è¡¨ä¸­è¢«ç§»é™¤äº†ï¼Œç”¨MariaDBæ¥ä»£æ›¿ï¼Œæ‰€ä»¥è¿™å¯¼è‡´æˆ‘ä»¬å¿…é¡»è¦å»å®˜ç½‘ä¸Šè¿›è¡Œä¸‹è½½ï¼Œæ‰¾åˆ°é“¾æ¥ï¼Œç”¨wgetæ‰“å¼€ï¼Œç„¶åå†å®‰è£…ï¼š123# wget http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm# rpm -ivh mysql57-community-release-el7-9.noarch.rpm# yum -y install mysql mysql-server mysql-develå¯åŠ¨MySQLæœåŠ¡1# systemctl start mysqldè·å–å®‰è£…MySQLæ—¶çš„åˆå§‹å¯†ç å¹¶ç™»å½•MySQL12# grep 'temporary password' /var/log/mysqld.log# mysql -u root -pç™»å½•æˆåŠŸåä¿®æ”¹å¯†ç ï¼Œé¦–å…ˆä¿®æ”¹å®‰å…¨ç­–ç•¥ä¸º0ï¼Œç„¶åå°†å¯†ç é•¿åº¦é™åˆ¶ä¿®æ”¹ä¸º1ï¼Œæœ€åä¿®æ”¹å¯†ç 123mysql&gt; set global validate_password_policy=0;mysql&gt; set global validate_password_length=1;mysql&gt; set password for root@localhost=password(&apos;root&apos;);è®¾ç½®sonarçš„ç”¨æˆ·åå’Œæ•°æ®åº“123# adduser sonar# passwd sonar # ä¿®æ”¹sonarç”¨æˆ·å¯†ç # su sonar # åˆ‡æ¢ä¸ºsonarç”¨æˆ·å®‰è£…1234mysql&gt; create user &apos;sonar&apos;@&apos;%&apos; identified by &apos;sonar&apos;;mysql&gt; CREATE DATABASE sonar CHARACTER SET utf8 COLLATE utf8_general_ci;mysql&gt; grant all privileges on sonar.* to &apos;sonar&apos;@&apos;%&apos;;mysql&gt; flush privileges;å®‰è£…SonarQube12345$ wget https://binaries.sonarsource.com/Distribution/sonarqube/sonarqube-7.3.zip$ unzip sonarqube-7.3.zip //è‹¥æç¤ºunzipå‘½ä»¤æ‰¾ä¸åˆ°ï¼Œç”¨yum -y install unzipå®‰è£…å³å¯$ mv sonarqube-7.3 sonarqube $ mv sonarqube /usr/local/# chown -R sonar:sonar /usr/local/sonarqubeé…ç½®sonar1$ vim /usr/local/sonarqube/conf/sonar.propertieså¦‚å›¾è®¾ç½®ä»¥ä¸‹é€‰é¡¹å¯åŠ¨sonar1$ /usr/local/sonarqube/bin/linux-x86-64/sonar.sh startæˆåŠŸå¯åŠ¨åï¼Œè®¿é—®æœ¬åœ° http://IP:9000ï¼ŒSonarQube åˆå§‹ç®¡ç†å‘˜è´¦å·ä¸º adminï¼Œé»˜è®¤å¯†ç ä¸º adminï¼Œç™»å½•åå¯ä¿®æ”¹å¯†ç ã€‚Note:å¦‚æœé‡åˆ°Sonarå¯åŠ¨ä¸èµ·æ¥ï¼ŒæŸ¥çœ‹æ—¥å¿—è‡ªåŠ¨å…³é—­çš„é—®é¢˜ï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹æ–¹æ³•è§£å†³1234# echo -e \"vm.max_map_count=262144\" &gt;&gt; /etc/sysctl.conf# sysctl -p# echo -e \"sonar hard nofile 65536\" &gt;&gt; /etc/security/limits.conf # echo -e \"sonar soft nofile 65536\" &gt;&gt; /etc/security/limits.confç„¶åæ³¨é”€sonarç”¨æˆ·é‡æ–°ä»¥sonarèº«ä»½ç™»å½•åå†æ¬¡å¯åŠ¨:1$ /usr/local/sonarqube/bin/linux-x86-64/sonar.sh startæ’ä»¶å®‰è£…ï¼šå¦‚æœéœ€è¦ä¸‹è½½æ’ä»¶çš„è¯ï¼Œå„ä¸ªç‰ˆæœ¬ä¸ä¸€æ ·ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œå…ˆç‚¹å‡»Administration,å†æ‰“å¼€Marketplaceå°±å¯ä»¥çœ‹åˆ°Pluginså„ç§æ’ä»¶äº†ã€‚SonarQube æ”¯æŒåˆ†æçš„è¯­è¨€æœ‰å¾ˆå¤šï¼ŒåƒJavaã€Pythonã€Phpã€C/C++ã€C#ã€HTMLã€JavaScriptã€PL/SQLã€Objective Cç­‰20+è¯­è¨€ï¼Œå½“æˆ‘ä»¬éœ€è¦æ”¯æŒåˆ†æä»€ä¹ˆè¯­è¨€æ—¶ï¼Œåªéœ€è¦å»æ’ä»¶ä¸­å¿ƒå®‰è£…å¯¹åº”è¯­è¨€çš„æ’ä»¶å³å¯ï¼Œéå¸¸æ–¹ä¾¿ï¼Œå¯æ‰©å±•æ€§å¼ºï¼Œæ ¹æ®è‡ªå·±çš„éœ€è¦å»é€‰æ‹©æ’ä»¶ã€‚å®éªŒéªŒè¯æœ¬æ¬¡å®éªŒéªŒè¯ä»¥Javaå·¥ç¨‹ä¸ºä¾‹å®‰è£…é…ç½®sonar-scannerè·å–sonar-scanner12345# wget https://sonarsource.bintray.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.2.0.1227-linux.zip# unzip sonar-scanner-cli-3.2.0.1227-linux.zip# mv sonar-scanner-3.2.0.1227-linux sonar-scanner# mv sonar-scanner /usr/local/# chown -R sonar:sonar sonar-scanneré…ç½®sonar-scannerç¯å¢ƒå˜é‡1# vim ~/.bashrcä½¿é…ç½®ç”Ÿæ•ˆ1# source ~/.bashrcæ£€æŸ¥ç¯å¢ƒé…ç½®æ˜¯å¦æˆåŠŸ1$ sonar-scanner -versioné…ç½®sonar-scanner.propertiesæ–‡ä»¶1$ vim /usr/local/sonar-scanner/conf/sonar-scanner.propertieséªŒè¯è¿‡ç¨‹æ·»åŠ Java Mavenæµ‹è¯•å·¥ç¨‹ç¼–å†™æµ‹è¯•å·¥ç¨‹æ·»åŠ sonar-project.propertiesæ–‡ä»¶åœ¨å·¥ç¨‹æ ¹ç›®å½•ä¸­æ·»åŠ sonar-project.propertiesæ–‡ä»¶ï¼Œæ ¼å¼å¦‚ä¸‹1234sonar.projectKey=com.geovis //é¡¹ç›®çš„å”¯ä¸€æ ‡è¯†sonar.projectName=helloworld //é¡¹ç›®çš„åå­—sonar.projectVersion=1.0 //é¡¹ç›®çš„ç‰ˆæœ¬sonar.sources=/root/helloworld/src //é¡¹ç›®çš„æºç ç›®å½•ï¼Œå¤šç›®å½•ä»¥è‹±æ–‡é€—å·åˆ†éš”ä¾‹å¦‚æˆ‘çš„é¡¹ç›®ç»“æ„å¦‚ä¸‹é‚£ä¹ˆæ­¤é¡¹ç›®é…ç½®æ–‡ä»¶åº”ä¸ºä»£ç è´¨é‡æ£€æŸ¥è®¾ç½®å®Œåï¼Œç»ˆç«¯è¿è¡Œsonar-scannerå‘½ä»¤ï¼Œå¼€å§‹é¡¹ç›®æºä»£ç çš„åˆ†ææŸ¥çœ‹ç»“æœå‘½ä»¤è¿è¡Œå®Œæˆä¹‹åï¼Œè®¿é—®http://localhost:9000ï¼Œè¾“å…¥è´¦å·å¯†ç å³å¯æŸ¥çœ‹åˆ†æç»“æœï¼Œå¦‚ä¸‹å›¾SonarQube æ•´åˆ LDAP å’Œ CAS å•ç‚¹ç™»å½•SonarQubeæ•´åˆLDAPå’ŒCASå•ç‚¹ç™»å½•çš„è¿‡ç¨‹è¯·å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡åšå®¢SonarQube æ•´åˆ LDAP å’Œ CAS å•ç‚¹ç™»å½•","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.iamzhl.top/categories/Linux/"},{"name":"è¿ç»´","slug":"Linux/è¿ç»´","permalink":"https://blog.iamzhl.top/categories/Linux/è¿ç»´/"}],"tags":[{"name":"SonarQube","slug":"SonarQube","permalink":"https://blog.iamzhl.top/tags/SonarQube/"},{"name":"sonar-scanner","slug":"sonar-scanner","permalink":"https://blog.iamzhl.top/tags/sonar-scanner/"}]},{"title":"MantisBT å®‰è£…éƒ¨ç½²è¿‡ç¨‹","slug":"MantisBT-install-and-deploy","date":"2018-08-18T05:53:09.000Z","updated":"2019-03-11T16:21:49.896Z","comments":true,"path":"MantisBT-install-and-deploy.html","link":"","permalink":"https://blog.iamzhl.top/MantisBT-install-and-deploy.html","excerpt":"","text":"MantisBTè½¯ä»¶å®‰è£…éƒ¨ç½²è¿‡ç¨‹ç®€ä»‹&#160;&#160;&#160;&#160;Mantisæ˜¯ä¸€ä¸ªåŸºäºPHPæŠ€æœ¯çš„è½»é‡çº§çš„å¼€æºç¼ºé™·è·Ÿè¸ªç³»ç»Ÿï¼Œä»¥Webæ“ä½œçš„å½¢å¼æä¾›é¡¹ç›®ç®¡ç†åŠç¼ºé™·è·Ÿè¸ªæœåŠ¡ã€‚åœ¨åŠŸèƒ½ä¸Šã€å®ç”¨æ€§ä¸Šè¶³ä»¥æ»¡è¶³ä¸­å°å‹é¡¹ç›®çš„ç®¡ç†åŠè·Ÿè¸ªã€‚æ›´é‡è¦çš„æ˜¯å…¶å¼€æºï¼Œä¸éœ€è¦è´Ÿæ‹…ä»»ä½•è´¹ç”¨ã€‚éƒ¨ç½²ç¯å¢ƒMantiså®‰è£…éƒ¨ç½²ç¯å¢ƒå¦‚ä¸‹ï¼šåç§°ç‰ˆæœ¬å·æè¿°Mantisbt2.16.0BugTracing è½¯ä»¶æ“ä½œç³»ç»ŸCentOS 7RedHat ç¤¾åŒºå‘è¡Œç‰ˆPHP7.2.8PHP ç¯å¢ƒéƒ¨ç½²è¿‡ç¨‹è½¯ä»¶å®‰è£…å®‰è£…PHP1234# rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm# rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm# yum -y install libicu libicu-devel libicu-doc# yum -y install php70w php70w-gd php70w-xml php70w-mysql php70w-mbstring php70w-ldap php70w-xmlrpc php70w-odbc php70w-pear php70w-soap php70w-snmpå®‰è£…PHPMailer1https://github.com/Synchro/PHPMailer/releases/tag/v5.2.13ä¸‹è½½è§£å‹åˆ°/var/www/html/mantis/PHPMailer-5.2.13/å®‰è£…apache mysqlç­‰å¿…è¦è½¯ä»¶MySQLçš„Serveråœ¨CentOS 7ä¸Šä»é»˜è®¤è½¯ä»¶åˆ—è¡¨ä¸­è¢«ç§»é™¤äº†ï¼Œç”¨MariaDBæ¥ä»£æ›¿ï¼Œæ‰€ä»¥è¿™å¯¼è‡´æˆ‘ä»¬å¿…é¡»è¦å»å®˜ç½‘ä¸Šè¿›è¡Œä¸‹è½½ï¼Œæ‰¾åˆ°é“¾æ¥ï¼Œç”¨wgetæ‰“å¼€ï¼Œç„¶åå†å®‰è£…ï¼š123# wget http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm# rpm -ivh mysql57-community-release-el7-9.noarch.rpm# yum -y install mysql mysql-server mysql-develå¯åŠ¨MySQLæœåŠ¡1# systemctl start mysqldè·å–å®‰è£…MySQLæ—¶çš„åˆå§‹å¯†ç å¹¶ç™»å½•MySQL12# grep 'temporary password' /var/log/mysqld.log# mysql -u root -pç™»å½•æˆåŠŸåä¿®æ”¹å¯†ç ï¼Œé¦–å…ˆä¿®æ”¹å®‰å…¨ç­–ç•¥ä¸º0ï¼Œç„¶åå°†å¯†ç é•¿åº¦é™åˆ¶ä¿®æ”¹ä¸º1ï¼Œæœ€åä¿®æ”¹å¯†ç 123mysql&gt; set global validate_password_policy=0;mysql&gt; set global validate_password_length=1;mysql&gt; set password for root@localhost=password(&apos;root&apos;);å®‰è£…apache httpd123# yum -y install httpd# systemctl enable httpd //è‡ªå¯åŠ¨# systemctl start httpd //å¯åŠ¨å®‰è£…mantisä¸‹è½½12# cd /var/www/html# wget https://jaist.dl.sourceforge.net/project/mantisbt/mantis-stable/2.18.0/mantisbt-2.18.0.zipè§£å‹é‡å‘½å123# tar zxvf mantisbt-2.16.0.tar.gz# mv mantisbt-2.16.0 mantis# mv mantis /var/www/html/ä¿®æ”¹ç”¨æˆ·ç»„1# chown -R apache:apache /var/www/html/mantisåˆ›å»ºæ•°æ®åº“12345678910111213141516171819202122232425262728293031323334[root@centos-7 html]# mysql -u root -pEnter password:Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 8Server version: 5.7.23 MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.mysql&gt; create database mantis;Query OK, 1 row affected (0.00 sec)mysql&gt; grant all privileges on mantis.* to root@localhost identified by '123456';ERROR 1819 (HY000): Your password does not satisfy the current policy requirementsmysql&gt; set global validate_password_policy=0;Query OK, 0 rows affected (0.00 sec)mysql&gt; set global validate_password_length=1;Query OK, 0 rows affected (0.00 sec)mysql&gt; grant all privileges on mantis.* to root@localhost identified by '123456';Query OK, 0 rows affected, 1 warning (0.01 sec)mysql&gt; flush privileges;Query OK, 0 rows affected (0.00 sec)mysql&gt; exitBye[root@centos-7 html]#å®‰è£…æ‰“å¼€æµè§ˆå™¨åœ¨åœ°å€æ è¾“å…¥ http://10.211.55.17:82/mantis â€“ æ ¼å¼ä¸º http://IP:ç«¯å£/mantisæ–‡ä»¶å¤¹åç§°ï¼Œè¿™æ—¶å°±ä¼šè‡ªåŠ¨è·³è½¬åˆ°phpå®‰è£…å‘å¯¼çš„é¡µé¢:&#160;&#160;&#160;&#160;å¡«å¥½ä¸»æœºã€å¯†ç ç­‰ä¿¡æ¯ä¹‹åç‚¹å‡» Install/Upgrade Database å®‰è£…æ•°æ®åº“ã€‚ç™»å½•è¿›å…¥Mantisç™»å½•ç•Œé¢ï¼Œè¾“å…¥ç”¨æˆ·å¯†ç ï¼šadministrator/root ï¼Œç™»é™†å³å¯çœ‹åˆ°mantisä¸»ç•Œé¢ã€‚é‚®ä»¶é…ç½®ä¿®æ”¹MantisBT/config/config_inc.phpæ–‡ä»¶1234567891011$g_enable_email_notification = ON;$g_administrator_email = &apos;mailuser&apos;; # é‚®ç®±åœ°å€$g_webmaster_email = &apos;mailuser&apos;; # é‚®ç®±åœ°å€$g_from_email = &apos;mailuser&apos;; # é‚®ç®±åœ°å€$g_from_name = &apos;Mantis Bug Tracker&apos;;$g_phpMailer_method = PHPMAILER_METHOD_SMTP;$g_smtp_host = &apos;smtp.163.com&apos;; # SMTP æœåŠ¡å™¨$g_smtp_username = &apos;mailuser&apos;; # é‚®ç®±åœ°å€$g_smtp_password = &apos;mailpwd&apos;; # é‚®ç®±å¯†ç $g_use_phpMailer = ON; $g_return_path_email = &apos;mailuser&apos;; # é‚®ç®±åœ°å€ä¸­æ–‡é…ç½®ä¿®æ”¹/var/www/html/mantis/config_defaults_inc.phpæ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­æ‰¾åˆ°è¯­è¨€è®¾ç½®çš„åœ°æ–¹ï¼Œä¿®æ”¹$g_default_languageï¼Œå°†â€™englishâ€™æ”¹ä¸ºâ€™chinese_simplifiedâ€™ã€‚æ‡’å¾—æ‰¾çš„è¯ç›´æ¥å¤åˆ¶ä¸‹é¢çš„å‘½ä»¤ä¹Ÿå¯ä»¥ã€‚1# sed -i -e \"s/$g_default_language = 'auto'/$g_default_language = 'chinese_simplified'/g\" /var/www/html/mantis/config_defaults_inc.phpé—®é¢˜è§£å†³é—®é¢˜æè¿°ï¼šé…ç½®å®Œæˆåï¼Œæ— æ³•å‘é€é‚®ä»¶ã€‚è§£å†³æ–¹æ³•ï¼šé‚®ç®±é…ç½®é—®é¢˜ï¼Œæ·»åŠ æœ¬åœ°é‚®ç®±æœåŠ¡å™¨ï¼Œè®¾ç½®æœ¬åœ°é‚®ç®±ï¼Œå¯¹äºæœ¬åœ°æµ‹è¯•é‚®ç®±ï¼Œè®¾ç½®$g_smtp_host=æœ¬åœ°IPåœ°å€ã€‚å®ä¾‹è¿è¡Œä¸ºäº†ä¾¿äºç†è§£ï¼Œå…ˆç»™å‡ºBUGè·Ÿè¸ªæµç¨‹å›¾ï¼šMantisä½¿ç”¨æµç¨‹å›¾ï¼šæ–°ç”¨æˆ·åˆ›å»ºä¸ç™»å½•ç›®å‰æœ¬ç³»ç»Ÿçš„è®¿é—®åœ°å€ä¸ºï¼šhttp://IP:port/mantis/login_page.phpï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡é¦–é¡µæ˜¾ç¤ºçš„&quot;æ³¨å†Œä¸€ä¸ªæ–°å¸å·&quot;è¿›è¡Œæ–°ç”¨æˆ·æ³¨å†Œã€‚ç„¶åç‚¹å‡»é‚®ç®±å†…çš„æ¿€æ´»é‚®ä»¶ï¼Œè¿›è¡Œç”¨æˆ·åä¸å¯†ç çš„è®¾ç½®ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ç®¡ç†å‘˜åˆ›å»ºæ–°ç”¨æˆ·ç®¡ç†å‘˜å¯ä»¥å¯¹ç”¨æˆ·çš„è§’è‰²ã€æ‰€å±çš„é¡¹ç›®ä»¥åŠä¸€äº›å…¶ä»–çš„æƒ…å†µè¿›è¡Œå¯¹åº”çš„é…ç½®ã€‚å„ç§å…·ä½“çš„é…ç½®ä»¥åŠå„ç§è§’è‰²ç”¨æˆ·çš„æƒé™å¯å‚è§ç®¡ç†å‘˜çš„ç®¡ç†è§†å›¾ã€‚æ“ä½œæµç¨‹é¦–å…ˆï¼Œè¯´æ˜ä¸€ä¸‹ç³»ç»Ÿä¸­çš„è§’è‰²å’Œä¸€èˆ¬æ‰€å¯¹åº”çš„äººå‘˜ï¼šè§‚å¯Ÿè€…ï¼ˆå¤æŸ¥å‘˜ï¼‰ã€æŠ¥å‘Šè€…ï¼ˆæµ‹è¯•å‘˜ï¼‰ã€å‡çº§è€…ï¼ˆå®¡æ ¸å‘˜ï¼‰ã€å¼€å‘äººå‘˜ï¼ˆå¼€å‘å‘˜ï¼‰ã€ç»ç†ï¼ˆé¡¹ç›®ç»ç†ï¼‰ã€ç®¡ç†å‘˜ï¼ˆç³»ç»Ÿç®¡ç†å‘˜ï¼‰ã€‚è¿˜è¦ç®€å•è¯´æ˜ä¸€ä¸‹é—®é¢˜çŠ¶æ€åŠç›¸å…³å«ä¹‰ï¼ˆä»¥ä¸Šçš„ä¸¤ç‚¹åªæ˜¯ä¸­æ–‡ç†è§£å’Œä¸­æ–‡ç¿»è¯‘çš„é—®é¢˜ï¼Œå¯ä»¥åœ¨mantisbt-2.15.0/lang/strings_chinese_simplified.txtä¸­ä¿®æ”¹ï¼‰ï¼šæ–°å»ºï¼šæ–°æäº¤çš„æŠ¥å‘Šï¼Œé»˜è®¤çŠ¶æ€ä¸ºæ–°å»ºåé¦ˆï¼šä¿®æ­£çš„é—®é¢˜ç»è¿‡æµ‹è¯•åä»ä¸å®Œå–„è®¤å¯ï¼šæŠ¥å‘Šçš„é—®é¢˜ç¡®å®å­˜åœ¨å·²ç¡®è®¤ï¼šé€šå¸¸ä¸ºé¡¹ç›®ç»ç†ç¡®è®¤æ—¶ä½¿ç”¨å·²åˆ†é…ï¼šåˆ†æ´¾ç»™å…·ä½“å¼€å‘äººå‘˜å·²è§£å†³ï¼šä¿®æ”¹åçš„é—®é¢˜ï¼Œå¯ä»¥è¿›è¡Œæµ‹è¯•å·²å…³é—­ï¼šæµ‹è¯•é€šè¿‡çš„é—®é¢˜ï¼Œæˆ–è€…åœ¨æŠ¥å‘Šå‘¨æœŸå†…åˆ¤å®šä¸ºæ— éœ€ä¿®æ”¹çš„é—®é¢˜ã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸‹ç®€å•çš„æ“ä½œæµç¨‹ï¼Œè¿™é‡Œä»¥ç®¡ç†å‘˜å’ŒæŠ¥å‘Šè€…ä½œä¸ºç¤ºä¾‹ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿ç¤ºä¾‹ï¼Œç¤ºä¾‹ä¸­ç®¡ç†å‘˜åŒ…å«äº†å…¶ä»–è§’è‰²å±æ€§ã€‚è§‚å¯Ÿè€…ã€å‡çº§è€…ä»¥åŠç»ç†å¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œæ·»åŠ ã€‚æäº¤é—®é¢˜æƒé™ï¼šå…¨éƒ¨è§’è‰²å¿…å¡«ä¿¡æ¯ï¼šåˆ†ç±»ã€æ‘˜è¦ã€æè¿°ã€æŸ¥çœ‹æƒé™é€‰å¡«ä¿¡æ¯ï¼šå‡ºç°é¢‘ç‡ã€ä¸¥é‡æ€§ã€ä¼˜å…ˆçº§ã€é€‰æ‹©å¹³å°è®¾ç½®ã€é‡ç°æ­¥éª¤ã€è¾…åŠ©ã€æ ‡ç­¾ã€ä¸Šä¼ æ–‡ä»¶ã€‚é—®é¢˜å•çŠ¶æ€ï¼šæ–°å»ºå®¡æ ¸é—®é¢˜æƒé™ï¼šå®¡æ ¸å‘˜ã€é¡¹ç›®ç»ç†ã€ï¼ˆå¼€å‘å‘˜ï¼‰å¯è¿›è¡Œæ“ä½œï¼šæ·»åŠ é™„ä»¶ã€æ·»åŠ æ³¨é‡Šé—®é¢˜å•çŠ¶æ€ï¼šæ–°å»º -&gt; å·²å®¡æ ¸ï¼ˆè®¤å¯ï¼‰ï¼Œå®¡æ ¸å‘˜å¯¹é—®é¢˜è¿›è¡Œå®¡æ ¸ï¼Œå¹¶ç¡®è®¤æ­¤é—®é¢˜ï¼›æ–°å»º -&gt; å·²å…³é—­ï¼Œå®¡æ ¸å‘˜è®¤ä¸ºæŠ¥å‘Šçš„é—®é¢˜ä¸å­˜åœ¨æˆ–æ— éœ€ä¿®æ”¹ã€‚ç¡®è®¤é—®é¢˜æƒé™ï¼šé¡¹ç›®ç»ç†é—®é¢˜å•çŠ¶æ€ï¼šè®¤å¯ -&gt; å·²ç¡®è®¤ï¼Œé¡¹ç›®ç»ç†ç¡®è®¤é—®é¢˜ï¼Œç¡®è®¤åè¿›å…¥ä¿®æ”¹æµç¨‹ï¼›è®¤å¯ -&gt; åé¦ˆï¼Œé¡¹ç›®ç»ç†å¯¹é—®é¢˜å­˜åœ¨å¼‚è®®ï¼Œåé¦ˆç»™å®¡æ ¸è€…ã€‚åˆ†æ´¾é—®é¢˜æƒé™ï¼šé¡¹ç›®ç»ç†ã€å¼€å‘å‘˜é—®é¢˜å•çŠ¶æ€ï¼šå·²ç¡®è®¤ -&gt; å·²åˆ†æ´¾ï¼Œé¡¹ç›®ç»ç†åˆ†æ´¾é—®é¢˜ç»™ç›¸åº”çš„å¼€å‘äººå‘˜ï¼›å·²åˆ†æ´¾ -&gt; å·²åˆ†æ´¾ï¼Œå¼€å‘ç»„é•¿ä¹Ÿå¯ä»¥ç»™ç»„å‘˜åˆ†æ´¾é—®é¢˜ã€‚ä¿®å¤é—®é¢˜æƒé™ï¼šå¼€å‘å‘˜é—®é¢˜å•çŠ¶æ€ï¼šå·²åˆ†æ´¾ -&gt; å·²è§£å†³ï¼Œåˆ†æ´¾ç»™å¼€å‘å‘˜çš„é—®é¢˜å·²ä¿®å¤åŠå†…éƒ¨æµ‹è¯•ï¼Œå¯ä»¥æäº¤ä¸šåŠ¡æµ‹è¯•æ—¶ã€‚æµ‹è¯•é—®é¢˜æƒé™ï¼šæŠ¥å‘Šè€…é—®é¢˜å•çŠ¶æ€ï¼šå·²è§£å†³ -&gt; å·²å…³é—­ï¼ŒæŠ¥å‘Šè€…å¯¹å·²è§£å†³çš„é—®é¢˜æµ‹è¯•ä¸”æµ‹è¯•é€šè¿‡ï¼›å·²è§£å†³ -&gt; åé¦ˆï¼ŒæŠ¥å‘Šè€…å¯¹å·²è§£å†³çš„é—®é¢˜æµ‹è¯•ï¼Œè€Œæµ‹è¯•æœªé€šè¿‡ï¼Œå¼€å‘å‘˜å¯å¯¹åé¦ˆçš„é—®é¢˜ç»§ç»­ä¿®å¤ï¼Œå†è¿›å…¥åç»­ç¯èŠ‚ã€‚åˆ°æ­¤ï¼Œæ•´ä¸ªæµç¨‹ç»“æŸã€‚è¯´æ˜ï¼šæ•´ä¸ªæµç¨‹ä¸­ï¼Œé—®é¢˜å¤„äºä¸åŒçš„çŠ¶æ€ï¼Œæ ‡è®°çš„é¢œè‰²ä¸åŒã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.iamzhl.top/categories/Linux/"},{"name":"è¿ç»´","slug":"Linux/è¿ç»´","permalink":"https://blog.iamzhl.top/categories/Linux/è¿ç»´/"}],"tags":[{"name":"MantisBT","slug":"MantisBT","permalink":"https://blog.iamzhl.top/tags/MantisBT/"},{"name":"Bugè¿½è¸ª","slug":"Bugè¿½è¸ª","permalink":"https://blog.iamzhl.top/tags/Bugè¿½è¸ª/"}]},{"title":"awk to use","slug":"awk-to-use","date":"2018-08-05T10:01:00.000Z","updated":"2019-03-11T16:21:49.905Z","comments":true,"path":"awk-to-use.html","link":"","permalink":"https://blog.iamzhl.top/awk-to-use.html","excerpt":"","text":"ç®€ä»‹awkæ˜¯Linuxæœ€å¸¸ç”¨çš„å­—ç¬¦ä¸²å¤„ç†å·¥å…·awk å†…ç½®å‚æ•°NR â€“ è¡Œå·NF â€“ åˆ—æ€»æ•°FILENAME â€“ å½“å‰æ–‡ä»¶åå®ä¾‹æ‰“å°/etc/passwdæ¯è¡Œçš„è¡Œå·ï¼Œæ¯è¡Œçš„å­—ç¬¦æ€»æ•°ä»¥åŠç¬¬ä¸€è¡Œ(å³æ¯è¡Œçš„ç”¨æˆ·å)printå®ç°1$ awk -F ':' '&#123;print \"Line:\"NR,\"Col:\"NF,\"User:\"$1&#125;' /etc/passwdprintfå®ç°1$ awk -F ':' '&#123;printf \"Line:%s,Col:%s,User:%s\\n\",NR,NF,$1&#125;' /etc/passwdæ‰“å°/etc/passwdä¸­UID(å³ç¬¬ä¸‰åˆ—)å¤§äº100çš„è¡Œçš„è¡Œå·ï¼Œå­—ç¬¦æ€»æ•°ä»¥åŠç¬¬ä¸€åˆ—(å³æ¯è¡Œçš„ç”¨æˆ·å)printå®ç°1$ awk -F ':' '&#123;if ($3&gt;100) print \"Line:\"NR,\"Col:\"NF,\"User:\",$1&#125;' /etc/passwdprintfå®ç°1$ awk -F ':' '&#123;if ($3&gt;100) printf(\"Line:%s,Col:%s,User:%s\\n\",NR,NF,$1)&#125;' /etc/passwdæå–æœåŠ¡å™¨æ—¥å¿—fresh.logä¸­ERRORè¡Œå‘ç”Ÿçš„æ—¶é—´fresh.logå†…å®¹æ ¼å¼å¦‚ä¸‹å›¾åˆ©ç”¨sedå’Œawk1$ sed '/ERROR/p' fresh.log | awk '&#123;print $1&#125;'åªåˆ©ç”¨awk1$ awk '/ERROR/&#123;print $1&#125;' fresh.logSTART ENDawkæä¾›äº†ä¸€ä¸ªç®€å•çš„æ–¹å¼åœ¨åˆ©ç”¨awkå¤„ç†ç¼–ç¨‹éœ€æ±‚æ—¶çš„é—®é¢˜ï¼Œä¾‹å¦‚åˆ¶è¡¨æ—¶éœ€åœ¨è¡¨å‰æ‰“å°è¡¨å¤´ã€è¡¨åæ‰“å°è¡¨å°¾ã€‚ä¸¾ä¸€ä¸ªæ¡ˆä¾‹ï¼Œåˆ¶è¡¨æ˜¾ç¤º/etc/passwdçš„è¡Œå·ã€åˆ—å·å’Œç”¨æˆ·åæ€è·¯æ˜¯é¦–å…ˆåœ¨å¼€å¤´æ‰“å°â€Line Col Userâ€ï¼Œç„¶åä¾æ¬¡æ‰“å°/etc/passwdæ¯ä¸€è¡Œçš„è¡Œå·ã€åˆ—å·å’Œç”¨æˆ·åï¼Œæœ€åå¦èµ·ä¸€è¡Œæ‰“å°--------å¹¶åœ¨ä¸­é—´åŠ å…¥awkæ“ä½œçš„æ–‡ä»¶åä»¥ç»“æŸåˆ¶è¡¨1$ awk -F ':' 'BEGIN&#123;print \"Line Col User\"&#125;&#123;print NR,NF,$1&#125;END&#123;print \"------\",FILENAME,\"------\"&#125;' /etc/passwd | grep -v \"#\"å…¶ä¸­çš„grep -v &quot;#&quot;ç”¨ä»¥è¿‡æ»¤æ‰/etc/passwdä¸­å¼€å¤´çš„æ— ç”¨è¯´æ˜ä¿¡æ¯è¿è¡Œç»“æœä¸ºæˆªå›¾æ–¹ä¾¿è¿™é‡Œåªæˆªäº†å‰é¢çš„ä¸€äº›è¡Œå’Œæœ€åçš„ä¸€äº›è¡Œ","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.iamzhl.top/categories/Linux/"},{"name":"å­¦ä¹ ","slug":"Linux/å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/Linux/å­¦ä¹ /"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.iamzhl.top/tags/Linux/"},{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/tags/å­¦ä¹ /"}]},{"title":"quicksort","slug":"quicksort","date":"2018-07-20T04:53:01.000Z","updated":"2019-03-11T16:21:49.905Z","comments":true,"path":"quicksort.html","link":"","permalink":"https://blog.iamzhl.top/quicksort.html","excerpt":"","text":"ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include \"stdio.h\"void quicksort(int a[], int left, int right) &#123; int i, j, t, temp; if(left &gt; right) return; temp = a[left]; i = left; j = right; while(i != j) &#123; while(a[j] &gt;= temp &amp;&amp; i &lt; j) j --; while(a[i] &lt;= temp &amp;&amp; i &lt; j) i ++; if(i &lt; j) &#123; t = a[i]; a[i] = a[j]; a[j] = t; &#125; &#125; a[left] = a[i]; a[i] = temp; quicksort(a, left, i-1); quicksort(a, i+1, right);&#125; int main()&#123; int i, j, t; int n = 5; scanf(\"%d\", &amp;n); int a[n]; for(i = 1;i &lt;= n; i++) scanf(\"%d\", &amp;a[i]); quicksort(a, 1, n); for(i=1; i &lt;= n; i++) printf(\"%d \", a[i]); putchar('\\n'); return 0; &#125;è¿è¡Œç»“æœ","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"å¿«é€Ÿæ’åº","slug":"å¿«é€Ÿæ’åº","permalink":"https://blog.iamzhl.top/tags/å¿«é€Ÿæ’åº/"}]},{"title":"High Sierra å’Œ Mojave é•œåƒå¤§å…¨","slug":"High-Sierra-and-Mojave-Images-update","date":"2018-07-15T07:58:04.000Z","updated":"2019-03-30T13:15:13.490Z","comments":true,"path":"High-Sierra-and-Mojave-Images-update.html","link":"","permalink":"https://blog.iamzhl.top/High-Sierra-and-Mojave-Images-update.html","excerpt":"","text":"å‰è¨€æœ¬äººæ‰€æœ‰é•œåƒå‡é‡‡ç”¨Applestoreå®˜æ–¹å•†åº—ä¸‹è½½æ•´åŒ…åˆ¶ä½œï¼Œé€‚ç”¨äºgptåˆ†åŒºè¡¨ï¼ŒåŠ å…¥äº†å„ä¸ªç‰ˆæœ¬åˆšæ¨é€æ—¶çš„Cloveræºç æœ€æ–°å¼•å¯¼ï¼Œåç»­çš„æµ‹è¯•ç‰ˆæ¨é€ä¹‹åæˆ‘ä¼šå°½æ—©åšå‡ºä¾›å›å‹ä½¿ç”¨ï¼Œå¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒç»™æ¥¼ä¸»åŠ ä¸ªåˆ†ï¼Œä½ ä»¬çš„æ”¯æŒå°±æ˜¯æˆ‘çš„åŠ¨åŠ›æ¥¼ä¸»æ‰€åšçš„é•œåƒå…¨éƒ¨é›†æˆå¤šé©±åŠ¨ï¼Œå¤šconfigï¼Œé•œåƒæ‰€é›†æˆçš„è¿™äº›ä¸œè¥¿åªæ˜¯æ–¹ä¾¿å¤§å®¶ç”¨ï¼Œå›å‹å†™å…¥ä¹‹åè¯·é€‚å½“åˆ å‡ä½¿ç”¨ï¼Œæœ‰èƒ½åŠ›çš„æˆ–è€…æœ¬èº«è‡ªå·±æœ‰ä¸€å¥—é€‚åˆè‡ªå·±çš„EFIçš„æœ‹å‹è¯·ç”¨è‡ªå·±çš„ï¼Œæœ›å‘¨çŸ¥ã€‚PS: é•œåƒå†…é©±åŠ¨å’Œconfigæ˜¯ä¸ºæ–°æ‰‹å‡†å¤‡ï¼Œè€é¸Ÿå‹¿å–·é•œåƒå†…æœ‰æ–‡ä»¶è¯¦ç»†è¯´æ˜ï¼Œæ–°æ‰‹è¯·æŒ‰è¯´æ˜è‡ªè¡Œé…ç½®å¼•å¯¼ã€‚æœ€è¿‘ä¸€æ¬¡æ›´æ–°å†…å®¹æ–°æ¬¾MacBook Proä¸Šå¸‚ä¹‹åï¼ŒAppleæ¨å‡ºç‰¹ä¾›ç‰ˆæœ¬ä»¥æ”¯æŒå…«ä»£CPUï¼Œä¾ç„¶æ˜¯10.13.6ï¼Œæ­¤æ¬¡ç‰ˆæœ¬å·ä¸º17G2208ï¼Œç»æµ‹è¯•ï¼Œå·²åŸç”Ÿæ”¯æŒå…«ä»£æœºå™¨æ­¤å¤–,Cloverä¹ŸåŠæ—¶è·Ÿæ–°äº†mbp15,1ä»¥åŠmbp15,2çš„SMBIOSï¼Œæ¨èå¤§å®¶ä½¿ç”¨ï¼Œä½å‹æœ¬ç”¨mbp15,2ï¼Œå…¶ä»–mbp15,1ï¼Œä¸‹é¢æ˜¯SMBIOSï¼Œå¤§å®¶å¯ä»¥ç›´æ¥å¥—ç”¨ï¼Œè®°å¾—ä¿®æ”¹BoardSerialNumberä¸ºè‡ªå·±ä¹‹å‰æ­£åœ¨ç”¨çš„ã€‚MacBook Pro 15,1123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;key&gt;SMBIOS&lt;/key&gt;&lt;dict&gt; &lt;key&gt;BiosReleaseDate&lt;/key&gt; &lt;string&gt;06/26/2018&lt;/string&gt; &lt;key&gt;BiosVendor&lt;/key&gt; &lt;string&gt;Apple Inc.&lt;/string&gt; &lt;key&gt;BiosVersion&lt;/key&gt; &lt;string&gt;MBP151.88Z.0178.B00.1806260902&lt;/string&gt; &lt;key&gt;Board-ID&lt;/key&gt; &lt;string&gt;Mac-937A206F2EE63C01&lt;/string&gt; &lt;key&gt;BoardManufacturer&lt;/key&gt; &lt;string&gt;Apple Inc.&lt;/string&gt; &lt;key&gt;BoardSerialNumber&lt;/key&gt; &lt;string&gt;C02418108QXF64WCB&lt;/string&gt; &lt;key&gt;BoardType&lt;/key&gt; &lt;integer&gt;11&lt;/integer&gt; &lt;key&gt;BoardVersion&lt;/key&gt; &lt;string&gt;1.0&lt;/string&gt; &lt;key&gt;ChassisAssetTag&lt;/key&gt; &lt;string&gt;MacBook-Aluminum&lt;/string&gt; &lt;key&gt;ChassisManufacturer&lt;/key&gt; &lt;string&gt;Apple Inc.&lt;/string&gt; &lt;key&gt;ChassisType&lt;/key&gt; &lt;string&gt;0x09&lt;/string&gt; &lt;key&gt;Family&lt;/key&gt; &lt;string&gt;MacBook Pro&lt;/string&gt; &lt;key&gt;FirmwareFeatures&lt;/key&gt; &lt;string&gt;0xFC0FE137&lt;/string&gt; &lt;key&gt;FirmwareFeaturesMask&lt;/key&gt; &lt;string&gt;0xFF1FFF3F&lt;/string&gt; &lt;key&gt;LocationInChassis&lt;/key&gt; &lt;string&gt;Part Component&lt;/string&gt; &lt;key&gt;Manufacturer&lt;/key&gt; &lt;string&gt;Apple Inc.&lt;/string&gt; &lt;key&gt;Mobile&lt;/key&gt; &lt;true/&gt; &lt;key&gt;PlatformFeature&lt;/key&gt; &lt;string&gt;0x1A&lt;/string&gt; &lt;key&gt;ProductName&lt;/key&gt; &lt;string&gt;MacBookPro15,1&lt;/string&gt; &lt;key&gt;SerialNumber&lt;/key&gt; &lt;string&gt;C02X1HACKGYG&lt;/string&gt; &lt;key&gt;Version&lt;/key&gt; &lt;string&gt;1.0&lt;/string&gt;&lt;/dict&gt;MacBook Pro 15,2123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;key&gt;SMBIOS&lt;/key&gt;&lt;dict&gt; &lt;key&gt;BiosReleaseDate&lt;/key&gt; &lt;string&gt;06/26/2018&lt;/string&gt; &lt;key&gt;BiosVendor&lt;/key&gt; &lt;string&gt;Apple Inc.&lt;/string&gt; &lt;key&gt;BiosVersion&lt;/key&gt; &lt;string&gt;MBP152.88Z.0178.B00.1806260902&lt;/string&gt; &lt;key&gt;Board-ID&lt;/key&gt; &lt;string&gt;Mac-827FB448E656EC26&lt;/string&gt; &lt;key&gt;BoardManufacturer&lt;/key&gt; &lt;string&gt;Apple Inc.&lt;/string&gt; &lt;key&gt;BoardSerialNumber&lt;/key&gt; &lt;string&gt;C02418108QXF64WCB&lt;/string&gt; &lt;key&gt;BoardType&lt;/key&gt; &lt;integer&gt;11&lt;/integer&gt; &lt;key&gt;BoardVersion&lt;/key&gt; &lt;string&gt;1.0&lt;/string&gt; &lt;key&gt;ChassisAssetTag&lt;/key&gt; &lt;string&gt;MacBook-Aluminum&lt;/string&gt; &lt;key&gt;ChassisManufacturer&lt;/key&gt; &lt;string&gt;Apple Inc.&lt;/string&gt; &lt;key&gt;ChassisType&lt;/key&gt; &lt;string&gt;0x09&lt;/string&gt; &lt;key&gt;Family&lt;/key&gt; &lt;string&gt;MacBook Pro&lt;/string&gt; &lt;key&gt;FirmwareFeatures&lt;/key&gt; &lt;string&gt;0xFC0FE137&lt;/string&gt; &lt;key&gt;FirmwareFeaturesMask&lt;/key&gt; &lt;string&gt;0xFF1FFF3F&lt;/string&gt; &lt;key&gt;LocationInChassis&lt;/key&gt; &lt;string&gt;Part Component&lt;/string&gt; &lt;key&gt;Manufacturer&lt;/key&gt; &lt;string&gt;Apple Inc.&lt;/string&gt; &lt;key&gt;Mobile&lt;/key&gt; &lt;true/&gt; &lt;key&gt;PlatformFeature&lt;/key&gt; &lt;string&gt;0x1A&lt;/string&gt; &lt;key&gt;ProductName&lt;/key&gt; &lt;string&gt;MacBookPro15,2&lt;/string&gt; &lt;key&gt;SerialNumber&lt;/key&gt; &lt;string&gt;C02X1HACJHCD&lt;/string&gt; &lt;key&gt;Version&lt;/key&gt; &lt;string&gt;1.0&lt;/string&gt;&lt;/dict&gt;é•œåƒå†…å®¹é•œåƒåœ°å€æ¯å‡ºä¸€ä¸ªç‰ˆæœ¬éƒ½å†™ä¸€ä¸ªå¸–å­çš„è¯å¤ªéº»çƒ¦ï¼Œæ‰€ä»¥å†³å®šç›´æ¥å†™ä¸€ä¸ªé•œåƒçš„é›†åˆè´´ï¼Œä¸‹é¢æ˜¯å„ä¸ªç‰ˆæœ¬çš„é“¾æ¥ï¼š1é“¾æ¥:https://pan.baidu.com/s/1ymm0dm2R3dlFGyCH88fbmA å¯†ç :vvoné•œåƒæ ¡éªŒä¸ºé˜²æ­¢ä¸‹è½½æ–‡ä»¶æŸåï¼Œè¯·å°½é‡è¿›è¡ŒMD5ã€SHA1ã€SHA256æ ¡éªŒï¼Œæ ¡éªŒæ–‡ä»¶ä»¥å›¾ç‰‡çš„å½¢å¼å­˜åœ¨äºå„ä¸ªé•œåƒæ–‡ä»¶å¤¹å†…ã€‚é•œåƒåˆ—è¡¨OS X EI CapitanOS X EI Capitan 10.11.6 15G31macOS SierramacOS Sierra 10.12.5 16F73macOS Sierra 10.12.6 16G29macOS High SierramacOS High Sierra DP1 17A264cmacOS High Sierra DP1 17A291mmacOS High Sierra DP1 17A306FmacOS High Sierra DP1 17A315imacOS High Sierra DP1 17A330hmacOS High Sierra DP1 17A344bmacOS High Sierra DP1 17A352amacOS High Sierra DP1 17A358amacOS High Sierra DP1 17A360amacOS High Sierra Golden Master 17A362amacOS High Sierra 10.13.0 17A365macOS High Sierra 10.13.0 17A405macOS High Sierra 10.13.1 17B48macOS High Sierra 10.13.2 17C88macOS High Sierra 10.13.2 17C88 å…‰ - æš—å½±ç²¾çµ II ä¸“ç”¨macOS High Sierra 10.13.3 17D47macOS High Sierra 10.13.4 17E199macOS High Sierra 10.13.5 17F77macOS High Sierra 10.13.6 17G65macOS High Sierra 10.13.6 17G2112macOS High Sierra 10.13.6 17G2208macOS MojavemacOS Mojave 10.14 DP1 18A293umacOS Mojave 10.14 DP2 18A324hmacOS Mojave 10.14 DP3 18A326hmacOS Mojave 10.14 DP4 18A336emacOS Mojave 10.14 DP5 18A347emacOS Mojave 10.14 DP6 18A353dmacOS Mojave 10.14 DP7 18A365amacOS Mojave 10.14 DP8 18A371amacOS Mojave 10.14 DP9 18A377amacOS Mojave 10.14 DP10 18A384amacOS Mojave 10.14 Golden Master 18A389macOS Mojave 10.14.0 18A389macOS Mojave 10.14.1 18B75macOS Mojave 10.14.1 18B2107macOS Mojave 10.14.1 18B3094macOS Mojave 10.14.2 18C54macOS Mojave 10.14.3 18D42macOS Mojave 10.14.4 18E226macOS Mojave 10.14.4 18E2034 (iMac 19 ç‰¹ä¾›ç‰ˆ)","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"åŸç‰ˆé•œåƒ","slug":"åŸç‰ˆé•œåƒ","permalink":"https://blog.iamzhl.top/tags/åŸç‰ˆé•œåƒ/"},{"name":"é»‘è‹¹æœé•œåƒ","slug":"é»‘è‹¹æœé•œåƒ","permalink":"https://blog.iamzhl.top/tags/é»‘è‹¹æœé•œåƒ/"}]},{"title":"mac ä¸Šä½¿ç”¨å­—ç¬¦ä¸²å¤„ç†ç¥å™¨ sed çš„æ­£ç¡®å§¿åŠ¿","slug":"Command-sed-on-mac","date":"2018-07-07T14:04:34.000Z","updated":"2019-03-11T16:21:49.886Z","comments":true,"path":"Command-sed-on-mac.html","link":"","permalink":"https://blog.iamzhl.top/Command-sed-on-mac.html","excerpt":"","text":"ç®€ä»‹sedæ˜¯shellä¸­å­—ç¬¦ä¸²å¤„ç†çš„ä¸‰å¤§ç¥å™¨ä¹‹ä¸€ï¼Œåˆ©ç”¨sedè¿›è¡Œå­—ç¬¦ä¸²å¤„ç†å¯¹ä»äº‹Linuxç›¸å…³èŒä¸šçš„äººæ¥è¯´æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œä½†æ˜¯åœ¨macä¸Šçš„sedä¸Linuxçš„sedæ˜¯æœ‰ä¸€å®šåŒºåˆ«çš„ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Œå› ä¸ºmacå®è´¨ä¸Šå’ŒLinuxå°±æ˜¯ä¸ä¸€æ ·çš„ï¼Œå°½ç®¡å…¶ä¸­å¾ˆå¤šåŸºæœ¬å‘½ä»¤æ˜¯é€šç”¨çš„ï¼Œä¾‹å¦‚lsã€cdã€pwdç­‰ã€‚macæ˜¯unixå†…æ ¸ï¼Œæ˜¯åŸºäºFreeBSDçš„ï¼Œè€Œæˆ‘ä»¬å¸¸ç”¨çš„Linuxå¦‚Ubuntuã€CentOSç­‰æ˜¯Linuxå†…æ ¸ã€‚sedçš„ä¸åŒéå¸¸å¤§çš„ä¸€ä¸ªå‘å°±æ˜¯sedå‘½ä»¤çš„ä¸ç»Ÿä¸€ï¼ŒLinuxçš„sedæ˜¯åŸºäºGNUçš„sedï¼Œè€ŒFreeBSDä¸­çš„sedåˆ™æ˜¯åŸºäºXNUçš„ï¼Œå…¶ç”¨æ³•æœ‰äº›ä¸åŒï¼Œä¸‹é¢ä¼šåšå¯¹æ¯”ç®€è¦è¯´æ˜ã€‚æ‹¿æœ€å¸¸ç”¨çš„è¿½åŠ è¡Œæ¥è¯´ï¼Œæˆ‘ä»¬å‡è®¾ä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘éœ€è¦å¯¹test.txtæ–‡ä»¶å®æ—¶å†™å…¥ï¼Œåœ¨æ–‡ä»¶ç¬¬äºŒè¡Œæ·»åŠ 1234ï¼Œæ–‡ä»¶åˆå§‹å†…å®¹å¦‚ä¸‹æ‰€ç¤º1234567$ cat test.txt333311123333test44445555åœ¨Linuxä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯å®ç°è¿½åŠ 1$ sed -i -e '1a\\1234' test.txtä½†æ˜¯åœ¨macä¸‹è¿™æ¡å‘½ä»¤ä¼šæŠ¥é”™å¦‚ä¸‹1sed: 1: &quot;1a\\1234&quot;: extra characters after \\ at the end of a commandè¿™æ˜¯å› ä¸ºxnuçš„sedå‘½ä»¤ç”¨æ³•ä¸åŒäºgnuï¼Œå…·ä½“å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹sedå‘½ä»¤æ‰‹å†Œ1$ man sedé‚£ä¹ˆæˆ‘æƒ³ç”¨æˆ‘ä¹ æƒ¯çš„Linuxçš„GNU-sedæ€ä¹ˆè§£å†³å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥å®‰è£…gnu-sedæ¥ä»£æ›¿ç³»ç»Ÿå†…çš„sedï¼Œå…·ä½“æ–¹æ³•å¦‚ä¸‹é¦–å…ˆæˆ‘ä»¬éœ€è¦HomebrewåŒ…ç®¡ç†å™¨1$ /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"ç„¶åï¼Œé€šè¿‡brewæ¥å®‰è£…gnu-sed1$ brew install gnu-sedé»˜è®¤brewä¼šå°†gnu-sedå®‰è£…åˆ°/usr/local/Cellar/ç›®å½•ä¸‹ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨gsedæ¥æ‰§è¡Œäº†1$ gsed -i -e '1a\\1234' test.txtå¦‚æœæç¤ºå‘½ä»¤æ‰¾ä¸åˆ°çš„è¯ï¼Œåªéœ€è¦å°†ä¸‹é¢çš„è·¯å¾„æ·»åŠ åˆ°PATHç¯å¢ƒå˜é‡å°±å¯ä»¥äº†1/usr/local/Cellar/gnu-sed/4.5/bin/æˆ–è€…å°†/usr/local/Cellar/gnu-sed/4.5/bin/gsedæ·»åŠ åˆ«åéƒ½å¯ä»¥ã€‚ç½‘ä¸Šä¹Ÿæœ‰äººç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…1$ brew install gnu-sed --with-default-namesè²Œä¼¼è¿™ç§æ–¹å¼ç›´æ¥æ›¿ä»£äº†ç³»ç»Ÿå†…çš„sedï¼Œæˆ‘ä¸ªäººä¸æ˜¯å¾ˆæ¨èè¿™ç§æ–¹å¼ï¼Œä¸æ˜¯è¯´ä¸å¥½ï¼Œè€Œæ˜¯å½“æˆ‘ä»¬çš„æœºå™¨ä¸åªæ˜¯ä¸€ä¸ªäººç”¨ï¼Œæ˜¯åšæœåŠ¡å™¨ç”¨çš„ï¼Œæˆ–è€…æœ‰ä¸€äº›æˆ‘ä»¬æ­£åœ¨ç”¨çš„è„šæœ¬é‡Œé¢æœ‰xnuçš„sedè°ƒç”¨ï¼Œé‚£ä¹ˆè¿™ç§æ–¹å¼å°±ä¼šé€ æˆä¸€äº›é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä¸ªäººè®¤ä¸ºå®‰è£…äº†gnu-sedåï¼Œåˆ©ç”¨åˆ«åã€ç¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶ç­‰æ–¹å¼è°ƒç”¨æ˜¯æ›´å¥½çš„ä¸€ç§æ–¹æ³•ï¼Œå½“ç„¶ï¼Œè¿™ä¸ªæ ¹æ®ä¸ªäººéœ€æ±‚å†³å®šå°±å¥½äº†ã€‚","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"sed","slug":"sed","permalink":"https://blog.iamzhl.top/tags/sed/"},{"name":"gnu-sed","slug":"gnu-sed","permalink":"https://blog.iamzhl.top/tags/gnu-sed/"},{"name":"xnu-sed","slug":"xnu-sed","permalink":"https://blog.iamzhl.top/tags/xnu-sed/"}]},{"title":"iTerm2 + ohmyzsh + powerlevel9k + tmux æ‰“é€ ä¸“å±ä¸ªæ€§åŒ–ç»ˆç«¯","slug":"Custom-terminal-on-your-mac","date":"2018-06-26T03:04:23.000Z","updated":"2019-03-11T16:21:49.888Z","comments":true,"path":"Custom-terminal-on-your-mac.html","link":"","permalink":"https://blog.iamzhl.top/Custom-terminal-on-your-mac.html","excerpt":"","text":"å…ˆæ¥å¼ å›¾é•‡æ¥¼é¦–å…ˆæ­å»ºå¥½å®‰è£…homebrewç¯å¢ƒåœ¨macä¸Šæ‹¥æœ‰ä¸€ä¸ªå¥½çš„åŒ…ç®¡ç†å™¨æ˜¯éå¸¸é‡è¦çš„ï¼ŒDebianå®¶æ—æœ‰aptï¼Œmacæœ‰homebrewï¼Œéå¸¸å¥½ç”¨ã€‚1$ /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"å®‰è£…oh-my-zshoh-my-zshæ˜¯ä¸€æ¬¾éå¸¸å¥½ç”¨ä¸”ç¾è§‚çš„shellå·¥å…·ï¼Œå…¶å‘½ä»¤çš„è¡¥å…¨ç­‰éƒ½æ˜¯å…¶ä»–å¦‚bashã€cshç­‰æ‰€æ— æ³•æ¯”æ‹Ÿçš„å®‰è£…æ–¹å¼ä¸¤ç§é€šè¿‡curl1$ sh -c \"$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\"é€šè¿‡wget1$ sh -c \"$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)\"å®‰è£…å®Œæˆåè®¾å®šzshä¸ºé»˜è®¤shell1$ chsh -s /bin/zshè®¾å®šoh-my-zshçš„ä¸»é¢˜oh-my-zshæ”¯æŒéå¸¸å¤šçš„ä¸»é¢˜ï¼Œè¿™é‡Œæˆ‘å°†æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢çš„ä¸»é¢˜powerlevel9kä½œä¸ºå®ä¾‹1$ git clone https://github.com/bhilburn/powerlevel9k.git ~/.oh-my-zsh/custom/themes/powerlevel9kç„¶åä¿®æ”¹zshçš„é…ç½®æ–‡ä»¶1$ vim ~/.zshrcå°†ZSH_THEMEè®¾å®šä¸ºpowerlevel9kï¼Œå¦‚å›¾ç„¶åä¿å­˜é€€å‡ºï¼Œä½¿é…ç½®æ–‡ä»¶é‡æ–°ç”Ÿæ•ˆ1$ source ~/.zshrcå®‰è£…iTerm2iTerm2æ˜¯ä¸€æ¬¾æ›¿ä»£ç³»ç»Ÿå†…ç½®ç»ˆç«¯çš„å·¥å…·ï¼Œå…¶åŠŸèƒ½æ›´å¼ºå¤§ï¼Œå¯å®šä¹‰æ‰©å±•æ€§ä¹Ÿæ›´å¼º1$ brew cask install iterm2å®‰è£…archeyå°å·¥å…·archeyæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œç¾åŒ–å·¥å…·ï¼Œå…¶å¯ä»¥åœ¨è¿è¡Œç»ˆç«¯ç¨‹åºæ—¶ä¸ºç”¨æˆ·æ˜¾ç¤ºæ‰“å°å‡ºä¸€ä¸ªä¸ƒå½©çš„è‹¹æœlogoè¿™ä¸ªå·¥å…·çš„åŸä½œè€…æ˜¯obihannï¼Œæˆ‘å°†å…¶æŒ‰ç…§è‡ªå·±çš„ä¹ æƒ¯è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ï¼Œå¹¶åšäº†æ±‰åŒ–ï¼Œæœ‹å‹ä»¬å¯ä»¥è‡ªè¡Œé€‰æ‹©åŸä½œè€…çš„å®‰è£…æ–¹å¼1brew install archeyæˆ‘ä¸ªäººä¿®æ”¹çš„å’Œæ±‰åŒ–çš„å¯ä»¥é€šè¿‡æˆ‘GitHubä»“åº“ä¸­Pagesé¡µé¢çš„READMEè¯´æ˜æ–‡æ¡£è¿›è¡Œå®‰è£…ï¼ŒæŒ‰ç…§è¦æ±‚å®‰è£…å¹¶é…ç½®å®Œæˆåï¼Œé€€å‡ºç»ˆç«¯å†é‡æ–°æ‰“å¼€å°±å¯ä»¥å‘ç°ç»ˆç«¯å¯ä»¥è‡ªåŠ¨æ‰“å°å›¾ä¸­çš„ä¸ƒå½©è‹¹æœäº†ã€‚https://athlonreg.github.io/archey-osx/å®‰è£…tmuxå°å·¥å…·Tmuxæ˜¯ä¸€ä¸ªä¼˜ç§€çš„ç»ˆç«¯å¤ç”¨è½¯ä»¶ï¼Œç±»ä¼¼GNU Screenï¼Œä½†æ¥è‡ªäºOpenBSDï¼Œé‡‡ç”¨BSDæˆæƒã€‚1$ brew install tmuxå®‰è£…å®Œæˆåè¾“å…¥å‘½ä»¤tmuxå³å¯æ‰“å¼€è½¯ä»¶ï¼Œç•Œé¢ååˆ†ç®€å•ï¼Œç±»ä¼¼ä¸€ä¸ªä¸‹æ–¹å¸¦æœ‰çŠ¶æ€æ çš„ç»ˆç«¯æ§åˆ¶å°å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å°†å…¶å†ç¾åŒ–ä¸€ä¸‹1234$ cd ; rm -rf .tmux$ git clone https://github.com/gpakosz/.tmux.git$ ln -s .tmux/.tmux.conf$ cp .tmux/.tmux.conf.local .ç¾åŒ–ç»“æŸåˆ°è¿™é‡Œï¼Œç›¸ä¿¡ä½ åº”è¯¥å’Œæˆ‘å¼€å¤´çš„æˆªå›¾æœ‰ä¸€æ ·çš„æ•ˆæœäº†ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œå¯ä»¥åœ¨æœ¬æ–‡åé¢è¯„è®ºï¼Œæˆ‘ä¼šå°½å¿«å›å¤ã€‚","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"iTerm2","slug":"iTerm2","permalink":"https://blog.iamzhl.top/tags/iTerm2/"},{"name":"tmux","slug":"tmux","permalink":"https://blog.iamzhl.top/tags/tmux/"},{"name":"oh-my-zsh","slug":"oh-my-zsh","permalink":"https://blog.iamzhl.top/tags/oh-my-zsh/"},{"name":"ç»ˆç«¯ç¾åŒ–","slug":"ç»ˆç«¯ç¾åŒ–","permalink":"https://blog.iamzhl.top/tags/ç»ˆç«¯ç¾åŒ–/"},{"name":"archey","slug":"archey","permalink":"https://blog.iamzhl.top/tags/archey/"}]},{"title":"é›†æˆ CLOVER å¼•å¯¼çš„é»‘è‹¹æœåŸç‰ˆé•œåƒåˆ¶ä½œæ•™ç¨‹","slug":"Make-a-boot-img-of-OS-X-with-Clover","date":"2018-06-14T02:27:33.000Z","updated":"2019-03-11T16:21:49.896Z","comments":true,"path":"Make-a-boot-img-of-OS-X-with-Clover.html","link":"","permalink":"https://blog.iamzhl.top/Make-a-boot-img-of-OS-X-with-Clover.html","excerpt":"","text":"å‡†å¤‡å·¥ä½œmacOSç¯å¢ƒ(è™šæ‹Ÿæœºå®æœºå‡å¯)Cloverçš„pkgå®‰è£…åŒ…(å¯ä»¥å»æˆ‘Githubæ‰¾ï¼Œä¿è¯æºç æœ€æ–°ï¼Œä¼ é€é—¨)appæ ¼å¼çš„åŸç‰ˆé•œåƒ(å¯ä»¥å»App Storeä¸‹è½½)åˆ¶ä½œè¿‡ç¨‹æ–°å»ºç©ºç™½é•œåƒæ‰“å¼€ç»ˆç«¯ï¼ŒçŠ¶æ€æ æ–°å»ºä¸€ä¸ªç©ºç™½ç£ç›˜ï¼Œåå­—ä»»æ„ï¼Œä¸è¦æœ‰ä¸­æ–‡ï¼Œå¤§å°æˆ‘ä»¬è¿™é‡Œè®¾ç½®ä¸º6.8Gï¼Œæ ¼å¼ä¸ºHFSï¼Œå³mac osæ‰©å±•æ—¥å¿—å¼ï¼Œä¸è¦å¤ªå°ï¼Œä¹Ÿä¸å»ºè®®å¤ªå¤§ï¼Œå°†å…¶ä¿å­˜è‡³æ¡Œé¢ã€‚ç¤ºä¾‹ä¸­æˆ‘åšçš„æ˜¯10.14çš„é•œåƒï¼Œåå­—ç”¨macOS Mojave 10.14 beta 1 with Clover 4539 18A293uï¼Œå½“ç„¶è¿™ä¸ªçœ‹è‡ªå·±å¿ƒæƒ…ã€‚ç„¶åä½ å°±å‘ç°æ¡Œé¢ä¼šå¤šå‡ºä¸€ä¸ªdmgæ–‡ä»¶å’ŒæŒ‚è½½åçš„ä¸€ä¸ªç£ç›˜ã€‚è‡³æ­¤ç©ºç™½é•œåƒæ–°å»ºå®Œæˆåˆ©ç”¨å‘½ä»¤å†™å…¥appé•œåƒåˆ°ç©ºç™½é•œåƒæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥å‘½ä»¤æ¥å°†é•œåƒå†™è¿›åˆšæ‰æˆ‘ä»¬æ–°å»ºçš„é‚£ä¸ªç©ºç›˜ï¼Œå‘½ä»¤çš„å¤§ä½“æ ¼å¼å¦‚ä¸‹ï¼š1$ sudo createinstallmediaåˆ¶ä½œå·¥å…· --volume ç©ºç›˜ â€“applicationpath appé•œåƒ --nointeractionä»macOS Mojaveå¼€å§‹ï¼Œ--applicationpathå‚æ•°è¢«æŠ›å¼ƒï¼Œå› æ­¤ï¼Œ10.14ä»¥åçš„å†™å…¥å‘½ä»¤ä¸ºä¸‹é¢çš„1$ sudo createinstallmediaåˆ¶ä½œå·¥å…· --volume ç©ºç›˜ --nointeractionç”±äºå‘½ä»¤è¾ƒé•¿ï¼Œåœ¨æ­¤ç¨ä½œè¯´æ˜ï¼Œæ–¹ä¾¿æœ‹å‹ä»¬ç†è§£ï¼Œä»¥æ”¯æŒæ›´ä¸ºå¹¿æ³›çš„å‘½ä»¤ä¸ºä¾‹ï¼Œé¦–å…ˆè¾“å…¥sudoåè¾¹è·Ÿä¸€ä¸ªç©ºæ ¼ï¼Œç„¶åæ‰¾åˆ°appé•œåƒï¼Œå³é”®æ˜¾ç¤ºåŒ…å†…å®¹ï¼Œä¾æ¬¡è¿›å…¥/Contents/Resources,æ‰¾åˆ°ä¸€ä¸ªåä¸ºcreateinstallmediaçš„æ–‡ä»¶ï¼Œå°†å…¶æ‹–åˆ°ç»ˆç«¯ï¼Œç„¶åç©ºæ ¼è¾“å…¥--volumeå†ç©ºæ ¼ï¼Œç„¶åå°†ç£ç›˜å·¥å…·æ–°å»ºçš„é‚£ä¸ªç©ºç™½é•œåƒè‡ªåŠ¨æŒ‚è½½åçš„ç©ºç£ç›˜æ‹–è¿›æ¥ï¼Œç©ºæ ¼è¾“å…¥--applicationpathï¼Œå†ç©ºæ ¼å°†æ•´ä¸ªappé•œåƒæ‹–è¿›æ¥ï¼Œç©ºæ ¼è¾“å…¥--nointeraction,æœ€åç©ºæ ¼å›è½¦è¾“å…¥å¯†ç å†å›è½¦ï¼Œé™é™ç­‰å¾…å†™å…¥å®Œæˆå³å¯ã€‚è¿™æ—¶ä½ ä¼šå‘ç°æ¡Œé¢çš„é‚£ä¸ªç©ºç£ç›˜ç°åœ¨å·²ç»æœ‰å†…å®¹äº†ï¼Œè€Œä¸”ä¹Ÿæœ‰äº†è‡ªå·±çš„å›¾æ ‡åˆ°è¿™é‡Œé•œåƒå·²ç»å†™å…¥å®Œæˆé›†æˆå››å¶è‰å¼•å¯¼å†™å…¥å®Œæˆä¹‹åï¼Œå¦‚æœä½ ä¸æ‰“ç®—é›†æˆå››å¶è‰ï¼Œè¯·ç•¥è¿‡è¿™ä¸€æ­¥çœ‹ä¸‹ä¸€æ­¥ã€‚æ‰¾åˆ°å‡†å¤‡å¥½çš„pkgæ ¼å¼çš„CLOVERå®‰è£…åŒ…ï¼ŒåŒå‡»æ‰“å¼€æŒ‰ç»§ç»­å†æ¬¡æŒ‰ç»§ç»­é€‰æ‹©æ›´æ”¹å®‰è£…ä½ç½®ï¼Œé€‰æ‹©åšå¥½çš„å®‰è£…ç›˜ï¼Œç„¶åé€‰æ‹©ç»§ç»­é€‰æ‹©è‡ªå®šï¼Œå¼¹å‡ºä¸‹é¢çš„å¯¹è¯æ¡†æŒ‰ç…§ä¸‹é¢å‹¾é€‰çš„æ–¹å¼è¿›è¡Œæ‹©é€‰é€‰é¡¹ï¼Œç„¶åé€‰æ‹©å®‰è£…ï¼Œè¾“å…¥å¯†ç å®‰è£…å®Œæˆåé€‰æ‹©å…³é—­è¿™æ—¶æˆ‘ä»¬ä¼šå‘ç°æ¡Œé¢å¤šå‡ºäº†ä¸€ä¸ªEFIç£ç›˜ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å®‰è£…CLOVERåè‡ªåŠ¨æŒ‚è½½çš„å¼•å¯¼ç›˜ä¸ºäº†è®©æˆ‘ä»¬çš„é•œåƒæ›´åŠ å¹²å‡€ï¼Œæ‰“å¼€æ¡Œé¢ä¸ŠæŒ‚è½½çš„é•œåƒç£ç›˜ï¼Œåˆ é™¤é‡Œé¢çš„EFI-Backupsè‡³æ­¤é›†æˆCLOVERå®Œæˆå®šåˆ¶å››å¶è‰å¼•å¯¼ä¸Šé¢æˆ‘ä»¬å·²ç»é›†æˆå¥½äº†CLOVERå¼•å¯¼ï¼Œä½†æ˜¯ç°åœ¨é›†æˆçš„CLOVERæ˜¯æ‚ä¹±çš„æ²¡æœ‰æ„ä¹‰çš„ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œå®šåˆ¶ï¼Œè¿™é‡Œæˆ‘å¯ä»¥å°†æˆ‘æœ¬æœºæ­£åœ¨ç”¨çš„CLOVERå¼•å¯¼å®šåˆ¶è¿›å»ï¼Œä»¥è¾¾åˆ°æˆ‘ä½¿æœ€ç»ˆé•œåƒæˆä¸ºæˆ‘æœ¬æœºä¸“ç”¨çš„å†™å…¥Uç›˜åç›´æ¥å¼•å¯¼å¯ä»¥å®Œç¾çš„é•œåƒæ‰“å¼€æ¡Œé¢çš„è‡ªåŠ¨æŒ‚è½½çš„EFIç£ç›˜ï¼Œä¾æ¬¡æ‰“å¼€EFI -&gt; CLOVERå°†æˆ‘è‡ªå·±çš„å¼•å¯¼çš„å¿…è¦æ–‡ä»¶å¯¼å…¥è¿›å»ï¼Œæœ‰ACPIã€kextsã€config.plistï¼Œç„¶åå°†ä¸€äº›æ²¡ç”¨çš„æ–‡ä»¶åˆ é™¤ä»¥ç²¾ç®€æˆ‘ä»¬çš„é•œåƒï¼Œä¾‹å¦‚drivers64ã€OEMã€kextsä¸‹é™¤Otherä¹‹å¤–çš„å…¶ä»–æ–‡ä»¶å¤¹å’Œthemesä¸‹çš„é™¤å»æˆ‘ä»¬éœ€è¦çš„ä¸»é¢˜ä¹‹å¤–çš„å…¶ä»–æ–‡ä»¶ï¼Œç»è¿‡ä»¥ä¸Šæ‰€è¿°çš„å¤„ç†ä¹‹åï¼Œæˆ‘çš„CLOVERå®šåˆ¶å®Œæˆï¼Œå¦‚ä¸‹è‡³æ­¤CLOVERå®šåˆ¶å®Œæˆæ¨å‡ºé•œåƒç›˜CLOVERå®šåˆ¶å®Œæˆæˆ‘ä»¬éœ€è¦å°†é•œåƒç£ç›˜æ¨å‡ºä»¥å‹ç¼©é•œåƒã€‚å³é”®æ¡Œé¢çš„é‚£ä¸¤ä¸ªæŒ‚è½½åçš„ç£ç›˜ï¼Œé€‰æ‹©æ¨å‡ºè‡³æ­¤æ¨å‡ºé•œåƒç›˜å®Œæˆè½¬æ¢å‹ç¼©é•œåƒåˆ°äº†æœ€åä¸€æ­¥ï¼Œè¿™æ—¶æˆ‘ä»¬çš„é•œåƒå…¶å®å·²ç»åšå®Œäº†ï¼Œåªæ˜¯å®ƒä¸ªå¤´å¾ˆå¤§ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶å‹ç¼©ä¸€ä¸‹ï¼Œè®©å®ƒå’Œåº”ç”¨å•†åº—ä¸‹è½½çš„appæ ¼å¼çš„é•œåƒå¤§å°ç›¸è¿‘ã€‚æ‰“å¼€ç£ç›˜å·¥å…·ï¼ŒçŠ¶æ€æ ä¾æ¬¡é€‰æ‹©æ˜ åƒ-&gt; è½¬æ¢å¼¹å‡ºçš„å¯¹è¯æ¡†é€‰æ‹©æˆ‘ä»¬æ¡Œé¢çš„é‚£ä¸ªå¤§é•œåƒï¼Œç‚¹å‡»é€‰å–ç„¶åå¼¹å‡ºå­˜å‚¨é€‰é¡¹çš„å¯¹è¯æ¡†è¿™é‡Œå­˜å‚¨ä¸ºåé¢çš„åå­—å’Œåˆšå¼€å§‹èµ·çš„åå­—ä¸€è‡´å¥½äº†ï¼Œä½ç½®é€‰æ‹©æ–‡ç¨¿ï¼Œè¿™ä¸ªçœ‹è‡ªå·±å¿ƒæƒ…å§ã€‚ç„¶åç‚¹å‡»è½¬æ¢ç„¶åé™é™ç­‰å¾…ï¼Œç›´åˆ°å®Œæˆã€‚è½¬æ¢å®Œæˆåï¼Œç‚¹å‡»å®Œæˆé€€å‡ºç£ç›˜å·¥å…·ï¼Œæ–‡ç¨¿ä¸­ä¼šå‡ºç°ä¸€ä¸ªå’Œä½ å½“åˆä¸‹è½½çš„appåŸç‰ˆé•œåƒå¤§å°å·®ä¸å¤šçš„dmgæ–‡ä»¶ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æœ€åéœ€è¦çš„åŸç‰ˆé•œåƒäº†ã€‚å°†æ­¤é•œåƒæ‹¿åˆ°windowsç”µè„‘ä¸Šï¼Œç”¨Transmacå†™è¿›Uç›˜ï¼Œç”±äºæˆ‘åšçš„æ˜¯é›†æˆæˆ‘è‡ªå·±å¼•å¯¼ä¸“ç”¨çš„CLOBERï¼Œæ‰€ä»¥é‡å¯å°±å¯ä»¥æ„‰å¿«çš„é»‘è‹¹æœå’¯ã€‚è§†é¢‘é“¾æ¥ä¸ºäº†æ–¹ä¾¿å¤§å®¶ç†è§£ï¼Œæˆ‘å°†è¿‡ç¨‹åšäº†ä¸€ä¸ªè§†é¢‘ï¼Œå¤§å®¶å¯ä»¥ç®€å•çœ‹çœ‹1é“¾æ¥:https://pan.baidu.com/s/1g0J8zxqut4S2JYxtJV8IXw å¯†ç :vcjoå…³äºæ‰“èµç å­—ä¸æ˜“ï¼Œä½ ä»¬çš„æ”¯æŒæ˜¯æˆ‘åˆ†äº«å’Œåˆ›ä½œçš„åŠ¨åŠ›ï¼Œæ¬¢è¿æ‰“èµã€‚","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"åŸç‰ˆé•œåƒ","slug":"åŸç‰ˆé•œåƒ","permalink":"https://blog.iamzhl.top/tags/åŸç‰ˆé•œåƒ/"},{"name":"é»‘è‹¹æœé•œåƒ","slug":"é»‘è‹¹æœé•œåƒ","permalink":"https://blog.iamzhl.top/tags/é»‘è‹¹æœé•œåƒ/"},{"name":"dmg","slug":"dmg","permalink":"https://blog.iamzhl.top/tags/dmg/"}]},{"title":"ä½¿ç”¨Hibernateåå‘å·¥ç¨‹è‡ªåŠ¨äº§ç”Ÿå®ä½“ç±»å’Œæ˜ å°„æ–‡ä»¶","slug":"Use-Hibernate-reverse-engineering-to generate-entity-classes-and-mapping-files-automatically","date":"2018-05-31T13:07:42.000Z","updated":"2019-03-11T16:21:49.904Z","comments":true,"path":"Use-Hibernate-reverse-engineering-to generate-entity-classes-and-mapping-files-automatically.html","link":"","permalink":"https://blog.iamzhl.top/Use-Hibernate-reverse-engineering-to generate-entity-classes-and-mapping-files-automatically.html","excerpt":"","text":"ä½¿ç”¨Hibernateåå‘å·¥ç¨‹è‡ªåŠ¨äº§ç”Ÿå®ä½“ç±»å’Œæ˜ å°„æ–‡ä»¶ä¸€ã€é¦–å…ˆå»ºç«‹ä¸€ä¸ªé¡¹ç›®å·¥ç¨‹äºŒã€å»ºç«‹æ•°æ®åº“è¡¨ â€“ ä»¥studentè¡¨ä¸ºä¾‹ä¸‰ã€åœ¨é¡¹ç›®ä¸­é…ç½®å¥½æ•°æ®åº“å¹¶å»ºç«‹ä¸€ä¸ªmodelåŒ…å››ã€ç”Ÿæˆæ•°æ®åº“æ˜ å°„äº”ã€é…ç½®æ•°æ®æºã€æ•°æ®è¡¨ï¼Œç”Ÿæˆæ³¨è§£ï¼ŒåŠ å…¥sessionå·¥å‚ç­‰å…­ã€å¼¹å‡ºç¡®è®¤å¯¼å…¥æ•°æ®åº“çš„çª—å£ç‚¹å‡»Yesä¸ƒã€è¿™æ—¶å¸¦æœ‰æ³¨è§£çš„Studentç±»å’Œé…ç½®å¥½æ˜ å°„çš„hibernate.cfg.xmlå°±æˆåŠŸç”Ÿæˆäº†","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"GitHub","slug":"GitHub","permalink":"https://blog.iamzhl.top/tags/GitHub/"},{"name":"å›¢é˜Ÿå¼€å‘","slug":"å›¢é˜Ÿå¼€å‘","permalink":"https://blog.iamzhl.top/tags/å›¢é˜Ÿå¼€å‘/"},{"name":"åˆ†æ”¯ç®¡ç†","slug":"åˆ†æ”¯ç®¡ç†","permalink":"https://blog.iamzhl.top/tags/åˆ†æ”¯ç®¡ç†/"}]},{"title":"é»‘è‹¹æœå£°å¡ cx20751/2 é©±åŠ¨æ–¹æ³•","slug":"Drive-CX20751-2-audio-on-hackintosh","date":"2018-05-02T15:10:57.000Z","updated":"2019-03-11T16:21:49.889Z","comments":true,"path":"Drive-CX20751-2-audio-on-hackintosh.html","link":"","permalink":"https://blog.iamzhl.top/Drive-CX20751-2-audio-on-hackintosh.html","excerpt":"","text":"å‡†å¤‡å·¥ä½œé¦–å…ˆä»linuxæå–codecï¼Œç„¶åæ•´ç†codecæå–èŠ‚ç‚¹æ•°æ®ï¼Œå‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡å¸–å­http://blog.athlonreg.top/Driver-audio-for-hackintosh.htmlå¯¹æ¯”èŠ‚ç‚¹æ•°æ®è¿™é‡Œæ‹¿æˆ‘çš„CX20751ä¸ºä¾‹ï¼Œcodecæ•´ç†çš„æ•°æ®å¦‚ä¸‹çœ‹å…¶ä¸­çš„Line inèŠ‚ç‚¹ï¼Œå³Mic at Extï¼Œæˆ‘çš„æ˜¯0x19ï¼Œé‚£ä¹ˆæˆ‘çš„AppleALCå°±éœ€è¦æ³¨å…¥Layout-IDä¸º28ï¼Œå¦‚æœä½ çš„CX20751/2æå–çš„æ•°æ®ä¸­æ­¤èŠ‚ç‚¹æ˜¯0x18ï¼Œå°±éœ€è¦æ³¨å…¥Layout-IDä¸º3ã€‚æ³¨å…¥Layout-IDDSDTæ–¹å¼æŒ‚è½½ä½ çš„ESPåˆ†åŒºï¼Œæ‰“å¼€DSDTï¼Œæ‰“ä¸Šå£°å¡Layout-IDæ³¨å…¥è¡¥ä¸å¦‚å›¾ï¼Œ3å’Œ12éƒ½å¯ä»¥ï¼Œæˆ‘æ‹¿12ä¸ºä¾‹ï¼Œç‚¹å‡»æ­¤è¡¥ä¸ï¼Œå°†å¦‚ä¸‹å›¾ä¸­çš„12æ”¹ä¸º28ï¼Œç„¶åç‚¹å‡»Applyã€‚å¦‚æœä½ çš„éœ€è¦æ³¨å…¥3ï¼Œåªéœ€ç›´æ¥æ‰“ä¸Šé‚£ä¸ªä¸º3çš„è¡¥ä¸å³å¯Hotpatchæ–¹å¼å°†å›¾ä¸­ä¸‰ä¸ªSSDTæ”¾å…¥/EFI/CLOVER/ACPI/patchedï¼Œä¸‰ä¸ªæ–‡ä»¶åˆ†åˆ«åšä»¥ä¸‹ä¿®æ”¹ï¼Œæˆ‘çš„æ˜¯28æ”¹ä¸º0x1Cï¼Œå¦‚æœä½ çš„æ˜¯3ï¼Œåˆ™æ”¹ä¸º0x03ã€‚ç„¶ååœ¨config.plistä¸­å‹¾é€‰ä»¥ä¸‹é€‰é¡¹configæ–¹å¼åŒæ ·å‹¾é€‰ä»¥ä¸‹é€‰é¡¹ç„¶åæ³¨å…¥IDï¼Œæ­¤å¤„æ ¹æ®å‰é¢çš„Layout-IDå†³å®šæ³¨å…¥3è¿˜æ˜¯28æ”¾é©±åŠ¨å°†AppleALCã€Liluã€CodecCommanderä¸‰ä¸ªé©±åŠ¨æ”¾åˆ°/EFI/CLOVER/kexts/Otherhttps://github.com/vit9696/AppleALC/releaseshttps://github.com/vit9696/Lilu/releaseshttps://bitbucket.org/RehabMan/os-x-eapd-codec-commander/downloads/æ³¨æ„ä¸‰ä¸ªé©±åŠ¨éƒ½ç”¨Releaseé‡Œé¢çš„æ”¾SSDTæ‰“å¼€ç»ˆç«¯æ‰§è¡Œ1$ git clone https://github.com/RehabMan/OS-X-Clover-Laptop-Configåˆ©ç”¨MaciASLæ‰“å¼€SSDT-CX20752.dslï¼Œå°†å…¶å¦å­˜ä¸ºSSDT-CX20752.amlã€‚ä¿å­˜è‡³/EFI/CLOVER/ACPI/patched,å¦‚æœä½ æ­£åœ¨ä½¿ç”¨SortedOrderï¼Œåˆ™å°†å…¶åŠ å…¥è¿›å»ã€‚ç„¶åä¿å­˜å…¨éƒ¨å·¥ä½œé‡å¯ã€‚å£°å¡è¾“å…¥ä¿®å¤è‹¥é‡åˆ°å£°å¡å†…å»ºè¾“å…¥æˆ–è€³æœºçº¿è·¯è¾“å…¥æ— ç”µå¹³çš„æƒ…å†µï¼Œè¯·ç»§ç»­ä»¥ä¸‹æ­¥éª¤ã€‚ä¸‹è½½ALCPlugFix for AppleALC.ziphttps://github.com/athlonreg/ASUS-F455LD-i5-4210uæ‰“å¼€ç»ˆç«¯æ‰§è¡Œ1$ git clone https://github.com/athlonreg/ASUS-F455LD-i5-4210uä¸‹è½½å®Œæˆåï¼Œå¦‚æœä½ çš„Layout-IDæ˜¯3ï¼Œåˆ™å°†å…¶ä¸­çš„ALCPlugFix-LayoutID=3.zipè§£å‹è‡³æ¡Œé¢ï¼Œè‹¥ä¸º28åˆ™å°†å…¶ä¸­çš„ALCPlugFix-LayoutID=28.zipè§£å‹è‡³æ¡Œé¢ï¼Œæ‰§è¡Œ123$ cd ~/Desktop/ALCPlugFix/alc_fix $ chmod +x install.sh $ ./install.shç„¶åæ ¹æ®æç¤ºè¾“å…¥å¯†ç å›è½¦ã€‚æœ€åä¿å­˜é‡å¯å³å¯ã€‚","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"cx20751","slug":"cx20751","permalink":"https://blog.iamzhl.top/tags/cx20751/"},{"name":"cx20752","slug":"cx20752","permalink":"https://blog.iamzhl.top/tags/cx20752/"},{"name":"ALCPlugFix","slug":"ALCPlugFix","permalink":"https://blog.iamzhl.top/tags/ALCPlugFix/"}]},{"title":"åˆ©ç”¨ GitHub è¿›è¡Œå›¢é˜Ÿå¤šåˆ†æ”¯å¼€å‘","slug":"Use-GitHub-for-team-development","date":"2018-04-21T14:07:42.000Z","updated":"2019-03-11T16:21:49.904Z","comments":true,"path":"Use-GitHub-for-team-development.html","link":"","permalink":"https://blog.iamzhl.top/Use-GitHub-for-team-development.html","excerpt":"","text":"åˆ›å»ºé¡¹ç›®æœ¬æ–‡ä»¥GitHubé¡¹ç›®ä¸ºä¾‹:1https://github.com/athlonreg/Common-patches-for-hackintosh.gitç„¶ååœ¨æœ¬åœ°å…‹éš†é¡¹ç›®ä»£ç ï¼š1$ git clone https://github.com/athlonreg/Common-patches-for-hackintosh.gitæŸ¥çœ‹é¡¹ç›®åˆ†æ”¯æƒ…å†µå¯ä»¥ä½¿ç”¨å‘½ä»¤12$ git branch * masterå¯ä»¥çœ‹åˆ°å½“å‰é¡¹ç›®ååœ¨çš„åˆ†æ”¯æ˜¯masterï¼ˆ*å·åè¾¹ä¸ºå½“å‰æ‰€åœ¨åˆ†æ”¯åï¼‰ã€‚è€Œä¸”é¡¹ç›®ç›®å‰ä¹Ÿåªæœ‰ä¸€ä¸ªåˆ†æ”¯ï¼Œå°±æ˜¯masterã€‚å›¢é˜Ÿå¼€å‘ä½†æ˜¯æˆ‘ä»¬åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œé€šå¸¸éƒ½æ˜¯ä»¥å›¢é˜Ÿå¼€å‘ä¸ºä¸»ï¼Œæ‰€ä»¥ä¸ºäº†ç»´æŠ¤çº¿ä¸Šä¸»å¹²ä»£ç çš„ç¨³å®šï¼Œæˆ‘ä»¬ä¹Ÿéƒ½ä¼šé‡‡å–åˆ›å»ºåˆ†æ”¯ -&gt; å¼€å‘ -&gt; æµ‹è¯• -&gt; åˆå¹¶ -&gt; ä¸Šçº¿çš„å½¢å¼è¿›è¡Œå®é™…æ“ä½œçš„ã€‚æ¥ä¸‹æ¥æè¿°ä¸€ä¸‹ç®€å•çš„å›¢é˜Ÿå¼€å‘Gité¡¹ç›®ã€‚æœ¬åœ°åˆ†æ”¯å·¥ç¨‹å¸ˆAéœ€è¦å¯¹åŸæ¥çš„ä»£ç åšæ”¹åŠ¨ï¼Œè¿™æ—¶ä»–éœ€è¦åˆ›å»ºä¸€ä¸ªå¼€å‘åˆ†æ”¯ï¼Œå‡è®¾åå­—ä¸ºdev1234$ git branch dev$ git branch dev* masterè¿™ä¸ªæ—¶å€™æˆ‘ä»¬çœ‹åˆ°æœ¬åœ°å·¥ä½œåŒºå·²ç»æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼šmasterå’Œdevã€‚ä½†å½“å‰å·¥ä½œåŒºè¿˜æ˜¯åœ¨masterä¸Šï¼ˆæ³¨æ„*å·ä½ç½®ï¼‰ï¼Œéœ€è¦æ‰‹åŠ¨åˆ‡æ¢åˆ°devä¸Šã€‚åªéœ€ä½¿ç”¨git checkoutå‘½ä»¤12345$ git checkout devSwitched to branch &apos;dev&apos;$ git branch* dev masterå½“ç„¶æœ‰äººå¸Œæœ›åˆ›å»ºåˆ†æ”¯åç›´æ¥åˆ‡æ¢åˆ°æ–°çš„åˆ†æ”¯ï¼š12$ git checkout -b devSwitched to a new branch &apos;dev&apos;è¿™æ ·å°±å°†å½“å‰å·¥ä½œåŒºåˆ‡æ¢åˆ°æ–°çš„åˆ†æ”¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æ­¤æ—¶çš„devåˆ†æ”¯ä¸­çš„å†…å®¹æ˜¯masterçš„å¤åˆ¶ã€‚è¿œç¨‹åˆ†æ”¯ç°åœ¨çš„devåˆ†æ”¯åªæ˜¯å­˜åœ¨äºAçš„æœ¬åœ°ç¯å¢ƒï¼Œå½“å·¥ç¨‹å¸ˆBæ‰“ç®—ååŒAè¿›è¡Œç›¸åŒä¸šåŠ¡çš„å¼€å‘æ—¶ï¼Œä»–ä¹Ÿéœ€è¦æ‹¿åˆ°devåˆ†æ”¯çš„ä»£ç ï¼Œé‚£è¯¥æ€ä¹ˆè·å–å‘¢ï¼Ÿæ­¤æ—¶éœ€è¦Aå°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ï¼Œä»¥ä¾›ç»™å…¶ä»–å·¥ç¨‹å¸ˆå…±åŒå¼€å‘ã€‚ä½¿ç”¨git branch -aèƒ½å¤ŸæŸ¥è¯¢å½“å‰æ‰€æœ‰åˆ†æ”¯ï¼ŒåŒ…æ‹¬æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯ï¼ˆä¸‹è¾¹remotes/originå¼€å¤´ï¼‰1234$ git branch -a* dev master remotes/origin/masterå‘ç°å¹¶æ²¡æœ‰è¿œç¨‹åˆ†æ”¯é‡Œå¹¶æ²¡æœ‰æ–°å»ºçš„devï¼Œè¿™æ—¶éœ€è¦æ‰§è¡Œgit push origin devå‘½ä»¤ï¼Œå°†æœ¬åœ°devåˆ†æ”¯æ¨é€åˆ°GitHubæœåŠ¡å™¨ï¼Œç”Ÿæˆè¿œç¨‹åˆ†æ”¯ã€‚1234$ git push origin devTotal 0 (delta 0), reused 0 (delta 0)To https://github.com/athlonreg/Common-patches-for-hackintosh * [new branch] dev -&gt; devè¿™æ—¶å†ç”¨git branch -aæŸ¥çœ‹åˆ†æ”¯ã€‚12345$ git branch -a* dev master remotes/origin/dev remotes/origin/masterå¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªåä¸ºremotes/origin/devçš„åˆ†æ”¯ï¼Œå³ä¸ºåˆ›å»ºçš„è¿œç¨‹åˆ†æ”¯ã€‚å¥½äº†ï¼Œç°åœ¨Bå’Œå…¶ä»–ä»»ä½•å·¥ç¨‹å¸ˆéƒ½å¯ä»¥é€šè¿‡æ‹‰å–è¿œç¨‹åˆ†æ”¯è·å–Aåˆ›å»ºçš„devåˆ†æ”¯ä»£ç ã€‚Bå…ˆåšä¸€æ¬¡åˆ†æ”¯æŸ¥è¯¢1234$ git branch -a* master remotes/origin/dev remotes/origin/masterå‘ç°å­˜åœ¨remotes/origin/devè¿œç¨‹åˆ†æ”¯ã€‚æ­¤æ—¶åªéœ€æ‰§è¡Œgit fetch origin dev:devå°†è¿œç¨‹åˆ†æ”¯ä»£ç æ‹‰å–åˆ°æœ¬åœ°.ã€‚12345678$ git fetch origin dev:devFrom https://github.com/athlonreg/Common-patches-for-hackintosh * [new branch] dev -&gt; dev$ git branch -a dev* master remotes/origin/dev remotes/origin/masterå†é€šè¿‡æŸ¥è¯¢å¯ä»¥çœ‹åˆ°æœ¬åœ°å¤šäº†ä¸€ä¸ªdevæœ¬åœ°åˆ†æ”¯ã€‚git fetch origin dev:devè¿™ä¸ªå‘½ä»¤çš„æ„æ€æ˜¯å°†è¿œç¨‹devåˆ†æ”¯ä»£ç æ‹‰å–åˆ°æœ¬åœ°devåˆ†æ”¯ä¸­ã€‚è¿™æ˜¯ä¸€ä¸ªå¿«æ·çš„æ–¹å¼ï¼Œå¦‚æœBæœ¬åœ°æ²¡æœ‰devåˆ†æ”¯ï¼Œè¯¥å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªåä¸ºdevçš„åˆ†æ”¯ï¼Œå¦‚æœBæœ¬åœ°æœ‰è‡ªå·±çš„åˆ†æ”¯ï¼Œå¦‚B_devï¼Œåˆ™å¯ä»¥æ‰§è¡Œgit fetch origin dev:B_devæˆ–è€…å…ˆåˆ‡åˆ°B_devåˆ†æ”¯å†…ï¼Œæ‰§è¡Œgit fetch origin devå³å¯ã€‚å¤šäººå¼€å‘æ­¤æ—¶Aå’ŒBå°±å¯ä»¥åˆ‡åˆ°æœ¬åœ°devåˆ†æ”¯è¿›è¡Œå¼€å‘äº†ã€‚å‡å¦‚Bçš„å¼€å‘ä¿®å¤äº†æŸä¸ªBUGï¼Œéœ€è¦æäº¤æ¨é€ç”³è¯·123$ git add .$ git commit -m &quot;Some fix&quot;$ git push origin devåœ¨Bå°†åˆ†æ”¯æ¨é€åˆ°å¥¹çš„è¿œç¨‹ä»“åº“ï¼ˆä¸æ˜¯åˆ«äººç»´æŠ¤çš„æ­£å¼ä»“åº“ï¼Œæ˜¯ä»–forkçš„ä»“åº“ï¼‰åï¼Œå»GitHubç½‘é¡µç«¯ç‚¹å‡»Pull requestsæäº¤åˆå¹¶ç”³è¯·ã€‚å¼¹å‡ºè¡¨å•å¹¶è¦æ±‚ä»–è®¾ç½®æºåˆ†æ”¯ã€ç›®æ ‡ä»“åº“å’Œç›®æ ‡åˆ†æ”¯ï¼Œé»˜è®¤è®¾ç½®Bçš„ä»“åº“ä¸ºæºä»“åº“ã€‚Aéœ€è¦åˆå¹¶ä»–çš„ä»£ç ï¼Œæ‰€ä»¥ä»–è®¾ç½®ä»–çš„åˆ†æ”¯ä¸ºæºåˆ†æ”¯ï¼Œç›®æ ‡ä»“åº“ä¸ºAçš„å…±æœ‰æ­£å¼ä»“åº“ï¼Œç›®æ ‡åˆ†æä¸ºä¸»å¹²åˆ†æ”¯devï¼Œè¿˜éœ€è¦è¾“å…¥æ ‡é¢˜å’Œæäº¤çš„ä¿®æ”¹æè¿°ã€‚æäº¤ç”³è¯·åï¼ŒAå°±ä¼šé€šè¿‡é‚®ä»¶æˆ–è€…è®¢é˜…æ”¶åˆ°é€šçŸ¥ã€‚Aåœ¨ç½‘é¡µç«¯ç‚¹å‡»Pull requestsåMerge requestså³å¯åˆå¹¶æäº¤ã€‚è¿™æ—¶å¦‚æœAæƒ³å†æ¬¡è¿›è¡Œå¼€å‘ï¼Œå°±å¿…é¡»è¦å°†è¿œç¨‹devåˆ†æ”¯fetchåˆ°æœ¬åœ°ï¼Œå¦‚ä¸‹:å¼€å‘è¿‡ç¨‹ä¸­æ¯ä¸ªå·¥ç¨‹å¸ˆåœ¨æ¨é€ä»£ç ä¹‹å‰è¦å…ˆæ‰§è¡Œæ‹‰å–æ“ä½œï¼Œå› ä¸ºè¿œç¨‹ä»“åº“æœ‰æ›´æ–°çš„è¯ï¼Œä¸å…ˆæ‹‰å–ï¼ˆpull/fetchï¼‰æ˜¯æ— æ³•æ¨é€ï¼ˆpushï¼‰çš„ï¼Œå°½é‡å°‘ä½¿ç”¨git pullè¿›è¡Œæ‹‰å–ï¼Œè€Œæ˜¯å…ˆç”¨git fetchæ‹‰å–å†è¿›è¡Œgit mergeã€‚1234567$ git fetch origin dev From https://github.com/athlonreg/Common-patches-for-hackintosh * branch dev -&gt; FETCH_HEADUpdating 23b74f3..ea1c09fFast-forward config_patches.plist | 178 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 1 file changed, 178 insertions(+)å½“ç„¶git pullä¹Ÿå¯ä»¥1234567$ git pull origin devFrom https://github.com/athlonreg/Common-patches-for-hackintosh * branch dev -&gt; FETCH_HEADUpdating 23b74f3..ea1c09fFast-forward config_patches.plist | 178 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 1 file changed, 178 insertions(+)åœ¨æ¯ä¸ªå¼€å‘é˜¶æ®µéƒ½åŠæ—¶åœ°æäº¤ä»£ç ï¼ˆgit commitï¼‰å¹¶æ¨é€ï¼ˆgit pushï¼‰è‡³è¿œç¨‹ä»“åº“ï¼Œå¯ä»¥ä½¿ç”¨git statusæ£€æŸ¥å·¥ä½œåŒºæ˜¯å¦è¿˜æœ‰æœªå¤„ç†çš„ä»£ç å’Œæ–‡ä»¶ã€‚åœ¨æäº¤ä»£ç çš„æ—¶å€™å†™å¥½ä¼˜ç§€çš„æ³¨é‡Šã€‚1$ git add .1$ git commit -m &quot;Some fix (credit by A)&quot;1$ git push origin devåœ¨é¡¹ç›®ä»£ç å°†è¦åˆå¹¶åˆ°ä¸»å¹²masterçš„æ—¶å€™ï¼Œè¦ç”±ä¸€åå·¥ç¨‹å¸ˆåšæœ€åçš„åˆå¹¶å¤„ç†ï¼Œå¦‚åˆ›å»ºåˆ†æ”¯çš„Aã€‚ç”±äºåœ¨åˆå¹¶ä»£ç æ—¶ææ˜“äº§ç”Ÿå†²çªï¼Œæ‰€ä»¥ä¸€å®šè¦å…ˆä¸ä¸»å¹²ä»£ç ç‰ˆæœ¬åšå¯¹æ¯”ï¼ˆgit diffï¼‰ï¼Œåˆå¹¶æ—¶å¯ä»¥ä½¿ç”¨git mergeï¼Œå½“ç„¶å¦‚æœdevå¯ä»¥åºŸé™¤çš„è¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨git rebaseåšæœ€åçš„åˆå¹¶ã€‚12345678910111213$ git checkout master Switched to branch &apos;master&apos;$ git merge dev Updating 23b74f3..ea1c09fFast-forward config_patches.plist | 178 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 1 file changed, 178 insertions(+) $ git push origin master Total 0 (delta 0), reused 0 (delta 0)To https://github.com/athlonreg/Common-patches-for-hackintosh 23b74f3..ea1c09f master -&gt; masteræœ€ååœ¨åˆ†æ”¯ä»£ç åˆå¹¶åˆ°ä¸»å¹²æˆ–è€…ä»£ç ä¸Šçº¿åï¼Œdevåˆ†æ”¯å®Œæˆäº†è‡ªå·±çš„ä»»åŠ¡ï¼Œå¯ä»¥åˆ é™¤æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯ã€‚åˆ é™¤æœ¬åœ°åˆ†æ”¯ï¼š123456$ git branch -d devDeleted branch dev (was 1fe1352).$ git branch -a* master remotes/origin/dev remotes/origin/masteråˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼š123456$ git push origin --delete devTo https://github.com/athlonreg/Common-patches-for-hackintosh - [deleted] dev$ git branch -a* master remotes/origin/masterè§£å†³å†²çªåœ¨ä»£ç çš„åˆå¹¶é˜¶æ®µï¼ˆgit pullæˆ–è€…git mergeå‘½ä»¤ï¼‰ï¼Œé€šå¸¸ä¼šäº§ç”Ÿä»£ç å†²çªã€‚å¦‚æœæ˜¯å…¶ä»–å·¥ç¨‹å¸ˆé€ æˆçš„å†²çªï¼Œéœ€è¦è½¬ç»™ç›¸å…³å·¥ç¨‹å¸ˆå¤„ç†ï¼Œä¹Ÿé€ æˆå¤§é‡çš„æ²Ÿé€šæˆæœ¬ã€‚ä¸ºäº†å‡å°‘å†²çªï¼Œå»ºè®®æ¯ä¸ªå·¥ç¨‹å¸ˆå„è‡ªå•ç‹¬è´Ÿè´£æ¨¡å—ï¼Œä¸šåŠ¡äº’ç›¸ä¸å†²çªã€‚åœ¨è§£å†³å†²çªæ—¶ï¼Œéœ€è¦ä½¿ç”¨git logå’Œgit diffæ¥æ£€æŸ¥å†å²ç‰ˆæœ¬çš„ä¿®æ”¹ä¿¡æ¯1$ git log README.mdgit logå¯ä»¥åˆ—å‡ºè¯¥æ–‡ä»¶çš„å†å²æäº¤ç‰ˆæœ¬ï¼Œèƒ½çœ‹åˆ°æäº¤çš„ç‰ˆæœ¬å·å’Œæäº¤çš„æ³¨é‡Šä¿¡æ¯ã€‚ç„¶åä½¿ç”¨git diffæ¥å¯¹æ¯”è¯¥æ–‡ä»¶ä¸¤ä¸ªç‰ˆæœ¬çš„ä¸åŒã€‚1$ git difféœ€è¦å›é€€åˆ°æŸä¸€ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨git resetå‘½ä»¤1$ git reset --hard 265886db0d6868cc669e0ef253e6e9ac1e39319cå¦‚æœæ–‡ä»¶å°šæœªæäº¤ï¼Œä¹Ÿå¯ä»¥ç”¨git checkout filenameæ¢å¤åˆ°æäº¤å‰ã€‚12345$ git statusOn branch devnothing to commit, working tree clean$ git checkout README.mdå¼€å‘è§„èŒƒ12$ git config --global user.name &quot;ç”¨æˆ·å&quot;ã€‚ $ git config --global user.email &quot;ç”µå­é‚®ä»¶&quot; ã€‚å›¢é˜Ÿå¼€å‘ç¦æ­¢åœ¨ä¸»å¹²ç›´æ¥ä¿®æ”¹ä»£ç ï¼Œä¸€å®šè¦å¼€åˆ†æ”¯ï¼Œè€Œä¸”æ˜¯è¿œç¨‹åˆ†æ”¯è¿›è¡Œå¼€å‘ã€‚åˆ›å»ºåˆ†æ”¯å¯ä»¥æ‰“æ ‡ç­¾ï¼Œgit tagã€‚æ‹‰å–ä»£ç æ—¶æœ€å¥½å…ˆgit fetchå†git mergeè€Œä¸æ˜¯ç›´æ¥git pullã€‚æäº¤ä»£ç å’Œæ¨é€ä»£ç ä»¥åŠä»£ç ä¸Šçº¿ä¹‹å‰ï¼Œä¸€å®šè¦å…ˆå’ŒåŸæ¥ç‰ˆæœ¬å¯¹æ¯”git diffã€‚æäº¤ä»£ç åŠ æ³¨é‡Šgit commit -m &#39;B developed&#39;ã€‚","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"GitHub","slug":"GitHub","permalink":"https://blog.iamzhl.top/tags/GitHub/"},{"name":"å›¢é˜Ÿå¼€å‘","slug":"å›¢é˜Ÿå¼€å‘","permalink":"https://blog.iamzhl.top/tags/å›¢é˜Ÿå¼€å‘/"},{"name":"åˆ†æ”¯ç®¡ç†","slug":"åˆ†æ”¯ç®¡ç†","permalink":"https://blog.iamzhl.top/tags/åˆ†æ”¯ç®¡ç†/"}]},{"title":"AppleALC ç›®å‰æ”¯æŒçš„ Codec","slug":"Supported-codecs-by-AppleALC","date":"2018-04-18T12:41:37.000Z","updated":"2019-03-11T16:21:49.902Z","comments":true,"path":"Supported-codecs-by-AppleALC.html","link":"","permalink":"https://blog.iamzhl.top/Supported-codecs-by-AppleALC.html","excerpt":"","text":"Currently supported codecsVendorCodecRevisionsMinKernelMaxKernelCreativeCA01320x100918 layout 0, 1, 2, 3, 4, 5, 6, 9, 10, 11, 1213 (10.9)â€”CirrusLogicCS42100x100101 layout 1313 (10.9)â€”CirrusLogicCS42130x100100 layout 2813 (10.9)â€”RealtekALC221layout 1112 (10.8)â€”RealtekALC225/ALC3253layout 28, 30, 3313 (10.9)â€”RealtekALC230layout 13, 2013 (10.9)â€”RealtekALC233layout 3, 13, 27, 32, 3313 (10.9)â€”RealtekALC235layout 3, 11, 2813 (10.9)â€”RealtekALC2360x100001, 0x100002 layout 3, 11, 13, 1513 (10.9)â€”RealtekALC3236layout 4, 5, 28, 2913 (10.9)â€”RealtekALC255layout 3, 13, 17, 18, 27, 28, 9913 (10.9)â€”RealtekALC256 (3246)layout 11, 13, 5613 (10.9)â€”RealtekALC257layout 1113 (10.9)â€”RealtekALC260layout 11, 1213 (10.9)â€”RealtekALC2620x100202 layout 11, 12, 13, 2813 (10.9)â€”RealtekALC268layout 313 (10.9)â€”RealtekALC2690x100004, 0x100100, 0x100202, 0x100203 layout 1-11, 13-16, 18-20, 27-30, 32, 33, 35, 40, 45, 58, 66, 76, 93, 99, 12712 (10.8)â€”RealtekALC2700x100100, layout 3, 4, 27, 2813 (10.9)â€”RealtekALC271xlayout 9, 3112 (10.8)â€”RealtekALC2720x100001, layout 3, 1113 (10.9)â€”RealtekALC2750x100005, 0x100008, layout 3, 13, 2813 (10.9)â€”RealtekALC280layout 3, 4, 11, 13, 1513 (10.9)â€”RealtekALC2820x100003, layout 3, 4, 13, 27, 28, 29, 76, 86, 12712 (10.8)â€”RealtekALC283layout 1, 3, 11, 6613 (10.9)â€”RealtekALC284layout 313 (10.9)â€”RealtekALC285layout 1113 (10.9)â€”RealtekALC2860x100002, 0x100003 layout 313 (10.9)â€”RealtekALC288layout 3, 1313 (10.9)â€”RealtekALC290layout 3, 2813 (10.9)â€”RealtekALC3241layout 413 (10.9)â€”RealtekALC292layout 12, 18, 2813 (10.9)â€”RealtekALC293layout 28, 2913 (10.9)â€”RealtekALC294layout 11, 12, 1313 (10.9)â€”RealtekALC295layout 1, 3, 13, 14, 15, 2813 (10.9)â€”RealtekALC2980x100101, 0x100103 layout 3, 11, 13, 28, 29, 30, 47, 66, 72, 9913 (10.9)â€”RealtekALC6620x100101, 0x100300 layout 5, 7, 11, 12, 1313 (10.9)â€”RealtekALC6630x100001, 0x100002, layout 3, 4, 28, 9913 (10.9)â€”RealtekALC665layout 12, 1313 (10.9)â€”RealtekALC6680x100003, layout 3, 20, 27, 28, 2913 (10.9)â€”RealtekALC6700x100002, layout 1213 (10.9)â€”RealtekALC671layout 1213 (10.9)â€”RealtekALC8820x100101, layout 5, 713 (10.9)â€”RealtekALC8830x100002, layout 713 (10.9)â€”RealtekALC8850x100101, 0x100103 layout 1, 1213 (10.9)â€”RealtekALC8870x100202, 0x100302, layout 1, 2, 3, 5, 7, 11, 13, 17, 18, 33, 50, 9913 (10.9)â€”RealtekALC888/ALC12000x100101, 0x100001, 0x100202, 0x100302 layout 1, 2, 3, (4 for laptop), 5, 7, 11, 27, 28, 2913 (10.9)â€”RealtekALC8890x100004, layout 1, 11, 1213 (10.9)â€”RealtekALC891/ALC8670x100002, layout 11, 1313 (10.9)â€”RealtekALC8920x100302, layout 1, 2, 3, (4 for laptop), 5, 7, 12, 28, 31, 92, 98, 9913 (10.9)â€”RealtekALC898/ALC8990x100003, layout 1, 2, 3, 5, 7, 11, 13, 28, 65, 98, 99, 10113 (10.9)â€”RealtekALC11500x100001, layout 1, 2, 3, 5, 7, 1112 (10.8)â€”RealtekALC12200x100003, layout 1, 2, 5, 7, 11, 1315 (10.11)â€”RealtekALCS1220Alayout 1, 2, 5, 715 (10.11)â€”AnalogDevicesAD19840x100400, layout 1113 (10.9)â€”AnalogDevicesAD1984A0x100400, layout 11, 1313 (10.9)â€”AnalogDevicesAD1988Blayout 5, 7, 1213 (10.9)â€”AnalogDevicesAD2000Blayout 5, 713 (10.9)â€”ConexantCX8050layout 316 (10.12)â€”ConexantCX8200layout 316 (10.12)â€”ConexantCX205610x100000, layout 1113 (10.9)â€”ConexantCX20583layout 313 (10.9)â€”ConexantCX20585layout 3, 1313 (10.9)â€”ConexantCX20588layout 313 (10.9)â€”ConexantCX205900x100000, 0x100002, 0x100003, layout 3, 12, 2813 (10.9)â€”ConexantCX20641layout 11, 1313 (10.9)â€”ConexantCX20642layout 11, 1313 (10.9)â€”ConexantCX20722layout 316 (10.12)â€”ConexantCX20724layout 3, 1313 (10.9)â€”ConexantCX20751/20752layout 3, 2813 (10.9)â€”ConexantCX20753/4layout 316 (10.12)â€”ConexantCX20755layout 313 (10.9)â€”ConexantCX20756layout 3, 1313 (10.9)â€”ConexantCX20757layout 313 (10.9)â€”IDTIDT92HD66C3/65layout 313 (10.9)â€”IDTIDT92HD71B7Xlayout 313 (10.9)â€”IDTIDT92HD73C1X5layout 1913 (10.9)â€”IDTIDT92HD75B2X5layout 313 (10.9)â€”IDTIDT92HD75B3X5layout 3, 1113 (10.9)â€”IDTIDT92HD99BXXlayout 313 (10.9)â€”IDTIDT92HD87B1layout 313 (10.9)â€”IDTIDT92HD81B1C5layout 3, 1113 (10.9)â€”IDTIDT92HD81B1X5layout 3, 11, 12, 20, 21, 2813 (10.9)â€”IDTIDT92HD87B1/3layout 12, 1313 (10.9)â€”IDTIDT92HD87B2/4layout 1213 (10.9)â€”IDTIDT92HD90BXXlayout 3, 1213 (10.9)â€”IDTIDT92HD91BXX0x100102, 0x100303 layout 3, 12, 13, 33, 8413 (10.9)â€”IDTIDT92HD93BXX0x100203, layout 1213 (10.9)â€”IDTIDT92HD95layout 1213 (10.9)â€”VIAVT18020x100000, layout 3, 3313 (10.9)â€”VIAVT2020/20210x100100, layout 5, 7, 913 (10.9)â€”IntelHD460013 (10.9)â€”AMDRadeon 290/290X15 (10.11)â€”NvidiaGK20817 (10.13.4)â€”NvidiaGM20017 (10.13.4)â€”NvidiaGM20417 (10.13.4)â€”NvidiaGM20617 (10.13.4)â€”NvidiaGP10217 (10.13.4)â€”NvidiaGP10417 (10.13.4)â€”NvidiaGP10617 (10.13.4)â€”NvidiaGP10717 (10.13.4)â€”NvidiaGP10817 (10.13.4)â€”Creditshttps://github.com/vit9696/AppleALC/wiki/Supported-codecs","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"AppleALC","slug":"AppleALC","permalink":"https://blog.iamzhl.top/tags/AppleALC/"},{"name":"codec","slug":"codec","permalink":"https://blog.iamzhl.top/tags/codec/"}]},{"title":"struts2 ä¸­ s:iterator æ ‡ç­¾çš„ä½¿ç”¨è¯¦è§£","slug":"Intro-about-iterator-in-struts2","date":"2018-04-11T02:12:17.000Z","updated":"2019-03-11T16:21:49.895Z","comments":true,"path":"Intro-about-iterator-in-struts2.html","link":"","permalink":"https://blog.iamzhl.top/Intro-about-iterator-in-struts2.html","excerpt":"","text":"ç®€å•çš„Demos:iterator æ ‡ç­¾æœ‰ä¸‰ä¸ªå±æ€§ï¼švalue: è¢«è¿­ä»£çš„é›†åˆid: æŒ‡å®šé›†åˆä¸­å…ƒç´ çš„idstatus: è¿­ä»£å…ƒç´ çš„ç´¢å¼•jspé¡µé¢å®šä¹‰å…ƒç´ å†™æ³• æ•°ç»„æˆ–list123&lt;s:iterator value=\"&#123;'1','2','3','4','5'&#125;\" &gt; &lt;s:property value='number'/&gt;A&lt;/s:iterator&gt;æ‰“å°ç»“æœä¸º: 1A2A3A4A5Aç´¢å¼•çš„ç”¨æ³•å¦‚æœæŒ‡å®šäº†statusï¼Œæ¯æ¬¡çš„è¿­ä»£æ•°æ®éƒ½æœ‰IteratorStatusçš„å®ä¾‹ï¼Œå®ƒæœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•int getCount() â€“ è¿”å›å½“å‰è¿­ä»£äº†å‡ ä¸ªå…ƒç´ int getIndex() â€“ è¿”å›å½“å‰å…ƒç´ ç´¢å¼•boolean isEven() â€“ å½“å‰çš„ç´¢å¼•æ˜¯å¦å¶æ•°boolean isFirst() â€“ å½“å‰æ˜¯å¦ç¬¬ä¸€ä¸ªå…ƒç´ boolean isLast() â€“ å½“å‰æ˜¯å¦æœ€åä¸€ä¸ªå…ƒç´ boolean isOdd() â€“ å½“å‰å…ƒç´ ç´¢å¼•æ˜¯å¦å¥‡æ•°123456&lt;s:iterator value=\"&#123;'a','b','c'&#125;\" status='st'&gt; &lt;s:if test=\"#st.Even\"&gt; ç°åœ¨çš„ç´¢å¼•æ˜¯å¥‡æ•°ä¸º:&lt;s:property value='#st.index'/&gt; &lt;/s:if&gt; å½“å‰å…ƒç´ å€¼ï¼š&lt;s:property value='char'/&gt;&lt;/s:iterator&gt;éå†mapvalueå¯ä»¥ç›´æ¥å®šä¹‰ä¸º:1value=\"#&#123;\"1\":\"a\",\"2\":\"b\"&#125;\"æ¯ä¸ªå…ƒç´ ä»¥é€—å·éš”å¼€ï¼Œå…ƒç´ ä¹‹é—´çš„keyå’Œvalueå†’å·éš”å¼€ã€‚valueä¹Ÿå¯ä»¥æ˜¯æ•°æ®æ ˆé‡Œé¢çš„java.util.Mapå¯¹è±¡éå†å†™æ³•å¦‚ä¸‹ï¼š1234&lt;s:iterator value=\"map\" status=\"st\"&gt; key : &lt;s:property value='key'/&gt; value:&lt;s:property vlaue='value'/&gt;&lt;/s:iterator&gt;å½“ç„¶keyå’Œvalueéƒ½å¯ä»¥æ˜¯javaçš„ Objectã€‚éå†æ•°æ®æ ˆ â€“ ç®€å•çš„Listç±»1234567891011List&lt;Attr&gt; class Attr&#123; String attrName; String getAttrName() &#123; return \"123\"; &#125;&#125;&lt;s:iterator value=\"label\" &gt; &lt;s:property value=\"#id.attrName\" /&gt;&lt;/s:iterator&gt;å½“ç„¶valueè¿˜å¯ä»¥å†™æˆvalue=&quot;%{label}&quot;ï¼Œlabelå¯ä»¥ç”¨.æ“ä½œlabelçš„å±æ€§Listï¼Œå¯ä»¥å†™æˆvalue=&quot;%{label.list}&quot;ï¼Œç›¸å½“äº: getLabel().getList()ï¼›éå† 2 ä¸ªlist12List&lt;AttrName&gt; attrN &#123;color,size,style&#125;List&lt;AttrValue&gt; attrV &#123;red,20,gay&#125;è¿™ 2 ä¸ªlistçš„å…ƒç´ æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œä¸€ä¸ªattrNå¯¹åº”ä¸€ä¸ªattrV12345678910111213&lt;s:iterator value=\"%&#123;attrN&#125;\" status=\"status\"&gt; index is : &lt;s:property value='status.index'/&gt; attrName is : &lt;s:property value='id'/&gt; or &lt;s:property value='%&#123;id&#125;'/&gt; attrName is : &lt;s:property value='%&#123;attrV[#status.index]&#125;'/&gt;&lt;/s:iterator&gt;&lt;s:bean&gt; &lt;s:param value=\"5\" /&gt; &lt;s:param value=\"10\" /&gt; &lt;s:iterator&gt; counter:&lt;s:property/&gt; &lt;/s:iterator&gt;&lt;/s:bean&gt;è¿™ä¸ªæ ‡ç­¾ä¸»è¦çš„çš„ä½œç”¨å°±æ˜¯è¿­ä»£å‡ºé›†åˆã€‚valueå±æ€§è¡¨ç¤ºéœ€è¦è·Œä»£æ˜¾ç¤ºå‡ºæ¥çš„å€¼ã€‚statuså±æ€§ï¼Œåˆæ¥ä¿å­˜è¿­ä»£æ—¶çš„ä¸€äº›çŠ¶æ€å€¼ã€‚æ³¨ï¼šå¦‚æœéœ€è¦å¼•ç”¨valueStackä¸­çš„å€¼ï¼Œéœ€è¦ä½¿ç”¨è¿™æ ·çš„å½¢å¼ã€‚1&lt;s:iterator value=\"#userList\" /&gt; //userListåœ¨actionéƒ¨åˆ†è¢«ä¿å­˜åœ¨Requestä¸­ï¼Œæ‰€ä»¥ä½¿ç”¨#åŠ å±æ€§åæ¥å¼•ç”¨å€¼ã€‚å¦‚æœé›†åˆçš„å€¼æ˜¯é€šè¿‡actionçš„æ–¹æ³•ï¼Œå‡è®¾æˆ‘ä»¬çš„actionä¸­æœ‰ä¸€ä¸ªgetListMenuæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªListé›†åˆã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å½¢å¼æ¥å¼•ç”¨è¿™ä¸ªé›†åˆï¼Œå¹¶ç”¨s:iteratoræ¥è¾“å‡ºã€‚1&lt;s:iterator value=\"listMenu\" /&gt;iteratorçš„valueä½¿ç”¨å®šä¹‰å¥½çš„æ–¹å¼ï¼Œå¦‚ï¼š1&lt;s:iterator value=\"&#123;1,2,3,4&#125;\" /&gt; //è¿™æ ·è·Œä»£è¾“å‡ºçš„å€¼å°±æ˜¯1.2.3.4è¿™å››ä¸ªå€¼ã€‚iteratorä¸­è¾“å‡ºå…·ä½“å€¼å¦‚æœï¼Œåœ¨ä¸Šé¢æˆ‘ä»¬çš„listä¸­çš„å¯¹è±¡ï¼Œæœ‰ä¸¤ä¸ªå±æ€§ï¼Œéƒ½æ˜¯Stringç±»å‹ï¼Œä¸€ä¸ªæ˜¯nameï¼Œä¸€ä¸ªæ˜¯urlã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥å¼•ç”¨ã€‚1&lt;s:property value=\"name\" /&gt; //è¿™æ ·æˆ‘ä»¬å°†å¯ä»¥è¾“å‡ºè¿­ä»£å¯¹è±¡çš„nameå±æ€§å€¼ã€‚å¦‚æœæˆ‘ä»¬å¸Œæœ›ä½¿ç”¨&lt;s:url /&gt;æ¥å°†è·³è½¬è¿‡åçš„urlè¿›è¡Œå¤„ç†ï¼Œè¯¥å¦‚ä½•æ¥åšï¼Ÿ12&lt;s:url value=\"%&#123;url&#125;\"/&gt; //%&#123;&#125;ognlçš„è¡¨è¾¾å¼ï¼Œè¿™æ ·çš„å€¼èƒ½å¤Ÿå°†urlçš„å€¼è¿›è¡Œ&lt;s:url/&gt;çš„å¤„ç†å®é™…ä¸Šå°±æ˜¯è½¬ä¸ºç»å¯¹è·¯å¾„ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹ä»˜ä¸€äº›å› è·³è½¬æ¢äº§ç”Ÿçš„è·¯å¾„é—®é¢˜ã€‚åŸå› ï¼šå› ä¸º&lt;s:iteratotr /&gt;ä»¥åï¼Œå½“å‰çš„å¯¹è±¡åº”è¯¥å°±åœ¨ValueStacké¡¶éƒ¨äº†ï¼Œè¿™æ ·å½“ç„¶çš„urlå®é™…ä¸Šå°±æ˜¯å¯¹è±¡çš„urlå±æ€§äº†ã€‚ä½¿ç”¨ognlè¾“å‡ºå¯¹åº”çš„å€¼1&lt;s:textfield value=\"%&#123;#request.loginNames&#125;\"/&gt;ä½¿ç”¨æ­¤è¡¨è¾¾å¼ï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ–‡æœ¬æ¡†ï¼Œå¹¶ä¸”ï¼Œå¦‚æœrequest.attributeä¸­æœ‰loginNameså±æ€§ï¼Œå°†ä¼šåšä¸ºäº›æ–‡æœ¬æ¡†çš„é»˜è®¤å€¼ã€‚å¦‚æœåªä½¿ç”¨#request.loginNamesåœ¨struts2çš„æ ‡ç­¾å†…éƒ¨ï¼Œæ˜¯ä¸ä¼šæ˜¾ç¤ºä»»ä½•å€¼çš„ï¼Œæ³¨æ„å¤–é¢åŠ ä¸Šçš„%{}ç¬¦å·ï¼Œæ‰ä¼šè¢«æ­£å¸¸çš„ä½¿ç”¨ã€‚å¦‚æœå¸Œæœ›å¦‚ELè¯­è¨€ä¸€æ ·ç›´æ¥è¾“å‡ºæ–‡ä»¶ï¼Œå¦‚åœ¨ä¸€ä¸ª&lt;a&gt;&lt;/a&gt;ä¹‹é—´çš„innerHTMLæ–‡æœ¬ä¸º#request.loginNamesçš„å€¼ï¼Œæˆ‘ä»¬åªè¦ä½¿ç”¨ï¼š&lt;s:property value=&quot;#request.loginNames&quot; /&gt;ä¾¿å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼æ³¨ï¼š${}æ˜¯ELè¯­è¨€çš„%{}è¿™æ ·çš„å½¢å¼æ˜¯ognlè¡¨è¾¾å¼è¯­è¨€çš„ï¼Œåœ¨struts2çš„æ ‡ç­¾å†…éƒ¨ï¼Œä½¿ç”¨%{}è¿™æ ·çš„å½¢å¼ï¼Œåœ¨æ ‡ç­¾å¤–éƒ¨å¯ä»¥ä½¿ç”¨${} ELè¯­è¨€çš„æ–¹å¼ã€‚å¦‚æœåœ¨struts2çš„æ ‡ç­¾å†…éƒ¨ä½¿ç”¨${}è¿™æ ·çš„æ–¹å¼ï¼Œä¼šå‡ºç°ä»¥ä¸‹çš„é”™è¯¯æç¤ºï¼š1According to TLD or attribute directive in tag file, attribute value does not accept any expressions2.å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨struts2çš„ä¸€äº›æ ‡ç­¾ï¼Œå±æ€§æ˜¯éœ€è¦æ¥å—é›†åˆçš„ï¼Œå¦‚æœé›†åˆæ˜¯ä¿å­˜åœ¨request,sessionï¼Œæˆ–è€…æ˜¯å€¼æ ˆ(éæ ¹å¯¹è±¡çš„æ ˆé¡¶)ï¼Œå¯ä»¥ä½¿ç”¨#å˜é‡åçš„æ–¹å¼ï¼Œå¦‚æœè·å–çš„å€¼æ˜¯åœ¨Actionä¸­é€šè¿‡ç‰¹å®šçš„æ–¹æ³•æ¥è·å–ï¼Œå°±éœ€è¦ä½¿ç”¨å¦‚value=&quot;userList&quot;è¿™æ ·çš„æ–¹å¼ï¼Œåªæ˜¯å»æ‰äº†å‰é¢çš„#ã€‚struts2ä¸­çš„OGNLç”¨æ³•Userå¯¹è±¡å±æ€§è·å–å¦‚Userä¸­æœ‰usernameå’Œpasswordå­—æ®µè·å–usernameå±æ€§1&lt;s:property value=\"user.username\" /&gt;è·å–passwordå±æ€§1&lt;s:property value=\"user.password\" /&gt;è‹¥Userä¸­åˆåŒ…å«å®šä¹‰äº†addresså¯¹è±¡ï¼Œaddresså¯¹è±¡ä¸­åŒ…å«æœ‰addrå±æ€§ï¼Œåˆ™å¯ä»¥è¿™æ ·è®¿é—®è·å–addrå±æ€§:1&lt;s:property value=\"user.address.addr\" /&gt;è‹¥Userä¸­è¿˜åŒ…å«ä¸€ä¸ªget()çš„æ™®é€šæ–¹æ³•ï¼Œå¯ä»¥è¿™æ ·è°ƒç”¨1&lt;s:property value=\"user.get()\" /&gt;ä»¥ä¸Šæ˜¯è°ƒç”¨å€¼æ ˆä¸­å¯¹è±¡çš„æ™®é€šæ–¹æ³•ï¼Œuserä¸ºå€¼æ ˆä¸­çš„å¯¹è±¡è°ƒç”¨actionä¸­çš„é™æ€æ–¹æ³•get()ï¼Œæ™®é€šæ–¹æ³•ä¸èƒ½ç›´æ¥è°ƒç”¨1&lt;s:property value=\"@com.netshuai.action.ManagerAction@get()\" /&gt;ä»¥ä¸Šä¸ºè°ƒç”¨éå€¼æ ˆä¸­çš„é™æ€æ–¹æ³•è°ƒç”¨JDKä¸­ç±»çš„é™æ€æ–¹æ³•1&lt;s:property value=\"@java.lang.Math@floor(32.56)\" /&gt;ä¸Šä¾‹ä¹Ÿå¯å†™æˆ1&lt;s:property value=\"@@floor(32.56)\" /&gt;çœç•¥å‰é¢çš„ç±»åˆ™é»˜è®¤ä½¿ç”¨java.lang.Mathç±»ï¼Œå…¶ä»–ç±»ä¸å¯çœç•¥è°ƒç”¨æ™®é€šç±»ä¸­çš„é™æ€å±æ€§1&lt;s:property value=\"@com.netshuai.model.Address@city\" /&gt;addressä¸­çš„cityé™æ€å±æ€§è¦ç”¨publicå£°æ˜è°ƒç”¨æ™®é€šç±»çš„æ„é€ æ–¹æ³•ï¼Œå¦‚æ„é€ æ–¹æ³•ä¸º1234public User(String username)&#123; this.username=username;&#125;è°ƒç”¨æ–¹æ³•ä¸º1&lt;s:property value=\"new com.netshuai.model.User('hello').username\" /&gt;åˆ™è¿”å›usernameå€¼ä¸ºhelloè·å–List1&lt;s:property value=\"list\" /&gt;è·å–Listä¸­çš„æŸä¸€ä¸ªå…ƒç´ 1&lt;s:property value=\"list[0]\" /&gt;è·å–Listçš„å¤§å°1&lt;s:property value=\"list.size\" /&gt;è·å–Set1&lt;s:property value=\"set\" /&gt;æ— æ³•è·å–Setä¸­çš„æŸä¸€ä¸ªå…ƒç´ ï¼Œå› ä¸ºSetæ²¡æœ‰é¡ºåºè·å–Map1&lt;s:property value=\"map\" /&gt;è·å–Mapä¸­æ‰€æœ‰keyçš„å€¼1&lt;s:property value=\"map.keys\" /&gt;è·å–Mapä¸­æ‰€æœ‰valueçš„å€¼1&lt;s:property value=\"map.values\" /&gt;è·å–Mapä¸­çš„æŸä¸€ä¸ªå…ƒç´ 1&lt;s:property value=\"map['k1']\" /&gt;è·å–Listæ‰€æœ‰å¯¹è±¡1&lt;s:property value=\"listObject\" /&gt;éœ€è¦é‡å†™toString()æ–¹æ³•æ‰èƒ½æ­£å¸¸æ˜¾ç¤ºå¯¹è±¡çš„å€¼åˆ©ç”¨æŠ•å½±è·å–Listä¸­æ‰€æœ‰å¯¹è±¡çš„usernameå±æ€§1&lt;s:property value=\"listObject.&#123;username&#125;\" /&gt;åˆ©ç”¨æŠ•å½±è·å–Listä¸­ç¬¬ä¸€ä¸ªå¯¹è±¡çš„usernameå±æ€§1&lt;s:property value=\"listObject.&#123;username&#125;[0]\" /&gt;åˆ©ç”¨é€‰æ‹©è·å–Listä¸­å¹´é¾„å¤§äº 30 çš„å¯¹è±¡1&lt;s:property value=\"listObject.&#123;?#this.age&gt;30&#125;\" /&gt;åˆ©ç”¨é€‰æ‹©è·å–Listä¸­å¹´é¾„å¤§äº 30 çš„å¯¹è±¡çš„username1&lt;s:property value=\"listObject.&#123;?#this.age&gt;30&#125;.&#123;username&#125;\" /&gt;åˆ©ç”¨é€‰æ‹©è·å–Listä¸­å¹´é¾„å¤§äº 30 çš„ç¬¬ä¸€ä¸ªå¯¹è±¡çš„username1&lt;s:property value=\"listObject.&#123;?#this.age&gt;30&#125;.&#123;username&#125;[0]\" /&gt;æˆ–1&lt;s:property value=\"listObject.&#123;^#this.age&gt;30&#125;.&#123;username&#125;\" /&gt;åˆ©ç”¨é€‰æ‹©è·å–Listä¸­å¹´é¾„å¤§äº 30 çš„æœ€åä¸€ä¸ªå¯¹è±¡çš„username1&lt;s:property value=\"listObject.&#123;$#this.age&gt;30&#125;.&#123;username&#125;\" /&gt;è·å–parametersä¸­çš„å±æ€§1&lt;s:property value=\"#parameters.name\" /&gt;è·å–requestä¸­çš„å±æ€§1&lt;s:property value=\"#request.name\" /&gt;è·å–sessionä¸­çš„å±æ€§1&lt;s:property value=\"#session.name\" /&gt;è·å–applicationä¸­çš„å±æ€§1&lt;s:property value=\"#application.name\" /&gt;æŒ‰é¡ºåºéå†ä¸Šé¢å››ä¸ªå¯¹è±¡ï¼Œç„¶åè¿”å›é¦–å…ˆæ‰¾åˆ°çš„å€¼1&lt;s:property value=\"#attr.name\" /&gt;%{}å¯ä»¥å–å‡ºå­˜åœ¨å€¼å †æ ˆä¸­çš„Actionå¯¹è±¡ï¼Œç›´æ¥è°ƒç”¨å®ƒçš„æ–¹æ³•ï¼Œå¦‚%{getText(&#39;key&#39;)}å¯ä»¥å–å‡ºå›½é™…åŒ–ä¿¡æ¯${}å¯ä»¥ç”¨åœ¨å›½é™…åŒ–èµ„æºæ–‡ä»¶ä¸­å’Œstruts2é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨topè·å–å€¼æ ˆä¸­ç¬¬äºŒä¸ªå¯¹è±¡1&lt;s:property value=\"[1].top.user\"/&gt;ä½¿ç”¨topè·å–å€¼æ ˆä¸­ç¬¬äºŒä¸ªå¯¹è±¡çš„å±æ€§1&lt;s:property value=\"[1].user\"/&gt;è°ƒç”¨å€¼æ ˆä¸­actionçš„é™æ€æ–¹æ³•(vsä¹Ÿå¯å†™åšvs1)1get()&lt;s:property value=\"@vs@get()\"/&gt;è°ƒç”¨å€¼æ ˆä¸­ç¬¬äºŒä¸ªactionçš„é™æ€æ–¹æ³•1get()&lt;s:property value=\"@vs2@get()\"/&gt;å°†ä¸€ä¸ªå¯¹è±¡æ”¾å…¥å€¼æ ˆ1ActionContext.getContext().getValueStack().push(user);è½¬è½½è‡ªhttp://tomfish88.iteye.com/blog/1489506","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"struts2","slug":"struts2","permalink":"https://blog.iamzhl.top/tags/struts2/"},{"name":"iterator","slug":"iterator","permalink":"https://blog.iamzhl.top/tags/iterator/"},{"name":"æ¡†æ¶","slug":"æ¡†æ¶","permalink":"https://blog.iamzhl.top/tags/æ¡†æ¶/"}]},{"title":"OSI ä¸ƒå±‚æ¨¡å‹è¯¦è§£","slug":"OSI-Model","date":"2018-04-09T08:36:53.000Z","updated":"2019-03-11T16:21:49.897Z","comments":true,"path":"OSI-Model.html","link":"","permalink":"https://blog.iamzhl.top/OSI-Model.html","excerpt":"","text":"å®šä¹‰OSIï¼ˆOpen System Interconnectionï¼‰å‚è€ƒæ¨¡å‹æ˜¯å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ï¼ˆISOï¼‰åˆ¶å®šçš„ä¸€ä¸ªç”¨äºè®¡ç®—æœºæˆ–é€šä¿¡ç³»ç»Ÿé—´äº’è”çš„æ ‡å‡†ä½“ç³»ï¼Œä¸€èˆ¬ç§°ä¸ºOSIå‚è€ƒæ¨¡å‹æˆ–ä¸ƒå±‚æ¨¡å‹ã€‚æ¨¡å‹å›¾å„å±‚æè¿°ç‰©ç†å±‚è®¾å¤‡ä¹‹é—´çš„æ¯”ç‰¹æµä¼ è¾“ã€ç‰©ç†æ¥å£ã€ç”µæ°”ç‰¹æ€§ç­‰ç‰©ç†å±‚å¹¶ä¸æ˜¯ç‰©ç†åª’ä½“æœ¬èº«ï¼Œå®ƒåªæ˜¯å¼€æ”¾ç³»ç»Ÿä¸­åˆ©ç”¨ç‰©ç†åª’ä½“å®ç°ç‰©ç†è¿æ¥çš„åŠŸèƒ½æè¿°å’Œæ‰§è¡Œè¿æ¥çš„è§„ç¨‹ã€‚ç‰©ç†å±‚æä¾›ç”¨äºå»ºç«‹ã€ä¿æŒå’Œæ–­å¼€ç‰©ç†è¿æ¥çš„æœºæ¢°çš„ã€ç”µæ°”çš„ã€åŠŸèƒ½çš„å’Œè¿‡ç¨‹çš„æ¡ä»¶ã€‚ç®€è€Œè¨€ä¹‹ï¼Œç‰©ç†å±‚æä¾›æœ‰å…³åŒæ­¥å’Œå…¨åŒå·¥æ¯”ç‰¹æµåœ¨ç‰©ç†åª’ä½“ä¸Šçš„ä¼ è¾“æ‰‹æ®µï¼Œå…¶å…¸å‹çš„åè®®æœ‰RS 232Cã€RS 449/422/423ã€V.24å’ŒX.21ã€X.21bisç­‰ã€‚ç‰©ç†å±‚æ˜¯OSIçš„ç¬¬ä¸€å±‚ï¼Œå®ƒè™½ç„¶å¤„äºæœ€åº•å±‚ï¼Œå´æ˜¯æ•´ä¸ªå¼€æ”¾ç³»ç»Ÿçš„åŸºç¡€ã€‚ç‰©ç†å±‚ä¸ºè®¾å¤‡ä¹‹é—´çš„æ•°æ®é€šä¿¡æä¾›ä¼ è¾“åª’ä½“åŠäº’è¿è®¾å¤‡ï¼Œä¸ºæ•°æ®ä¼ è¾“æä¾›å¯é çš„ç¯å¢ƒã€‚ä¸ºæ•°æ®ç«¯è®¾å¤‡æä¾›ä¼ é€æ•°æ®çš„é€šè·¯ï¼Œæ•°æ®é€šè·¯å¯ä»¥æ˜¯ä¸€ä¸ªç‰©ç†åª’ä½“ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªç‰©ç†åª’ä½“è¿æ¥è€Œæˆã€‚ä¸€æ¬¡å®Œæ•´çš„æ•°æ®ä¼ è¾“ï¼ŒåŒ…æ‹¬æ¿€æ´»ç‰©ç†è¿æ¥ã€ä¼ é€æ•°æ®å’Œç»ˆæ­¢ç‰©ç†è¿æ¥ã€‚æ‰€è°“æ¿€æ´»ï¼Œå°±æ˜¯ä¸ç®¡æœ‰å¤šå°‘ç‰©ç†åª’ä½“å‚ä¸ï¼Œéƒ½è¦åœ¨é€šä¿¡çš„ä¸¤ä¸ªæ•°æ®ç»ˆç«¯è®¾å¤‡é—´è¿æ¥èµ·æ¥ï¼Œå½¢æˆä¸€æ¡é€šè·¯ã€‚ä¼ è¾“æ•°æ®ã€‚ç‰©ç†å±‚è¦å½¢æˆé€‚åˆæ•°æ®ä¼ è¾“éœ€è¦çš„å®ä½“ï¼Œä¸ºæ•°æ®ä¼ é€æœåŠ¡ã€‚ä¸€æ˜¯è¦ä¿è¯æ•°æ®èƒ½åœ¨å…¶ä¸Šæ­£ç¡®é€šè¿‡ï¼ŒäºŒæ˜¯è¦æä¾›è¶³å¤Ÿçš„å¸¦å®½(å¸¦å®½æ˜¯æŒ‡æ¯ç§’é’Ÿå†…èƒ½é€šè¿‡çš„æ¯”ç‰¹(Bit)æ•°)ï¼Œä»¥å‡å°‘ä¿¡é“ä¸Šçš„æ‹¥å¡ã€‚ä¼ è¾“æ•°æ®çš„æ–¹å¼èƒ½æ»¡è¶³ç‚¹åˆ°ç‚¹ï¼Œä¸€ç‚¹åˆ°å¤šç‚¹ï¼Œä¸²è¡Œæˆ–å¹¶è¡Œï¼ŒåŠåŒå·¥æˆ–å…¨åŒå·¥ï¼ŒåŒæ­¥æˆ–å¼‚æ­¥ä¼ è¾“çš„éœ€è¦ã€‚å®Œæˆç‰©ç†å±‚çš„ä¸€äº›ç®¡ç†å·¥ä½œã€‚æ•°æ®é“¾è·¯å±‚å°è£…æ•°æ®å¸§æ•°æ®é“¾è·¯å¯ä»¥ç²—ç•¥åœ°ç†è§£ä¸ºæ•°æ®é€šé“ã€‚ç‰©ç†å±‚è¦ä¸ºç»ˆç«¯è®¾å¤‡é—´çš„æ•°æ®é€šä¿¡æä¾›ä¼ è¾“ä»‹è´¨åŠå…¶è¿æ¥ã€‚ä»‹è´¨æ˜¯é•¿æœŸçš„ï¼Œè¿æ¥æ˜¯æœ‰ç”Ÿå­˜æœŸçš„ã€‚åœ¨è¿æ¥ç”Ÿå­˜æœŸå†…ï¼Œæ”¶å‘ä¸¤ç«¯å¯ä»¥è¿›è¡Œä¸ç­‰çš„ä¸€æ¬¡æˆ–å¤šæ¬¡æ•°æ®é€šä¿¡ã€‚æ¯æ¬¡é€šä¿¡éƒ½è¦ç»è¿‡å»ºç«‹é€šä¿¡è”ç»œå’Œæ‹†é™¤é€šä¿¡è”ç»œä¸¤ä¸ªè¿‡ç¨‹ã€‚è¿™ç§å»ºç«‹èµ·æ¥çš„æ•°æ®æ”¶å‘å…³ç³»å°±å«åšæ•°æ®é“¾è·¯ã€‚è€Œåœ¨ç‰©ç†åª’ä½“ä¸Šä¼ è¾“çš„æ•°æ®éš¾å…å—åˆ°å„ç§ä¸å¯é å› ç´ çš„å½±å“è€Œäº§ç”Ÿå·®é”™ï¼Œä¸ºäº†å¼¥è¡¥ç‰©ç†å±‚ä¸Šçš„ä¸è¶³ï¼Œä¸ºä¸Šå±‚æä¾›æ— å·®é”™çš„æ•°æ®ä¼ è¾“ï¼Œå°±è¦èƒ½å¯¹æ•°æ®è¿›è¡Œæ£€é”™å’Œçº é”™ã€‚æ•°æ®é“¾è·¯çš„å»ºç«‹ï¼Œæ‹†é™¤ï¼Œå¯¹æ•°æ®çš„æ£€é”™ï¼Œçº é”™æ˜¯æ•°æ®é“¾è·¯å±‚çš„åŸºæœ¬ä»»åŠ¡ã€‚é“¾è·¯å±‚æ˜¯ä¸ºç½‘ç»œå±‚æä¾›æ•°æ®ä¼ é€æœåŠ¡çš„ï¼Œè¿™ç§æœåŠ¡è¦ä¾é æœ¬å±‚å…·å¤‡çš„åŠŸèƒ½æ¥å®ç°ã€‚é“¾è·¯å±‚åº”å…·å¤‡å¦‚ä¸‹åŠŸèƒ½ï¼šé“¾è·¯è¿æ¥çš„å»ºç«‹ã€æ‹†é™¤å’Œåˆ†ç¦»ï¼›å¸§å®šç•Œå’Œå¸§åŒæ­¥ã€‚é“¾è·¯å±‚çš„æ•°æ®ä¼ è¾“å•å…ƒæ˜¯å¸§ï¼Œåè®®ä¸åŒï¼Œå¸§çš„é•¿çŸ­å’Œç•Œé¢ä¹Ÿæœ‰å·®åˆ«ï¼Œä½†æ— è®ºå¦‚ä½•å¿…é¡»å¯¹å¸§è¿›è¡Œå®šç•Œï¼›é¡ºåºæ§åˆ¶ï¼ŒæŒ‡å¯¹å¸§çš„æ”¶å‘é¡ºåºçš„æ§åˆ¶ï¼›å·®é”™æ£€æµ‹å’Œæ¢å¤ã€‚è¿˜æœ‰é“¾è·¯æ ‡è¯†ï¼Œæµé‡æ§åˆ¶ç­‰ç­‰ã€‚å·®é”™æ£€æµ‹å¤šç”¨æ–¹é˜µç æ ¡éªŒå’Œå¾ªç¯ç æ ¡éªŒæ¥æ£€æµ‹ä¿¡é“ä¸Šæ•°æ®çš„è¯¯ç ï¼Œè€Œå¸§ä¸¢å¤±ç­‰ç”¨åºå·æ£€æµ‹ã€‚å„ç§é”™è¯¯çš„æ¢å¤åˆ™å¸¸é åé¦ˆé‡å‘æŠ€æœ¯æ¥å®Œæˆã€‚ç‹¬ç«‹çš„é“¾è·¯äº§å“ä¸­æœ€å¸¸è§çš„å½“å±ç½‘å¡ï¼Œç½‘æ¡¥ä¹Ÿæ˜¯é“¾è·¯äº§å“ã€‚æ•°æ®é“¾è·¯å±‚å°†æœ¬è´¨ä¸Šä¸å¯é çš„ä¼ è¾“åª’ä½“å˜æˆå¯é çš„ä¼ è¾“é€šè·¯æä¾›ç»™ç½‘ç»œå±‚ã€‚åœ¨IEEE802.3æƒ…å†µä¸‹ï¼Œæ•°æ®é“¾è·¯å±‚åˆ†æˆäº†ä¸¤ä¸ªå­å±‚ï¼Œä¸€ä¸ªæ˜¯é€»è¾‘é“¾è·¯æ§åˆ¶ï¼Œå¦ä¸€ä¸ªæ˜¯åª’ä½“è®¿é—®æ§åˆ¶.OSIå…¶ä¸­ï¼šAUIâ€”â€”è¿æ¥å•å…ƒæ¥å£PMAâ€”â€”ç‰©ç†åª’ä½“è¿æ¥MAUâ€”â€”åª’ä½“è¿æ¥å•å…ƒPLSâ€”â€”ç‰©ç†ä¿¡ä»¤MDIâ€”â€”åª’ä½“ç›¸å…³æ¥å£ç½‘ç»œå±‚å°è£…æ•°æ®æŠ¥æ–‡ç½‘ç»œå±‚çš„äº§ç”Ÿä¹Ÿæ˜¯ç½‘ç»œå‘å±•çš„ç»“æœã€‚åœ¨è”æœºç³»ç»Ÿå’Œçº¿è·¯äº¤æ¢çš„ç¯å¢ƒä¸­ï¼Œç½‘ç»œå±‚çš„åŠŸèƒ½æ²¡æœ‰å¤ªå¤§æ„ä¹‰ã€‚å½“æ•°æ®ç»ˆç«¯å¢å¤šæ—¶ã€‚å®ƒä»¬ä¹‹é—´æœ‰ä¸­ç»§è®¾å¤‡ç›¸è¿ï¼Œæ­¤æ—¶ä¼šå‡ºç°ä¸€å°ç»ˆç«¯è¦æ±‚ä¸åªæ˜¯ä¸æƒŸä¸€çš„ä¸€å°è€Œæ˜¯èƒ½å’Œå¤šå°ç»ˆç«¯é€šä¿¡çš„æƒ…å†µï¼Œè¿™å°±äº§ç”Ÿäº†æŠŠä»»æ„ä¸¤å°æ•°æ®ç»ˆç«¯è®¾å¤‡çš„æ•°æ®é“¾æ¥èµ·æ¥çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è·¯ç”±æˆ–è€…å«å¯»å¾„ã€‚å¦å¤–ï¼Œå½“ä¸€æ¡ç‰©ç†ä¿¡é“å»ºç«‹ä¹‹åï¼Œè¢«ä¸€å¯¹ç”¨æˆ·ä½¿ç”¨ï¼Œå¾€å¾€æœ‰è®¸å¤šç©ºé—²æ—¶é—´è¢«æµªè´¹æ‰ã€‚äººä»¬è‡ªç„¶ä¼šå¸Œæœ›è®©å¤šå¯¹ç”¨æˆ·å…±ç”¨ä¸€æ¡é“¾è·¯ï¼Œä¸ºè§£å†³è¿™ä¸€é—®é¢˜å°±å‡ºç°äº†é€»è¾‘ä¿¡é“æŠ€æœ¯å’Œè™šæ‹Ÿç”µè·¯æŠ€æœ¯ã€‚ä¸­ç»§æ§åˆ¶å±‚ï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯åˆ©ç”¨æ•°æ®é“¾è·¯å±‚æ‰€ä¿è¯çš„é‚»æ¥èŠ‚ç‚¹é—´çš„æ— å·®é”™æ•°æ®ä¼ è¾“åŠŸèƒ½ï¼Œé€šè¿‡è·¯ç”±é€‰æ‹©å’Œä¸­ç»§åŠŸèƒ½ï¼Œå®ç°ä¸¤ä¸ªç«¯ç³»ç»Ÿä¹‹é—´çš„æ•°æ®ä¼ è¾“ã€‚ä¸ºæ­¤ï¼Œç½‘ç»œå±‚è¿˜å…·æœ‰å¤šè·¯å¤ç”¨åŠŸèƒ½ï¼Œé‡‡ç”¨ç»Ÿè®¡æ—¶åˆ†å¤ç”¨åŸç†ï¼Œå°†ä¸€æ¡æ•°æ®é“¾è·¯å¤ç”¨ä¸ºå¤šæ¡é€»è¾‘ä¿¡é“ï¼Œä»è€Œå®ç°ä¸€ä¸ªæ•°æ®ç»ˆç«¯è®¾å¤‡åˆ©ç”¨ä¸€æ¡ç‰©ç†ç”µè·¯åŒæ—¶å’Œå¤šä¸ªè¿œç¨‹æ•°æ®é€šä¿¡è®¾å¤‡çš„é€šä¿¡ã€‚ç½‘ç»œå±‚è§„å®šäº†ç½‘è·¯è¿æ¥çš„å»ºç«‹å’Œæ‹†é™¤è§„ç¨‹ä»¥åŠæ•°æ®ä¼ é€è§„ç¨‹ç­‰ã€‚è·¯ç”±é€‰æ‹©å’Œä¸­ç»§ï¼›æ¿€æ´»ï¼Œç»ˆæ­¢ç½‘ç»œè¿æ¥ï¼›åœ¨ä¸€æ¡æ•°æ®é“¾è·¯ä¸Šå¤ç”¨å¤šæ¡ç½‘ç»œè¿æ¥ï¼Œå¤šé‡‡å–åˆ†æ—¶å¤ç”¨æŠ€æœ¯ï¼›æ£€æµ‹ä¸æ¢å¤ï¼›æ’åºï¼Œæµé‡æ§åˆ¶ï¼›æœåŠ¡é€‰æ‹©ï¼›ç½‘ç»œç®¡ç†ã€‚ä¼ è¾“å±‚ç¡®å®šä¼ è¾“åè®®ã€ç¡®å®šæ•°æ®ä¼ è¾“çš„æ¥å£ä¸»è¦åŠŸèƒ½æ˜¯ç«¯å¼€æ”¾ç³»ç»Ÿä¹‹é—´æ•°æ®çš„æ”¶å¦¥ç¡®è®¤ã€‚åŒæ—¶ï¼Œè¿˜ç”¨äºå¼¥è¡¥å„ç§é€šä¿¡ç½‘è·¯çš„è´¨é‡å·®å¼‚ï¼Œå¯¹ç»è¿‡ä¸‹ä¸‰å±‚ä¹‹åä»ç„¶å­˜åœ¨çš„ä¼ è¾“å·®é”™è¿›è¡Œæ¢å¤ï¼Œè¿›ä¸€æ­¥æé«˜å¯é æ€§ã€‚å¦å¤–ï¼Œè¿˜é€šè¿‡å¤ç”¨ã€åˆ†æ®µå’Œç»„åˆã€è¿æ¥å’Œåˆ†ç¦»ã€åˆ†æµå’Œåˆæµç­‰æŠ€æœ¯æªæ–½ï¼Œæé«˜ååé‡å’ŒæœåŠ¡è´¨é‡ã€‚ä¼ è¾“å±‚æ˜¯ä¸¤å°è®¡ç®—æœºç»è¿‡ç½‘ç»œè¿›è¡Œæ•°æ®é€šä¿¡æ—¶ï¼Œç¬¬ä¸€ä¸ªç«¯åˆ°ç«¯çš„å±‚æ¬¡ï¼Œå…·æœ‰ç¼“å†²ä½œç”¨ã€‚å½“ç½‘ç»œå±‚æœåŠ¡è´¨é‡ä¸èƒ½æ»¡è¶³è¦æ±‚æ—¶ï¼Œå®ƒå°†æœåŠ¡åŠ ä»¥æé«˜ï¼Œä»¥æ»¡è¶³é«˜å±‚çš„è¦æ±‚ï¼›å½“ç½‘ç»œå±‚æœåŠ¡è´¨é‡è¾ƒå¥½æ—¶ï¼Œå®ƒåªç”¨å¾ˆå°‘çš„å·¥ä½œã€‚ä¼ è¾“å±‚è¿˜å¯è¿›è¡Œå¤ç”¨ï¼Œå³åœ¨ä¸€ä¸ªç½‘ç»œè¿æ¥ä¸Šåˆ›å»ºå¤šä¸ªé€»è¾‘è¿æ¥ã€‚ä¼ è¾“å±‚ä¹Ÿç§°ä¸ºè¿è¾“å±‚ã€‚ä¼ è¾“å±‚åªå­˜åœ¨äºç«¯å¼€æ”¾ç³»ç»Ÿä¸­ï¼Œæ˜¯ä»‹äºä½3å±‚é€šä¿¡å­ç½‘ç³»ç»Ÿå’Œé«˜3å±‚ä¹‹é—´çš„ä¸€å±‚ï¼Œä½†æ˜¯å¾ˆé‡è¦çš„ä¸€å±‚ã€‚å› ä¸ºå®ƒæ˜¯æºç«¯åˆ°ç›®çš„ç«¯å¯¹æ•°æ®ä¼ é€è¿›è¡Œæ§åˆ¶ä»ä½åˆ°é«˜çš„æœ€åä¸€å±‚ã€‚æœ‰ä¸€ä¸ªæ—¢å­˜äº‹å®ï¼Œå³ä¸–ç•Œä¸Šå„ç§é€šä¿¡å­ç½‘åœ¨æ€§èƒ½ä¸Šå­˜åœ¨ç€å¾ˆå¤§å·®å¼‚ã€‚ä¾‹å¦‚ç”µè¯äº¤æ¢ç½‘ï¼Œåˆ†ç»„äº¤æ¢ç½‘ï¼Œå…¬ç”¨æ•°æ®äº¤æ¢ç½‘ï¼Œå±€åŸŸç½‘ç­‰é€šä¿¡å­ç½‘éƒ½å¯äº’è¿ï¼Œä½†å®ƒä»¬æä¾›çš„ååé‡ï¼Œä¼ è¾“é€Ÿç‡ï¼Œæ•°æ®å»¶è¿Ÿé€šä¿¡è´¹ç”¨å„ä¸ç›¸åŒã€‚å¯¹äºä¼šè¯å±‚æ¥è¯´ï¼Œå´è¦æ±‚æœ‰ä¸€æ€§èƒ½æ’å®šçš„ç•Œé¢ã€‚ä¼ è¾“å±‚å°±æ‰¿æ‹…äº†è¿™ä¸€åŠŸèƒ½ã€‚å®ƒé‡‡ç”¨åˆ†æµ/åˆæµï¼Œå¤ç”¨/ä»‹å¤ç”¨æŠ€æœ¯æ¥è°ƒèŠ‚ä¸Šè¿°é€šä¿¡å­ç½‘çš„å·®å¼‚ï¼Œä½¿ä¼šè¯å±‚æ„Ÿå—ä¸åˆ°ã€‚æ­¤å¤–ä¼ è¾“å±‚è¿˜è¦å…·å¤‡å·®é”™æ¢å¤ï¼Œæµé‡æ§åˆ¶ç­‰åŠŸèƒ½ï¼Œä»¥æ­¤å¯¹ä¼šè¯å±‚å±è”½é€šä¿¡å­ç½‘åœ¨è¿™äº›æ–¹é¢çš„ç»†èŠ‚ä¸å·®å¼‚ã€‚ä¼ è¾“å±‚é¢å¯¹çš„æ•°æ®å¯¹è±¡å·²ä¸æ˜¯ç½‘ç»œåœ°å€å’Œä¸»æœºåœ°å€ï¼Œè€Œæ˜¯ä¼šè¯å±‚çš„ç•Œé¢ç«¯å£ã€‚ä¸Šè¿°åŠŸèƒ½çš„æœ€ç»ˆç›®çš„æ˜¯ä¸ºä¼šè¯æä¾›å¯é çš„ï¼Œæ— è¯¯çš„æ•°æ®ä¼ è¾“ã€‚ä¼ è¾“å±‚çš„æœåŠ¡ä¸€èˆ¬è¦ç»å†ä¼ è¾“è¿æ¥å»ºç«‹ã€æ•°æ®ä¼ é€ã€ä¼ è¾“è¿æ¥é‡Šæ”¾3ä¸ªé˜¶æ®µæ‰ç®—å®Œæˆä¸€ä¸ªå®Œæ•´çš„æœåŠ¡è¿‡ç¨‹ã€‚è€Œåœ¨æ•°æ®ä¼ é€é˜¶æ®µåˆåˆ†ä¸ºä¸€èˆ¬æ•°æ®ä¼ é€å’ŒåŠ é€Ÿæ•°æ®ä¼ é€ä¸¤ç§ã€‚ä¼šè¯å±‚å¯¹åº”ç”¨ä¼šè¯çš„ç®¡ç†ã€åŒæ­¥æŒ‰ç…§åœ¨åº”ç”¨è¿›ç¨‹ä¹‹é—´çº¦å®šçš„åŸåˆ™ï¼ŒæŒ‰ç…§æ­£ç¡®çš„é¡ºåºæ”¶ã€å‘æ•°æ®ï¼Œè¿›è¡Œå„ç§å½¢æ€çš„å¯¹è¯ã€‚ä¼šè¯å±‚è§„å®šäº†ä¼šè¯æœåŠ¡ç”¨æˆ·é—´ä¼šè¯è¿æ¥çš„å»ºç«‹å’Œæ‹†é™¤è§„ç¨‹ä»¥åŠæ•°æ®ä¼ é€è§„ç¨‹ã€‚ä¼šè¯å±‚æä¾›çš„æœåŠ¡æ˜¯åº”ç”¨å»ºç«‹å’Œç»´æŒä¼šè¯ï¼Œå¹¶èƒ½ä½¿ä¼šè¯è·å¾—åŒæ­¥ã€‚ä¼šè¯å±‚ä½¿ç”¨æ ¡éªŒç‚¹å¯ä½¿é€šä¿¡ä¼šè¯åœ¨é€šä¿¡å¤±æ•ˆæ—¶ä»æ ¡éªŒç‚¹ç»§ç»­æ¢å¤é€šä¿¡ã€‚è¿™ç§èƒ½åŠ›å¯¹äºä¼ é€å¤§çš„æ–‡ä»¶æä¸ºé‡è¦ã€‚ä¼šè¯å±‚ï¼Œè¡¨ç¤ºå±‚ï¼Œåº”ç”¨å±‚æ„æˆå¼€æ”¾ç³»ç»Ÿçš„é«˜3å±‚ï¼Œé¢å‘åº”ç”¨è¿›ç¨‹æä¾›åˆ†å¸ƒå¤„ç†ã€å¯¹è¯ç®¡ç†ã€ä¿¡æ¯è¡¨ç¤ºã€æ£€æŸ¥å’Œæ¢å¤ä¸è¯­ä¹‰ä¸Šä¸‹æ–‡æœ‰å…³çš„ä¼ é€å·®é”™ç­‰ã€‚ä¸ºç»™ä¸¤ä¸ªå¯¹ç­‰ä¼šè¯æœåŠ¡ç”¨æˆ·å»ºç«‹ä¸€ä¸ªä¼šè¯è¿æ¥ï¼Œåº”è¯¥åšå¦‚ä¸‹å‡ é¡¹å·¥ä½œï¼šå°†ä¼šè¯åœ°å€æ˜ å°„ä¸ºè¿è¾“åœ°å€ï¼›æ•°æ®ä¼ è¾“é˜¶æ®µï¼›è¿æ¥é‡Šæ”¾ã€‚è¡¨ç¤ºå±‚æ•°æ®çš„è¡¨ç°å½¢å¼ã€ç‰¹æ®Šæ•°æ®çš„åŠ å¯†ã€å‹ç¼©ï¼ˆè§£é‡Šä¼ è¾“çš„æ•°æ®ï¼‰æŠŠåº”ç”¨å±‚æä¾›çš„ä¿¡æ¯å˜æ¢ä¸ºèƒ½å¤Ÿå…±åŒç†è§£çš„å½¢å¼ï¼Œæä¾›å­—ç¬¦ä»£ç ã€æ•°æ®æ ¼å¼ã€æ§åˆ¶ä¿¡æ¯æ ¼å¼ã€åŠ å¯†ç­‰çš„ç»Ÿä¸€è¡¨ç¤ºã€‚è¡¨ç¤ºå±‚çš„ä½œç”¨ä¹‹ä¸€æ˜¯ä¸ºå¼‚ç§æœºé€šä¿¡æä¾›ä¸€ç§å…¬å…±è¯­è¨€ï¼Œä»¥ä¾¿èƒ½è¿›è¡Œäº’æ“ä½œã€‚è¿™ç§ç±»å‹çš„æœåŠ¡ä¹‹æ‰€ä»¥éœ€è¦ï¼Œæ˜¯å› ä¸ºä¸åŒçš„è®¡ç®—æœºä½“ç³»ç»“æ„ä½¿ç”¨çš„æ•°æ®è¡¨ç¤ºæ³•ä¸åŒã€‚ä¾‹å¦‚ï¼ŒIBMä¸»æœºä½¿ç”¨EBCDICç¼–ç ï¼Œè€Œå¤§éƒ¨åˆ†PCæœºä½¿ç”¨çš„æ˜¯ASCIIç ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¾¿éœ€è¦è¡¨ç¤ºå±‚æ¥å®Œæˆè¿™ç§è½¬æ¢ã€‚é€šè¿‡å‰é¢çš„ä»‹ç»ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œä¼šè¯å±‚ä»¥ä¸‹5å±‚å®Œæˆäº†ç«¯åˆ°ç«¯çš„æ•°æ®ä¼ é€ï¼Œå¹¶ä¸”æ˜¯å¯é çš„ã€æ— å·®é”™çš„ä¼ é€ã€‚ä½†æ˜¯æ•°æ®ä¼ é€åªæ˜¯æ‰‹æ®µè€Œä¸æ˜¯ç›®çš„ï¼Œæœ€ç»ˆæ˜¯è¦å®ç°å¯¹æ•°æ®çš„ä½¿ç”¨ã€‚ç”±äºå„ç§ç³»ç»Ÿå¯¹æ•°æ®çš„å®šä¹‰å¹¶ä¸å®Œå…¨ç›¸åŒï¼Œæœ€æ˜“æ˜ç™½çš„ä¾‹å­æ˜¯é”®ç›˜â€”â€”å…¶ä¸Šçš„æŸäº›é”®çš„å«ä¹‰åœ¨è®¸å¤šç³»ç»Ÿä¸­éƒ½æœ‰å·®å¼‚ã€‚è¿™è‡ªç„¶ç»™åˆ©ç”¨å…¶å®ƒç³»ç»Ÿçš„æ•°æ®é€ æˆäº†éšœç¢ã€‚è¡¨ç¤ºå±‚å’Œåº”ç”¨å±‚å°±æ‹…è´Ÿäº†æ¶ˆé™¤è¿™ç§éšœç¢çš„ä»»åŠ¡ã€‚åº”ç”¨å±‚æä¾›ç”¨æˆ·æ¥å£å®ç°åº”ç”¨è¿›ç¨‹ï¼ˆå¦‚ç”¨æˆ·ç¨‹åºã€ç»ˆç«¯æ“ä½œå‘˜ç­‰ï¼‰ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢ã€‚åŒæ—¶ï¼Œè¿˜å…·æœ‰ä¸€ç³»åˆ—ä¸šåŠ¡å¤„ç†æ‰€éœ€è¦çš„æœåŠ¡åŠŸèƒ½ã€‚åº”ç”¨å±‚ä¸€èˆ¬åŒ…æ‹¬å…¬å…±åº”ç”¨æœåŠ¡è¦ç´ ï¼ˆCASEï¼‰å’Œç‰¹å®šåº”ç”¨æœåŠ¡è¦ç´ ï¼ˆSASEï¼‰ã€‚å…¶ä¸­CASEæä¾›åº”ç”¨è¿›ç¨‹ä¸­æœ€åŸºæœ¬çš„æœåŠ¡ï¼Œå‘åº”ç”¨è¿›ç¨‹æä¾›ä¿¡æ¯ä¼ é€æ‰€å¿…éœ€çš„ã€ä½†åˆç‹¬ç«‹äºåº”ç”¨è¿›ç¨‹é€šä¿¡çš„èƒ½åŠ›ã€‚SASEå®è´¨ä¸Šæ˜¯å„ç§åº”ç”¨è¿›ç¨‹åœ¨åº”ç”¨å±‚ä¸­çš„æ˜ å°„ï¼Œæ¯ä¸€ä¸ªSASEéƒ½é’ˆå¯¹æŸä¸€ç±»å…·ä½“åº”ç”¨ï¼Œä¾‹å¦‚æ–‡ä»¶ä¼ é€ã€è®¿é—®å’Œç®¡ç†ï¼ˆFTAMï¼‰ã€è™šæ‹Ÿç»ˆç«¯ï¼ˆVTï¼‰ã€æ¶ˆæ¯å¤„ç†ç³»ç»Ÿï¼ˆMHSï¼‰ã€ç”µå­æ•°æ®äº’æ¢ï¼ˆEDIï¼‰å’Œç›®å½•æŸ¥è¯¢ç­‰ã€‚åº”ç”¨å±‚å‘åº”ç”¨ç¨‹åºæä¾›æœåŠ¡ï¼Œè¿™äº›æœåŠ¡æŒ‰å…¶å‘åº”ç”¨ç¨‹åºæä¾›çš„ç‰¹æ€§åˆ†æˆç»„ï¼Œå¹¶ç§°ä¸ºæœåŠ¡å…ƒç´ ã€‚æœ‰äº›å¯ä¸ºå¤šç§åº”ç”¨ç¨‹åºå…±åŒä½¿ç”¨ï¼Œæœ‰äº›åˆ™ä¸ºè¾ƒå°‘çš„ä¸€ç±»åº”ç”¨ç¨‹åºä½¿ç”¨ã€‚åº”ç”¨å±‚æ˜¯å¼€æ”¾ç³»ç»Ÿçš„æœ€é«˜å±‚ï¼Œæ˜¯ç›´æ¥ä¸ºåº”ç”¨è¿›ç¨‹æä¾›æœåŠ¡çš„ã€‚å…¶ä½œç”¨æ˜¯åœ¨å®ç°å¤šä¸ªç³»ç»Ÿåº”ç”¨è¿›ç¨‹ç›¸äº’é€šä¿¡çš„åŒæ—¶ï¼Œå®Œæˆä¸€ç³»åˆ—ä¸šåŠ¡å¤„ç†æ‰€éœ€çš„æœåŠ¡ã€‚OSIä¸ƒå±‚æ¨¡å‹ ç›¸å…³åè®® ç¼©å†™åº”ç”¨å±‚HTTP è¶…æ–‡æœ¬ä¼ è¾“åè®®FTP æ–‡ä»¶ä¼ è¾“åè®®SMTP ç®€å•é‚®ä»¶ä¼ è¾“åè®®TELNETTCP/IP ç»ˆç«¯ä»¿çœŸåè®®POP3 é‚®å±€åè®®ç¬¬ä¸‰ç‰ˆFinger ç”¨æˆ·ä¿¡æ¯åè®®NNTP ç½‘ç»œæ–°é—»ä¼ è¾“åè®®IMAP4 å› ç‰¹ç½‘ä¿¡æ¯è®¿é—®åè®®ç¬¬å››ç‰ˆLPR UNIX è¿œç¨‹æ‰“å°åè®®Rwho UNIX è¿œç¨‹ Whoåè®®Rexec UNIX è¿œç¨‹æ‰§è¡Œåè®®Login UNIX è¿œç¨‹ç™»é™†åè®®RSH UNIX è¿œç¨‹Shellåè®®NTF HP ç½‘ç»œæ–‡ä»¶ä¼ è¾“åè®®RDA HP è¿œç¨‹æ•°æ®åº“è®¿é—®åè®®VT è™šæ‹Ÿç»ˆç«¯ä»¿çœŸåè®®RFA HP è¿œç¨‹æ–‡ä»¶è®¿é—®åè®®RPC Remote Process Comm.S-HTTP å®‰å…¨è¶…æ–‡æœ¬ä¼ è¾“åè®®GDP ç½‘å…³å‘ç°åè®®X-WindowCMOT åŸºäºTCP/IPçš„CMIPåè®®SOCKS å®‰å…¨å¥—æ¥å­—åè®®FANP æµå±æ€§é€šçŸ¥åè®®SLP æœåŠ¡å®šä½åè®®MSN å¾®è½¯ç½‘ç»œæœåŠ¡Radius è¿œç¨‹ç”¨æˆ·æ‹¨å·è®¤è¯æœåŠ¡åè®®DNS åŸŸåç³»ç»ŸNFS ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿåè®®NIS SUN ç½‘ç»œä¿¡æ¯ç³»ç»Ÿåè®®R-STAT SUN è¿œç¨‹çŠ¶æ€åè®®NSM SUN ç½‘ç»œçŠ¶æ€ç›‘æµ‹åè®®PMAP SUN ç«¯å£æ˜ å°„åè®®MountLPR UNIXè¿œç¨‹æ‰“å°åè®®å¸¸ç”¨UDPåè®®çš„åº”ç”¨å±‚æœåŠ¡BOOTP å¼•å¯¼åè®®DHCP åŠ¨æ€ä¸»æœºé…å¥—åè®®NTP ç½‘ç»œæ—¶é—´åè®®TFTP ç®€å•æ–‡ä»¶ä¼ è¾“åè®®SNMP ç®€å•ç½‘ç»œç®¡ç†åè®®è¡¨ç¤ºå±‚DECnet NSPLPP è½»é‡çº§è¡¨ç¤ºåè®®NBSSN NetBIOS ä¼šè¯æœåŠ¡åè®®XDP å¤–éƒ¨æ•°æ®è¡¨ç¤ºåè®®IPXä¼šè¯å±‚SSL å®‰å…¨å¥—æ¥å­—å±‚åè®®TLS ä¼ è¾“å±‚å®‰å…¨åè®®DAP ç›®å½•è®¿é—®åè®®LDAP è½»é‡çº§ç›®å½•è®¿é—®åè®®RPC è¿œç¨‹è¿‡ç¨‹è°ƒç”¨åè®®VINES NETRPCVFRPNeTBIOSIPXä¼ è¾“å±‚XOT åŸºäºtcpä¹‹ä¸Šçš„Xåè®®Van Jacobson å‹ç¼©TCPåè®®ISO-DE ISO å¼€å‘ç¯å¢ƒâ€”â€”â€“&gt;NetBISOTALI ä¼ è¾“é€‚é…å±‚æ¥å£åè®®DSIã€NetBIOSã€IP NeTBIOSã€ISO-TP SSPã€SMBã€MSRPCUDP ç”¨æˆ·æ•°æ®æŠ¥åè®®RUDP å¯é çš„ç”¨æˆ·æ•°æ®æŠ¥åè®®Mobile IP ç§»åŠ¨IPåè®®ç½‘ç»œå±‚IP/IPv6 äº’è”ç½‘åè®®/äº’è”ç½‘åè®®ç¬¬å…­ç‰ˆICMPv6 äº’è”ç½‘æ§åˆ¶ä¿¡æ¯åè®®ç¬¬å…­ç‰ˆICMP äº’è”ç½‘æ§åˆ¶ä¿¡æ¯åè®®IGMP äº’è”ç½‘ç»„ç®¡ç†åè®®SLIP ä¸²è¡Œçº¿è·¯IPåè®®å®‰å…¨åè®®AH è®¤è¯å¤´åè®®ESP å®‰è£…å°è£…æœ‰æ•ˆè½½è·åè®®è·¯ç”±åè®®EGP å¤–éƒ¨ç½‘å…³åè®®OSPF å¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆåè®®IGRP å†…éƒ¨ç½‘å…³è·¯ç”±åè®®NHRP ä¸‹ä¸€è·³è§£æåè®®IE-IRGP å¢å¼ºå†…éƒ¨ç½‘å…³è·¯ç”±é€‰æ‹©åè®®RIPng for IPv6 IPv6è·¯ç”±ä¿¡æ¯åè®®GGP ç½‘å…³åˆ°ç½‘å…³åè®®VRRP è™šæ‹Ÿè·¯ç”±å™¨å†—ä½™åè®®PGM å®é™…é€šç”¨ç»„æ’­åè®®RSVP èµ„æºé¢„ç•™åè®®PIM-DM å¯†é›†æ¨¡å¼ç‹¬ç«‹ç»„æ’­åè®®DVMRP è·ç¦»çŸ¢é‡ç»„æ’­è·¯ç”±åè®®RIP2 è·¯ç”±ä¿¡æ¯åè®®ç¬¬äºŒç‰ˆPIM-SM ç¨€ç–æ¨¡å¼ç‹¬ç«‹ç»„æ’­åè®®MOSPF ç»„æ’­å¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆåè®®æ•°æ®é“¾è·¯å±‚MPLS å¤šåè®®æ ‡ç­¾äº¤æ¢åè®®XTP å‹ç¼©ä¼ è¾“åè®®DCAP æ•°æ®è½¬æ¢å®¢æˆ·è®¿é—®åè®®SLE ä¸²è¡Œè¿æ¥å°è£…åè®®IPinIP IPå¥—IPå°è£…åè®®éš§é“åè®®PPTP ç‚¹å¯¹ç‚¹éš§é“åè®®L2F ç¬¬äºŒå±‚è½¬å‘åè®®L2TP ç¬¬äºŒå±‚éš§é“åè®®ATMP æ¥å…¥éš§é“ç®¡ç†åè®®Cisco åè®®CDP æ€ç§‘å‘ç°åè®®CGMP æ€ç§‘ç»„ç®¡ç†åè®®åœ°å€è§£æåè®®ARP åœ°å€è§£æåè®®RAR é€†å‘åœ°å€è§£æåè®®ç‰©ç†å±‚IEEE 802.2Ethernet v.2Internetwork","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"OSI","slug":"OSI","permalink":"https://blog.iamzhl.top/tags/OSI/"},{"name":"ä¸ƒå±‚æ¨¡å‹","slug":"ä¸ƒå±‚æ¨¡å‹","permalink":"https://blog.iamzhl.top/tags/ä¸ƒå±‚æ¨¡å‹/"}]},{"title":"é»‘è‹¹æœå¸¸è§è¡¥ä¸","slug":"Common-patches-on-Hackintosh","date":"2018-04-09T02:08:56.000Z","updated":"2019-03-11T16:21:49.887Z","comments":true,"path":"Common-patches-on-Hackintosh.html","link":"","permalink":"https://blog.iamzhl.top/Common-patches-on-Hackintosh.html","excerpt":"","text":"å…ˆè¯´è¯´æ€æ ·å¼ºåˆ¶åŠ è½½æŸä¸ªé©±åŠ¨å¦‚ä¸‹ï¼ŒKextToPatchå¹¶åˆ—ForceKextsToLoadï¼Œè®¾ç½®kextè·¯å¾„12345&lt;key&gt;ForceKextsToLoad&lt;/key&gt;&lt;array&gt; &lt;string&gt;\\System\\Library\\Extensions\\AppleHDA.kext&lt;/string&gt; &lt;string&gt;\\Extra\\Extensions&lt;/string&gt;&lt;/array&gt;ç¬”è®°æœ¬æ˜¾å­˜ä¿®æ”¹è‡³2048MBHD4200_4400_4600 Mobileï¼š1234Nameï¼š AppleIntelFramebufferAzulFindï¼š 01030303 00000002 00003001 00006000 00000060Replaceï¼š 01030303 00000002 00003001 00009000 00000080Comment: 1536MB -&gt; 2048MB for HD4200_4400_4600 MobileHD620 Mobileï¼š1234Nameï¼š AppleIntelKBLGraphicsFramebufferFindï¼š 01030303 00002002 00000000 00000060Replaceï¼š 01030303 00002002 00000000 00000080 Comment: 1536MB -&gt; 2048MB for HD620 MobileHD630 Mobileï¼š1234Nameï¼š AppleIntelKBLGraphicsFramebufferFindï¼š 01030303 00006002 00005001 00000060Replaceï¼š 01030303 00006002 00005001 00000080Comment: 1536MB -&gt; 2048MB for HD630 MobileHD520_530_540 Mobileï¼š1234Nameï¼š AppleIntelSKLGraphicsFramebufferFindï¼š 01030303 00002002 00005001 00000060Replaceï¼š 01030303 00002002 00005001 00000080Comment: 1536MB -&gt; 2048MB for HD520_530_540 MobileHD5500 Mobileï¼š1234Nameï¼š AppleIntelBDWGraphicsFramebuffer Find: 01030303 00002002 00005001 00000060Replace: 01030303 00002002 00005001 00000080Comment: 1536MB -&gt; 2048MB for HD5500 Mobileå¼€å¯Trim1234Name: com.apple.iokit.IOAHCIBlockStorageFind: 00415050 4C452053 534400Replcae: 00000000 00000000 000000Comment: Enable TRIM for SSDèŠ±å±è¡¥ä¸12345Name: com.apple.iokit.IOGraphicsFamilyFind: 4188C4EB 11Replcae: 4188C4EB 31Comment: Boot graphics glitch, 10.10.2/10.10.3MatchOS: 10.10.2,10.10.312345Name: com.apple.iokit.IOGraphicsFamilyFind: 01000075 17Replcae: 010000EB 17Comment: Boot graphics glitch, 10.10.x/10.11.x (credit lisai9093, cecekpawon)MatchOS: 10.10.x,10.11.x12345Name: com.apple.iokit.IOGraphicsFamilyFind: 01000075 25Replcae: 010000EB 25Comment: Boot graphics glitch, 10.12.dp1 (credit denskop)MatchOS: 10.12.x12345Name: com.apple.iokit.IOGraphicsFamilyFind: 01000075 22Replcae: 010000EB 22Comment: Boot graphics glitch, 10.13 beta (based on denskop patch)MatchOS: 10.13.xDVMTè¡¥ä¸Broadwell12345Name: com.apple.driver.AppleIntelBDWGraphicsFramebufferFind: 39CF763CReplcae: 39CFEB3CComment: Disable minStolenSize less or equal fStolenMemorySize assertion, 10.10.x (based on Austere.J patch)MatchOS: 10.10.x12345Name: com.apple.driver.AppleIntelBDWGraphicsFramebufferFind: 4139C476 3EReplcae: 4139C4EB 3EComment: Disable minStolenSize less or equal fStolenMemorySize assertion, 10.11.beta (based on Austere.J patch)MatchOS: 10.11.x12345Name: com.apple.driver.AppleIntelBDWGraphicsFramebufferFind: 8945C839 C7764FReplcae: 8945C839 C7EB4FComment: Disable minStolenSize less or equal fStolenMemorySize assertion, 10.12.0 (based on Austere.J patch)MatchOS: 10.12.x12345Name: com.apple.driver.AppleIntelBDWGraphicsFramebufferFind: 4C895DB8 7644Replcae: 4C895DB8 EB44Comment: Disable minStolenSize less or equal fStolenMemorySize assertion, 10.13.0/1 (credit PMHeart)MatchOS: 10.13.0,10.13.112345Name: com.apple.driver.AppleIntelBDWGraphicsFramebufferFind: 4C8945C0 7644Replcae: 4C8945C0 EB44Comment: Disable minStolenSize less or equal fStolenMemorySize assertion, 10.13.2/3 (credit RehabMan)MatchOS: 10.13.2,10.13.3Skylake12345Name: com.apple.driver.AppleIntelSKLGraphicsFramebufferFind: 4139C476 2AReplcae: 4139C4EB 2AComment: Disable minStolenSize less or equal fStolenMemorySize assertion, 10.11.4 (based on Austere.J patch)MatchOS: 10.11.x12345Name: com.apple.driver.AppleIntelSKLGraphicsFramebufferFind: 8945C839 C67651Replcae: 8945C839 C6EB51Comment: Disable minStolenSize less or equal fStolenMemorySize assertion, 10.12.0 (based on Austere.J patch)MatchOS: 10.12.x12345Name: com.apple.driver.AppleIntelSKLGraphicsFramebufferFind: 4C8955B8 7640Replcae: 4C8955B8 EB40Comment: Disable minStolenSize less or equal fStolenMemorySize assertion, 10.13.0/1 (credit PMHeart)MatchOS: 10.13.0,10.13.112345Name: com.apple.driver.AppleIntelSKLGraphicsFramebufferFind: 4C895DB8 7640Replcae: 4C895DB8 EB40Comment: Disable minStolenSize less or equal fStolenMemorySize assertion, 10.13.2/3 (credit PMHeart, , shdkpr2008)MatchOS: 10.13.2,10.13.3Kabylake12345Name: com.apple.driver.AppleIntelKBLGraphicsFramebufferFind: 4C895DC0 7646Replcae: 4C895DC0 EB46Comment: Disable minStolenSize less or equal fStolenMemorySize assertion, 10.13.0/1 (credit PMHeart)MatchOS: 10.13.0,10.13.112345Name: com.apple.driver.AppleIntelKBLGraphicsFramebufferFind: 4C896DB8 7646Replcae: 4C896DB8 EB46Comment: Disable minStolenSize less or equal fStolenMemorySize assertion, 10.13.2/3 (credit RehabMan)MatchOS: 10.13.2,10.13.3ç¡¬ç›˜æ©™è‰²1234Name: AppleAHCIPortFind: 45787465 726E616CReplcae: 496E7465 726E616CComment: Define external drivers as internal to fix yellow drive iconsè®©æ²¡æœ‰ECCå†…å­˜çš„æœºå™¨åˆ©ç”¨MacPro4,1æˆ–è€… MacPro5,1æœºå‹å¯åŠ¨1234Name: AppleTyMCEDriverFind: 720A004D 61635072 6F342C31 004D6163 50726F35 2C310058Replcae: 720A0000 00000000 00000000 00000000 00000000 00000058Comment: Allow booting with a MacPro4,1 or MacPro5,1 SMBIOS definition without ECC memoryä¸‡èƒ½å£°å¡å°†Headphonesæ˜¾ç¤ºæ›¿ä»£ä¸ºTelephones1234Name: VoodooHDAFind: 48656164 70686F6E 657300Replcae: 54656C65 70686F6E 657300Comment: For VoodooHDA replacing the string Headphones with Telephones","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"patch","slug":"patch","permalink":"https://blog.iamzhl.top/tags/patch/"},{"name":"Hackintosh","slug":"Hackintosh","permalink":"https://blog.iamzhl.top/tags/Hackintosh/"},{"name":"è¡¥ä¸","slug":"è¡¥ä¸","permalink":"https://blog.iamzhl.top/tags/è¡¥ä¸/"}]},{"title":"macOS ä¸‹ä¸€äº›å¸¸ç”¨å‘½ä»¤","slug":"Common-command-in-macOS","date":"2018-03-30T12:32:47.000Z","updated":"2019-03-11T16:21:49.886Z","comments":true,"path":"Common-command-in-macOS.html","link":"","permalink":"https://blog.iamzhl.top/Common-command-in-macOS.html","excerpt":"","text":"Trimå¼€å¯1$ sudo trimforce enableå…³é—­1$ sudo trimforce disableæŸ¥çœ‹å¯ç”¨çš„ig-platform-id1$ ioreg -l | grep -y platform-idç¬”è®°æœ¬å¼€å¯æ’ç”µæºå‡ºæç¤ºéŸ³:å¼€å¯:1$ defaults write com.apple.PowerChime ChimeOnAllHardware -bool true; open /System/Library/CoreServices/PowerChime.app &amp;å…³é—­:1$ defaults write com.apple.PowerChime ChimeOnAllHardware -bool false; killall PowerChimeå»æ‰apfs.efiæœ€æ–°ç‰ˆæœ¬çš„æ—¥å¿—è°ƒè¯•æ˜¾ç¤º123$ cd ~/Desktop &amp; cp /usr/standalone/i386/apfs.efi .$ perl -i -pe &apos;s|\\x00\\x74\\x07\\xb8\\xff\\xff|\\x00\\x90\\x90\\xb8\\xff\\xff|sg&apos; ./apfs.efiæå–æ˜¾ç¤ºå™¨EDIDåŠè®¾å¤‡IDå‚å•†IDEDID1$ ioreg -lw0 | grep -i &quot;IODisplayEDID&quot; | sed -e &apos;s/.*&lt;//&apos; -e &apos;s/&gt;//&apos;PID1$ ioreg -l | grep &quot;DisplayProductID&quot;VID1$ ioreg -l | grep &quot;DisplayVendorID&quot;ä¸ºmacOS Sierraä»¥ä¸Šçš„OS Xå¼€å¯ä»»ä½•æ¥æº1$ sudo spctl --master-disableæŸ¥çœ‹åŠ è½½çš„éå®˜æ–¹å†…æ ¸æ‰©å±• â€“ kext1$ kextstat | grep -v &quot;com.apple&quot; | grep -v EnergyæŸ¥çœ‹æ˜¾ç¤ºå™¨ç¡¬ä»¶ä¿¡æ¯EDID1$ ioreg -l | grep &quot;IODisplayEDID&quot;ProductID1$ ioreg -l | grep &quot;DisplayProductID&quot;VendorID1$ ioreg -l | grep &quot;DisplayVendorID&quot;è®¾ç½®ç³»ç»Ÿè¯­è¨€1$ languagesetupç£ç›˜å·¥å…·123$ diskutil $ fdisk $ dfkextå·¥å…·1234$ kextstat $ kextfind$ kextlibs$ kextcacheç³»ç»Ÿè®¾ç½®å·¥å…·1# systemsetupç³»ç»Ÿæ§åˆ¶å·¥å…·12$ sysctl $ sysadminctlç³»ç»ŸçŠ¶æ€æŸ¥çœ‹å·¥å…·12345$ systemstats $ system_profiler$ ioreg$ iostat$ bdmesgnvramå·¥å…·1$ nvrampkgå·¥å…·1$ pkgutilcloverç”Ÿæˆå·¥å…·1$ clover-genconfigæŸ¥çœ‹å¯åŠ¨å‚æ•°1$ sysctl -n kern.bootargsæŸ¥çœ‹CPUå†…æ ¸æ•°1$ sysctl -n hw.physicalcpuæŸ¥çœ‹CPUçº¿ç¨‹æ•°1$ sysctl -n hw.logicalcpuæŸ¥çœ‹æœºå‹SMBIOS1$ sysctl -n machdep.cpu.brand_stringæŸ¥çœ‹ç½‘ç»œæ˜¯å¦è¿é€š1$ ping -c 2 www.baidu.com &amp;&gt;/dev/null&amp;&amp; echo &quot;Internet: Connected&quot; || echo &quot;Internet: Disconnected&quot;æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·1$ whoæŸ¥çœ‹DNS1$ cat /etc/resolv.conf | sed -n &apos;16p&apos; | awk &apos;&#123;print $2&#125;&apos;æŸ¥çœ‹IP12$ osascript -e &quot;IPv4 address of (system info)&quot; //å†…ç½‘$ dig +short myip.opendns.com @resolver1.opendns.com //å…¬ç½‘æŸ¥çœ‹è¿è¡Œæ—¶é—´1$ uptime | sed &apos;s/.*up \\([^,]*\\), .*/\\1/&apos;æŸ¥çœ‹ç”µé‡å‰©ä½™1$ ioreg -c AppleSmartBattery -r | awk &apos;$1~/Capacity/&#123;c[$1]=$3&#125; END&#123;OFMT=&quot;%.2f%&quot;; max=c[&quot;\\&quot;MaxCapacity\\&quot;&quot;]; if (max&gt;0) &#123; print 100*c[&quot;\\&quot;CurrentCapacity\\&quot;&quot;]/max;&#125; &#125;&apos;æŸ¥çœ‹ç”µæ± å……ç”µçŠ¶æ€1$ pmset -g batt | sed -n &apos;2p&apos; | awk &apos;&#123;print $4&#125;&apos; | sed &apos;s/;//g&apos;æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬1$ sw_vers -productVersionæŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬å·1$ sw_vers -buildVersionæŸ¥çœ‹å†…å­˜å®¹é‡1$ echo $(($(sysctl -n hw.memsize) / 1024 / 1024))æŸ¥çœ‹æ“ä½œç³»ç»Ÿå‹å·1$ sysctl -n hw.modelæŸ¥çœ‹å½“å‰ç³»ç»ŸçŸ­ç‰ˆæœ¬åç§°1$ xxd -ps /Applications/Utilities/System\\ Information.app/Contents/MacOS/System\\ Information|tr -d &apos;\\n&apos;|perl -nle &quot;print $&amp; if m&#123;00$(sw_vers -productVersion|awk -F &apos;.&apos; &apos;&#123;printf $1&quot;.&quot;$2&#125;&apos;|xxd -ps)00\\K.*?00&#125;&quot;|xxd -r -på¾…ç»­â€¦","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"command","slug":"command","permalink":"https://blog.iamzhl.top/tags/command/"},{"name":"macOS","slug":"macOS","permalink":"https://blog.iamzhl.top/tags/macOS/"}]},{"title":"ç®€å•ä¿®æ”¹ FB å®ç°æ˜¾å­˜å¢åŠ è‡³ 2048MB ä¿®å¤æŸäº›èŠ±å±","slug":"How-to-patch-Framebuffer-change-VRAM-from-1536MB-to-2048MB","date":"2018-03-29T09:22:57.000Z","updated":"2019-03-11T16:21:49.892Z","comments":true,"path":"How-to-patch-Framebuffer-change-VRAM-from-1536MB-to-2048MB.html","link":"","permalink":"https://blog.iamzhl.top/How-to-patch-Framebuffer-change-VRAM-from-1536MB-to-2048MB.html","excerpt":"","text":"å‰è¨€ï¼šæœ¬æ¥ä¸æ‰“ç®—å‘è¿™ä¸ªå¸–å­çš„ï¼Œå› ä¸ºå¥½å¤šäººè§‰å¾—æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œä½†å‰å‡ å¤©å¸®è®ºå›å¥½å‹é˜¿æ—è§£å†³ä»–hd4600èŠ±å±é—®é¢˜æ—¶ï¼Œå‘ç°è¿™ä¸ªæ–¹æ³•è¿˜æ˜¯æœ‰ä¸€å®šä½œç”¨çš„ã€‚ä¹‹å‰åœ¨10.12åŒºæœ‰å›å‹çš„4600éƒ¨åˆ†åŒºåŸŸå‡ºç°èŠ±å±çš„æƒ…å†µï¼Œæœ€åé€šè¿‡ä¿®æ”¹æ³¨å…¥çš„igæ¥è§£å†³çš„ï¼Œå¤§å®¶éƒ½çŸ¥é“ï¼Œ4200 4400 4600éƒ½æ˜¯é FakeIDä¸º0x04128086å’Œigä¸º0x0a260006ç„¶åé…åˆFakePCIIDå’ŒFakePCIID_HD_Graphicsä¸¤ä¸ªkextæ¥é©±åŠ¨çš„ï¼Œå¤§å®¶ä¹ŸçŸ¥é“ï¼Œä¸€éƒ¨åˆ†4600ä¹Ÿå¯ä»¥ç”¨0x04160000è€Œä¸éœ€è¦FakeIDæ³¨å…¥æ¥é©±åŠ¨ï¼ˆç›¸åº”çš„ä¸å°‘4400ä¹Ÿå¯ä»¥ç”¨0x0a160000è€Œä¸éœ€è¦FakeIDæ¥é©±åŠ¨ï¼‰ï¼Œä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥é©±åŠ¨æ ¸æ˜¾ï¼Œä½†åŒºåˆ«è¿˜æ˜¯æœ‰çš„ï¼Œæœ€å®¹æ˜“å‘ç°çš„å°±æ˜¯æ˜¾å­˜äº†ï¼Œç¬¬ä¸€ç§æ–¹æ³•é©±åŠ¨åéƒ½æ˜¯1536mï¼Œç¬¬äºŒç§åˆ™æ˜¯1024mã€‚è€Œå‰é¢æåˆ°çš„4600éƒ¨åˆ†åŒºåŸŸèŠ±å±çš„æ¡ˆä¾‹åˆ™æ˜¯ç”¨ç¬¬äºŒç§æ–¹å¼æ¥è§£å†³çš„ï¼Œåæ¥ç»è¿‡æµ‹è¯•ï¼Œå‘ç°é€šè¿‡å¯¹framebufferè¿›è¡Œpatchä»¥è¾¾åˆ°2048mçš„æ˜¾å­˜ä¹Ÿå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œäºæ˜¯è¿™ä¸ªæ–¹æ³•å°±è¢«æˆ‘è®°åœ¨å¿ƒé‡Œäº†ã€‚åæ¥åœ¨å¸®é˜¿æ—è§£å†³äº†ä»–çš„èŠ±å±é—®é¢˜åï¼Œå†³å®šè¿˜æ˜¯æŠŠç›¸å…³æ–¹æ³•å†™å‡ºæ¥ï¼Œè™½ç„¶æ²¡ä»€ä¹ˆæŠ€æœ¯å«é‡ï¼Œä½†ä¹Ÿèƒ½ä¸ºæ™¯å‹æä¾›ä¸€ä¸ªæ€è·¯ã€‚åºŸè¯å°±è¯´åˆ°è¿™ï¼Œä¸‹é¢è¯´æ–¹æ³•:å¼€å·¥æŸ¥çœ‹FBä»¥åŠigé¦–å…ˆï¼Œç¡®å®šä½ å½“å‰åŠ è½½çš„Framebufferï¼Œç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤1$ kextstat | grep -y AppleIntelå¦‚å›¾ï¼Œçœ‹è¾“å‡ºç»“æœä¸­å¸¦Framebufferçš„å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼ˆhaswellä¹‹å‰çš„æ˜¯å¸¦FBçš„ï¼‰ï¼Œå›¾ä¸­æˆ‘çš„å°±æ˜¯AppleIntelFramebufferAzulç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„ig1$ ioreg -l | grep ig-platform-idå¦‚å›¾æˆ‘çš„å°±æ˜¯0x0a260006,æœ‰æœ‹å‹ä¸æ¸…æ¥šï¼Œä¸æ˜¯0600260aå—ï¼Œä¸‹æ¬¡ä¸€å®šè¦çŸ¥é“ï¼Œè¿™ç§idå°†æ¯ä¸¤ä½ä¸€ç»„åˆ†ç»„ï¼Œç„¶åä»åå¾€å‰æ’åºï¼Œæœ€åç”±äºæ˜¯åå…­è¿›åˆ¶ï¼Œæˆ‘ä»¬åœ¨æœ€å‰é¢åŠ ä¸Š0xæ¥è¡¨ç¤ºï¼Œå°±å¾—å‡ºäº†0x0a260006ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„idï¼Œå½“ç„¶äº†ï¼Œåé¢æ­¥éª¤ä¸­ç”¨åˆ°çš„è¿˜æ˜¯0600260aã€‚ä¸‹è½½å¹¶å®‰è£…hexfiendæˆ‘ç›´æ¥æ”¾é“¾æ¥äº†é“¾æ¥:https://pan.baidu.com/s/1EhkVv2eaUE1u_Gmp87arJw å¯†ç :lm1oåœ¨FBä¸­æŸ¥æ‰¾igè¿›è¡Œå¤„ç†ç„¶åï¼Œåœ¨/System/Library/Extensionsä¸‹æ‰¾åˆ°å’Œç¬¬ä¸€æ­¥æ‰¾å‡ºçš„FrambufferåŒåkextï¼Œä»¥æˆ‘çš„ä¸ºä¾‹ï¼Œå°±æ˜¯AppleIntelFramebufferAzul.kext,å³é”®æ˜¾ç¤ºåŒ…å†…å®¹ï¼Œåœ¨/Contents/MacOSä¸‹å°†kextçš„åŒåæ–‡ä»¶æ‹·è´åˆ°æ¡Œé¢ï¼Œä»¥æˆ‘çš„ä¸ºä¾‹å°±æ˜¯AppleIntelFramebufferAzulã€‚å³é”®æ­¤æ–‡ä»¶æ‰“å¼€æ–¹å¼é€‰æˆ‘ä»¬åˆšæ‰å®‰è£…çš„hexfiendï¼Œå¿«æ·é”®command + Fè°ƒå‡ºæœç´¢æ¡†ï¼Œè¾“å…¥åˆšæ‰åœ¨ç¬¬ä¸€æ­¥æ‰¾åˆ°çš„igï¼Œå›è½¦æœç´¢ï¼Œæ‰¾åˆ°åé¢ç´§è·Ÿ01030303çš„é‚£ä¸€ä¸²å­—ç¬¦ï¼Œå¦‚å›¾ä»æœç´¢çš„igåé¢ç¬¬ä¸€ä¸²å¼€å§‹ï¼Œåˆ°00000060ç»“æŸï¼Œå°†è¿™äº›å­—ç¬¦ä¸²æ‹·è´åˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡æ¡£ï¼Œå¹¶å…«ä¸ªæ•°å­—ä¸€ç»„ï¼Œæ•´ç†å¥½ï¼Œç„¶åå†å¤åˆ¶ä¸€è¡Œï¼Œå°†ç¬¬äºŒè¡Œæœ€åçš„60æ”¹ä¸º80ï¼Œå¦‚å›¾ç¬¬ä¸€ä¸²å°±æ˜¯æˆ‘ä»¬è¦åšçš„patchçš„Findï¼Œç¬¬äºŒä¸²æ˜¯Replaceï¼Œè€ŒNameåˆ™æ˜¯ç¬¬ä¸€æ­¥ä¸­çš„Framebufferåå­—ï¼Œæˆ‘è¿™é‡Œå°±æ˜¯AppleIntelFramebufferAzulï¼ŒCommentå°±æ— æ‰€è°“äº†ï¼Œæˆ‘å†™æˆChange VRAM from 1536MB to 2048MB for HD4400ï¼Œè¿™æ—¶æˆ‘ä»¬çš„è¡¥ä¸å°±åšå¥½äº†ã€‚æœ€åå°†patchæ‰“åˆ°config.plistç„¶åä¿å­˜é‡å¯ï¼Œå°±ä¼šå‘ç°å…³äºæœ¬æœºçš„æ˜¾å­˜ä»åŸæ¥çš„1536MBå˜æˆäº†2048MBå¦‚æœæ²¡æ•ˆæœï¼Œå¯ä»¥å°è¯•é‡å»ºç¼“å­˜ã€‚å¸–å­çš„æœ€åï¼Œæˆ‘å°†ä¹‹å‰åšçš„å‡ ä¸ªpatchè´´å‡ºæ¥ï¼Œå¤§å®¶å¯ä»¥å°è¯•ä½¿ç”¨HD4200_4400_4600 Mobile1234Nameï¼š AppleIntelFramebufferAzulFindï¼š 01030303 00000002 00003001 00006000 00000060Replaceï¼š 01030303 00000002 00003001 00009000 00000080Commentï¼š 1536MB -&gt; 2048MB for HD4200_4400_4600 MobileHD620 Mobileï¼š1234Nameï¼š AppleIntelKBLGraphicsFramebufferFindï¼š 01030303 00002002 00000000 00000060Replaceï¼š 01030303 00002002 00000000 00000080 Commentï¼š 1536MB -&gt; 2048MB for HD620 MobileHD630 Mobileï¼š1234Nameï¼š AppleIntelKBLGraphicsFramebufferFindï¼š 01030303 00006002 00005001 00000060Replaceï¼š 01030303 00006002 00005001 00000080Commentï¼š 1536MB -&gt; 2048MB for HD630 MobileHD520_530_540 Mobileï¼š1234Nameï¼š AppleIntelSKLGraphicsFramebufferFindï¼š 01030303 00002002 00005001 00000060Replaceï¼š 01030303 00002002 00005001 00000080Commentï¼š 1536MB -&gt; 2048MB for HD520_530_540 MobileHD5500 Mobileï¼š1234Nameï¼š AppleIntelBDWGraphicsFramebuffer findï¼š 01030303 00002002 00005001 00000060Replaceï¼š 01030303 00002002 00005001 00000080Commentï¼š 1536MB -&gt; 2048MB for HD5500 Mobile","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"æ˜¾å­˜","slug":"æ˜¾å­˜","permalink":"https://blog.iamzhl.top/tags/æ˜¾å­˜/"},{"name":"FB","slug":"FB","permalink":"https://blog.iamzhl.top/tags/FB/"},{"name":"èŠ±å±","slug":"èŠ±å±","permalink":"https://blog.iamzhl.top/tags/èŠ±å±/"},{"name":"Framebuffer","slug":"Framebuffer","permalink":"https://blog.iamzhl.top/tags/Framebuffer/"}]},{"title":"macOS ä¿®æ”¹å¸æˆ·åã€ä¸»æœºåå’Œè®¡ç®—æœºå","slug":"How-to-change-your-username-on-your-mac","date":"2018-03-15T09:19:00.000Z","updated":"2019-03-11T16:21:49.891Z","comments":true,"path":"How-to-change-your-username-on-your-mac.html","link":"","permalink":"https://blog.iamzhl.top/How-to-change-your-username-on-your-mac.html","excerpt":"","text":"å¸æˆ·ä¿¡æ¯ä¿®æ”¹1System Preferences &gt; Users &amp; Groups &gt; å³å•å‡»å½“å‰ç”¨æˆ· &gt; Advanced Optionsæ³¨æ„ï¼šç”¨äº†ä¸€æ®µæ—¶é—´çš„ç”µè„‘ä¸å»ºè®®ä¿®æ”¹ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¾ˆå¤šè½¯ä»¶è¦é‡æ–°å®‰è£…ã€‚ä¸»æœºåä¿®æ”¹1$ sudo scutil --set HostName MacBookProè®¡ç®—æœºåä¿®æ”¹1$ sudo scutil --set ComputerName MacBookPro","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"è´¦æˆ·å","slug":"è´¦æˆ·å","permalink":"https://blog.iamzhl.top/tags/è´¦æˆ·å/"},{"name":"ä¸»æœºå","slug":"ä¸»æœºå","permalink":"https://blog.iamzhl.top/tags/ä¸»æœºå/"},{"name":"è®¡ç®—æœºå","slug":"è®¡ç®—æœºå","permalink":"https://blog.iamzhl.top/tags/è®¡ç®—æœºå/"},{"name":"mac","slug":"mac","permalink":"https://blog.iamzhl.top/tags/mac/"}]},{"title":"0-1èƒŒåŒ…é—®é¢˜","slug":"0-1-backpack","date":"2018-01-17T08:51:25.000Z","updated":"2019-03-11T16:21:49.881Z","comments":true,"path":"0-1-backpack.html","link":"","permalink":"https://blog.iamzhl.top/0-1-backpack.html","excerpt":"","text":"é€’å½’123456789101112131415161718192021222324252627282930313233//// main.c// algorithm//// Created by athlonreg on 17/01/2018.// Copyright Â© 2018 athlonreg. All rights reserved.//#include &lt;stdio.h&gt;#define n 5#define c 10int weight[n]=&#123;2,2,6,5,4&#125;, value[n]=&#123;6,3,5,4,6&#125;;int f(int i,int j)&#123; int m1,m2; if(i==n-1)&#123; if(j&gt;=weight[i]) return value[i]; return 0; &#125; if(j&lt;weight[i]) return f(i+1,j); m1=f(i+1,j); m2=f(i+1,j-weight[i])+value[i]; return m1&gt;m2?m1:m2;&#125;int main(int argc, const char * argv[]) &#123; printf(&quot;%d\\n&quot;,f(0,c)); return 0;&#125;è¿è¡Œç»“æœåŠ¨æ€è§„åˆ’1234567891011121314151617181920212223242526272829303132333435//// main.c// algorithm//// Created by athlonreg on 17/01/2018.// Copyright Â© 2018 athlonreg. All rights reserved.//#include &lt;stdio.h&gt;#define n 5#define c 10int weight[n]=&#123;2,2,6,5,4&#125;, value[n]=&#123;6,3,5,4,6&#125;;int main(int argc, const char * argv[]) &#123; int s[n][c+1]; int i,j; for(j=0;j&lt;=c;j++)&#123; if(j&gt;weight[n-1]) s[n-1][j]=value[n-1]; else s[n-1][j]=0; &#125; for(i=n-2;i&gt;=0;i--)&#123; for(j=0;j&lt;=c;j++)&#123; if(j&lt;weight[i]) s[i][j]=s[i+1][j]; else s[i][j]=s[i+1][j]&gt;(s[i+1][j-weight[i]]+value[i])?s[i+1][j]:(s[i+1][j-weight[i]]+value[i]); &#125; &#125; printf(&quot;%d\\n&quot;,s[0][c]); return 0;&#125;è¿è¡Œç»“æœå›æº¯12345678910111213141516171819202122232425262728293031323334353637//// main.c// algorithm//// Created by athlonreg on 17/01/2018.// Copyright Â© 2018 athlonreg. All rights reserved.//#include &lt;stdio.h&gt;#define n 5#define c 10int weight[n]=&#123;2,2,6,5,4&#125;, value[n]=&#123;6,3,5,4,6&#125;;int maxvalue, tempvalue, tempweight;void traceback(int t)&#123; if(t==n)&#123; if(tempvalue&gt;maxvalue) maxvalue=tempvalue; return; &#125; if(tempweight+weight[t]&lt;=c)&#123; tempweight+=weight[t]; tempvalue+=value[t]; traceback(t+1); tempweight-=weight[t]; tempvalue-=value[t]; &#125; traceback(t+1);&#125;int main(int argc, const char * argv[]) &#123; traceback(0); printf(&quot;%d\\n&quot;,maxvalue); return 0;&#125;è¿è¡Œç»“æœ","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"0-1èƒŒåŒ…é—®é¢˜","slug":"0-1èƒŒåŒ…é—®é¢˜","permalink":"https://blog.iamzhl.top/tags/0-1èƒŒåŒ…é—®é¢˜/"},{"name":"algorithm","slug":"algorithm","permalink":"https://blog.iamzhl.top/tags/algorithm/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/tags/ç®—æ³•/"}]},{"title":"æ•°ç»„éƒ¨åˆ†é€†ç½®é—®é¢˜","slug":"Reverse-part-of-array","date":"2018-01-17T08:23:37.000Z","updated":"2019-03-11T16:21:49.900Z","comments":true,"path":"Reverse-part-of-array.html","link":"","permalink":"https://blog.iamzhl.top/Reverse-part-of-array.html","excerpt":"","text":"ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546//// main.c// reverse-part-of-array//// Created by Canvas on 2018/12/31.// Copyright Â© 2018 Canvas. All rights reserved.//#include &lt;stdio.h&gt;#include &lt;math.h&gt;#define n 8int a[n]=&#123;1,4,2,6,8,5,7,3&#125;;void print()&#123; for(int i=0;i&lt;n;i++)&#123; printf(\"%3d\", a[i]); &#125; putchar('\\n');&#125;void swap(int *a, int *b)&#123; int temp=*a; *a=*b; *b=temp;&#125;void swapposition(int a[], int low, int high, int k)&#123; int i, j; for(i=low,j=k-1;i&lt;j;i++,j--) swap(&amp;a[i], &amp;a[j]); for(i=k,j=high;i&lt;j;i++,j--) swap(&amp;a[i], &amp;a[j]); for(i=low,j=high;i&lt;j;i++,j--) swap(&amp;a[i], &amp;a[j]);&#125;int main(int argc, const char * argv[]) &#123; int k; print(); scanf(\"%d\", &amp;k); swapposition(a, 0, n-1, k); print(); return 0;&#125;è¿è¡Œç»“æœ","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"algorithm","slug":"algorithm","permalink":"https://blog.iamzhl.top/tags/algorithm/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/tags/ç®—æ³•/"},{"name":"é€†ç½®","slug":"é€†ç½®","permalink":"https://blog.iamzhl.top/tags/é€†ç½®/"}]},{"title":"n çš‡åé—®é¢˜","slug":"n-queen","date":"2018-01-17T08:04:05.000Z","updated":"2019-03-11T16:21:49.905Z","comments":true,"path":"n-queen.html","link":"","permalink":"https://blog.iamzhl.top/n-queen.html","excerpt":"","text":"ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950//// main.c// algorithm//// Created by athlonreg on 17/01/2018.// Copyright Â© 2018 athlonreg. All rights reserved.//#include &lt;stdio.h&gt;#include &lt;math.h&gt;#define n 8int a[n];int count=0;int judge(int t)&#123; if(t==n) return 0; for(int i=0;i&lt;t;i++)&#123; for(int j=i+1;j&lt;=t;j++)&#123; if(a[i]==a[j]) return 0; if(abs(i-j)==abs(a[i]-a[j])) return 0; &#125; &#125; return 1;&#125;void traceback(int t)&#123; int i; if(t==n)&#123; count++; for(i=0;i&lt;n;i++) printf(\"%3d\", a[i]); printf(\"\\n\"); &#125; for(i=0;i&lt;n;i++)&#123; a[t]=i; if(judge(t)) traceback(t+1); &#125;&#125;int main(int argc, const char * argv[]) &#123; traceback(0); printf(\"%d\\n\", count); return 0;&#125;è¿è¡Œç»“æœ","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"algorithm","slug":"algorithm","permalink":"https://blog.iamzhl.top/tags/algorithm/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/tags/ç®—æ³•/"},{"name":"nçš‡åé—®é¢˜","slug":"nçš‡åé—®é¢˜","permalink":"https://blog.iamzhl.top/tags/nçš‡åé—®é¢˜/"}]},{"title":"çŸ©é˜µè¿ä¹˜é—®é¢˜","slug":"RecurMatrix","date":"2018-01-17T07:54:02.000Z","updated":"2019-03-11T16:21:49.900Z","comments":true,"path":"RecurMatrix.html","link":"","permalink":"https://blog.iamzhl.top/RecurMatrix.html","excerpt":"","text":"ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243//// main.c// RecurMatrix//// Created by Canvas on 2018/12/31.// Copyright Â© 2018 Canvas. All rights reserved.//#include &lt;stdio.h&gt;#define n 6int a[n+1]=&#123;30,35,15,5,10,20,25&#125;;int b[n+1][n+1];int RecurMatrix(int i, int j)&#123; if(i==j) return 0; int minvalue=RecurMatrix(i, i)+RecurMatrix(i+1, j)+a[i-1]*a[i]*a[j]; b[i][j]=i; for(int k=i+1;k&lt;j;k++)&#123; int tempvalue=RecurMatrix(i, k)+RecurMatrix(k+1, j)+a[i-1]*a[k]*a[j]; if(tempvalue&lt;minvalue)&#123; minvalue=tempvalue; b[i][j]=k; &#125; &#125; return minvalue;&#125;void traceback(int i, int j)&#123; if(i==j) return; traceback(i, b[i][j]); traceback(b[i][j]+1, j); printf(\"A[%d-%d]*A[%d-%d]\\n\", i, b[i][j], b[i][j]+1, j);&#125;int main(int argc, const char * argv[]) &#123; printf(\"%d\\n\", RecurMatrix(1, n)); traceback(1, n); return 0;&#125;è¿è¡Œç»“æœ","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"algorithm","slug":"algorithm","permalink":"https://blog.iamzhl.top/tags/algorithm/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/tags/ç®—æ³•/"},{"name":"çŸ©é˜µè¿ä¹˜é—®é¢˜","slug":"çŸ©é˜µè¿ä¹˜é—®é¢˜","permalink":"https://blog.iamzhl.top/tags/çŸ©é˜µè¿ä¹˜é—®é¢˜/"}]},{"title":"äºŒåˆ†æŸ¥æ‰¾","slug":"BinarySearch","date":"2018-01-17T07:29:36.000Z","updated":"2019-03-11T16:21:49.882Z","comments":true,"path":"BinarySearch.html","link":"","permalink":"https://blog.iamzhl.top/BinarySearch.html","excerpt":"","text":"ä»£ç 1234567891011121314151617181920212223242526272829303132//// main.c// algorithm//// Created by athlonreg on 17/01/2018.// Copyright Â© 2018 athlonreg. All rights reserved.//#include &lt;stdio.h&gt;#define n 5int arr[n]=&#123;1,2,3,4,5&#125;;int BinarySearch(int a[], int low, int high, int k)&#123; while(low&lt;high)&#123; int mid=(low+high)/2; if(a[mid]==k) return mid; else if(a[mid]&gt;k) return BinarySearch(a, low, mid-1, k); else return BinarySearch(a, mid+1, high, k); &#125; return -1;&#125;int main(int argc, const char * argv[]) &#123; int x=4; printf(\"%d\\n\", BinarySearch(arr, 0, n-1, x)); return 0;&#125;è¿è¡Œç»“æœ","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"algorithm","slug":"algorithm","permalink":"https://blog.iamzhl.top/tags/algorithm/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/tags/ç®—æ³•/"},{"name":"äºŒåˆ†æŸ¥æ‰¾","slug":"äºŒåˆ†æŸ¥æ‰¾","permalink":"https://blog.iamzhl.top/tags/äºŒåˆ†æŸ¥æ‰¾/"}]},{"title":"macOS å®‰è£…å’Œé…ç½® MySQL","slug":"Install-and-config-mysql-on-mac","date":"2017-12-20T09:01:00.000Z","updated":"2019-03-11T16:21:49.893Z","comments":true,"path":"Install-and-config-mysql-on-mac.html","link":"","permalink":"https://blog.iamzhl.top/Install-and-config-mysql-on-mac.html","excerpt":"","text":"å‡†å¤‡å®‰è£…HomeBrew1$ /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"ç­‰å¾…å®‰è£…å®Œæˆå³å¯å®‰è£…å®‰è£…MySQL1$ brew install mysqlç­‰å¾…å®‰è£…å®Œæˆï¼Œå¦‚ä¸‹å›¾æ£€æŸ¥å®‰è£…æ˜¯å¦æ­£å¸¸1$ mysql --versionå¦‚æœå‡ºç°ç‰ˆæœ¬å·ï¼Œåˆ™æ­£å¸¸ï¼Œå¦‚ä¸‹å›¾è‹¥æç¤ºcommand not foundï¼Œåˆ™ä¾æ¬¡æ‰§è¡Œä¸‹é¢ä¸¤æ¡å‘½ä»¤12$ cd /usr/local/bin/$ sudo ln -fs /usr/local/mysql/bin/mysql mysqlé…ç½®é…ç½®rootè´¦å·çš„å¯†ç ï¼Œé»˜è®¤æ— å¯†ç å¼€å¯å®‰å…¨æ¨¡å¼å¯åŠ¨mysql1$ sudo /usr/local/mysql/bin/mysqld_safe --skip-grant-tablesä¿®æ”¹å¯†ç é¦–å…ˆç™»å½•mysql1$ mysql -u rooté…ç½®rootè´¦å·çš„å¯†ç å‘½ä»¤ä¸­çš„****ä¸ºè¦ä¿®æ”¹çš„å¯†ç 1UPDATE mysql.user SET authentication_string=PASSWORD(&apos;****&apos;) WHERE User=&apos;root&apos;;åˆ·æ–°æƒé™1FLUSH PRIVILEGES;é€€å‡ºmysql1\\qéªŒè¯å¯†ç 1$ mysql -u root -pä¼šæç¤ºè¾“å…¥å¯†ç ï¼Œè¾“å…¥åˆšæ‰è®¾å®šçš„å¯†ç åå¦‚æœèƒ½å¤Ÿè¿›å…¥mysqlåˆ™è¯´æ˜é…ç½®æˆåŠŸã€‚ç»ˆç«¯å¼€å¯å’Œå…³é—­mysqlæœåŠ¡12$ sudo /usr/local/mysql/support-files/mysql.server start$ sudo /usr/local/mysql/support-files/mysql.server stop","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"Mac","slug":"Mac","permalink":"https://blog.iamzhl.top/tags/Mac/"},{"name":"MySQL","slug":"MySQL","permalink":"https://blog.iamzhl.top/tags/MySQL/"}]},{"title":"Clover ACPI hotpatch","slug":"Clover-ACPI-hotpatch","date":"2017-12-17T07:30:15.000Z","updated":"2019-03-11T16:21:49.885Z","comments":true,"path":"Clover-ACPI-hotpatch.html","link":"","permalink":"https://blog.iamzhl.top/Clover-ACPI-hotpatch.html","excerpt":"","text":"Prefaceâ€“åºè¨€This blog is created by me to introduce how to using Clover to hotpatch ACPIï¼Œand provide an Chinese versionã€‚æˆ‘å†™è¿™ç¯‡åšå®¢æ˜¯ä¸ºäº†ä»‹ç»å¦‚ä½•ä½¿ç”¨Cloverå¯¹ACPIä½¿ç”¨hotpatchï¼Œå¹¶ç¿»è¯‘åŸè´´æä¾›ä¸­æ–‡å‚è€ƒå¸–ã€‚Brief description for hotpatchâ€“hotpatchæ¦‚è¦In RehabManâ€™s GitHub homepage, a repository named OS-X-Clover-Laptop-Config Contains some Clover config.plist for common Intel graphics and hotpatch for common configurations.More information in here.RehabMançš„GitHubæœ‰ä¸€ä¸ªä»“åº“â€“OS-X-Clover-Laptop-Config,é‡Œé¢åŒ…å«äº†ä¸€äº›é€‚ç”¨äºå¸¸è§çš„è‹±ç‰¹å°”æ ¸èŠ¯æ˜¾å¡çš„config.plist,è¿˜æœ‰hotpatchã€‚ç‚¹å‡»è¿™é‡Œäº†è§£æ›´å¤šã€‚There are some handy SSDTs for use with Clover ACPI hotpatch (in conjunction with hotpatch/config.plist) If you understand ACPI, you may find the SSDTs and hotpatch/config.plist quite useful.è¿™å„¿æœ‰è®¸å¤šé’ˆå¯¹ä½¿ç”¨Clover ACPI hotpatch(è¿åŒä½¿ç”¨hotpatch/config.plist)çš„SSDTã€‚å¦‚æœä½ ç†è§£äº†ACPIï¼Œä½ ä¼šå‘ç°è¿™äº›SSDTå’Œhotpatch/config.plistç›¸å½“é‡è¦ã€‚Read here for the hotpatch guide: https://www.tonymacx86.com/threads/guide-using-clover-to-hotpatch-acpi.200137/è¿™é‡Œæ˜¯hotpatchçš„â€˜å…¥é—¨å¼•å¯¼è´´ã€‚https://www.tonymacx86.com/threads/guide-using-clover-to-hotpatch-acpi.200137/A brief description of each hotpatch SSDT is provided belowâ€“ä¸‹é¢æ˜¯æ¯ä¸€ä¸ª hotpatch SSDT çš„æ¦‚è¦SSDT-Config.dsl: This file provides configuration data for other SSDTs. Read the comments within the file for more information.SSDT-Config.dsl:è¿™ä¸ªæ–‡ä»¶ä¸ºå…¶ä»–SSDTæä¾›å‚æ•°ã€‚è¯·é˜…è¯»æ–‡ä»¶ä¸­çš„æ³¨é‡Šä»¥è·å¾—æ›´å¤šä¿¡æ¯ã€‚SSDT-Debug.dsl: This SSDT is for use with ACPIDebug.kext. Instead of patching your DSDT to add the RMDT device, you can use this SSDT and refer to the methods with External. See ACPIDebug.kext documentation for more information regarding the RMDT methods.è¿™ä¸ªSSDTå’ŒACPIDebug.kextä¸€èµ·ä½¿ç”¨ã€‚ä¸éœ€è¦å¯¹ä½ çš„DSDTæ‰“è¡¥ä¸å¢åŠ RMDTè®¾å¤‡ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªSSDTé€šè¿‡Externalå¯¼å…¥è¿™ä¸ªæ–¹æ³•ã€‚å…³äºRMDTæ–¹æ³•ï¼Œè¦äº†è§£æ›´å¤šè¯·å‚é˜…ACPIDebug.kextæ–‡æ¡£ã€‚SSDT-XOSI.dsl: This SSDT provides the XOSI method, which is a replacement for the system provided _OSI object when the _OSI-&gt;XOSI patch is being used. This is actually one of the examples in the Clover ACPI hotpatch guide, linked above.è¿™ä¸ªSSDTæä¾›äº†XOSIæ–¹æ³•ï¼Œå½“æ‰“äº†_OSI-&gt;XOSIè¡¥ä¸æ—¶ï¼ŒXOSIæ–¹æ³•ä¼šæ›¿æ¢ç³»ç»Ÿæä¾›çš„_OSIå¯¹è±¡ã€‚å®é™…ä¸Šï¼Œè¿™å°±æ˜¯Clover ACPI hotpatchå…¥é—¨å‚è€ƒå¸–çš„ä¸€ä¸ªä¾‹å­ï¼Œé“¾æ¥åœ¨ä¸‹é¢ã€‚SSDT-IGPU.dsl This SSDT injects Intel GPU properties depending on the configuration data in SSDT-Config and the device-id that is discovered to be present on the system. It assumes the IGPU is named IGPU (typical is GFX0, requring GFX0-&gt;IGPU rename). Configured with RMCF.TYPE, RMCF.HIGH, RMCF.IGPI, and SSDT-SkylakeSpoof.aml.è¿™ä¸ªSSDTæ ¹æ®SSDT-configçš„é…ç½®æ•°æ®å’Œç³»ç»Ÿä¸­å‘ç°çš„è®¾å¤‡idæ³¨å…¥äº†Intel GPUâ€“æ ¸èŠ¯æ˜¾å¡å±æ€§ã€‚å®ƒå‡å®šIGPUè¢«å‘½åæˆIGPU(é€šå¸¸æ˜¯GFX0ï¼Œéœ€è¦é‡å‘½åGFX0-&gt;IGPU)ã€‚é€šè¿‡RMCF.TYPE, RMCF.HIGH, RMCF.IGPI, and SSDT-SkylakeSpoof.amlæ¥é…ç½®ã€‚SSDT-SkylakeSpoof.aml: This SSDT is an optional SSDT that can be paired with SSDT-IGPU.dsl. When present, SSDT-IGPU uses the data within as an override for various KabyLake graphics devices which spoofs those devices as Skylake. Prior to 10.12.6, Skylake spoofing is the only option for KabyLake graphics. And even with 10.12.6 (or later, including 10.13.x), it still may be useful to spoof KabyLake graphics as Skyake. Keep in mind complete Skylake spoofing requires FakePCIID.kext + FakePCIID_Intel_HD_Graphics.kext.è¿™ä¸ªSSDTæ˜¯ä¸€ä¸ªå¯é€‰çš„SSDT,å®ƒå¯ä»¥é…åˆSSDT-IGPU.dslä½¿ç”¨ã€‚SSDT-IGPUä½¿ç”¨è¿™äº›æ•°æ®å¯¹KabyLakeå›¾å½¢è®¾å¤‡çš„æ•°æ®è¿›è¡Œè¦†ç›–é‡å†™ï¼ŒæŠŠKabyLakeä»¿å†’æˆSkylakeã€‚10.12.6ä¹‹å‰,KabyLakeåªæœ‰ä»¿å†’æˆâ€™SkyLakeâ€™é©±åŠ¨æ ¸æ˜¾ï¼Œå³ä½¿åœ¨10.12.6ä¹‹å(æˆ–è€…æ›´æ–°çš„ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬10.13.x)ï¼Œå°†KabyLakeä»¿å†’æˆâ€™SkyLakeâ€™ä»ç„¶æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å®Œæ•´çš„ä»¿å†’éœ€è¦FakePCIID.kext + FakePCIID_Intel_HD_Graphics.kextã€‚SSDT-IMEI.dsl: This SSDT injects fake device-id as required for IMEI when using mixed HD3000/7-series or HD4000/6-series. Be sure to read the comments within carefully, as customization is required if your system already has an IMEI identity in ACPI.å½“ä½¿ç”¨æ··åˆçš„hd3000/7ç³»æˆ–hd4000/6ç³»æ—¶ï¼Œè¯¥SSDTä¸ºIMEIæ³¨å…¥äº†ä»¿å†’çš„è®¾å¤‡idã€‚ä¸€å®šè¦ä»”ç»†é˜…è¯»æ³¨é‡Šï¼Œå› ä¸ºå¦‚æœæ‚¨çš„ç³»ç»Ÿå·²ç»åœ¨ACPIä¸­æœ‰äº†IMEIæ ‡è¯†ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œå®šåˆ¶ã€‚SSDT-PNLF.dsl: This SSDT injects a PNLF device that works with IntelBacklight.kext or AppleBacklight.kext. Configured with RMCF.BKLT, RMCF.LMAX, RMCF.FBTP. See guide for more information: https://www.tonymacx86.com/threads/guide-laptop-backlight-control-using-applebacklightinjector-kext.218222/è¿™ä¸ªSSDTæ³¨å…¥äº†ä¸€ä¸ªPNLFè®¾å¤‡ï¼Œå®ƒå¯ä»¥ä¸IntelBacklight.kext æˆ–è€…AppleBacklight.kextä¸€èµ·å·¥ä½œã€‚é€šè¿‡RMCF.BKLT ,RMCF.LMAX RMCF.FBTPã€‚æ›´å¤šä¿¡æ¯å‚è§æŒ‡å—:SSDT-LPC.dsl:This SSDT injects properties to force AppleLPC to load for various unsupported LPC device-ids. It assumes the LPC device is named LPCB.è¿™ä¸ªSSDT:æ³¨å…¥å±æ€§ä»¥å¼ºåˆ¶AppleLPCåŠ è½½å„ç§ä¸æ”¯æŒçš„LPCè®¾å¤‡idã€‚éœ€è¦LPCè®¾å¤‡è¢«å‘½åä¸ºLPCBã€‚SSDT-SATA.dsl: This SSDT injects properties (fake device-id, compatible) to enable the SATA controller with certain unsupported SATA controllers. It assumes the SATA device is named SATA (typical is SAT0, thus requiring SAT0-&gt;SATA rename).è¿™ä¸ªSSDTæ³¨å…¥äº†ä¸€äº›å±æ€§(ä»¿å†’çš„è®¾å¤‡idï¼Œå…¼å®¹çš„)ï¼Œä»¥ä½¿æŸäº›ä¸å—æ”¯æŒçš„SATAæ§åˆ¶å™¨å¯ç”¨SATAæ§åˆ¶å™¨ã€‚å®ƒå‡è®¾SATAè®¾å¤‡è¢«å‘½åä¸ºSATA(å¸¸è§çš„æ˜¯SAT0ï¼Œå› æ­¤éœ€è¦SAT0-SATAé‡å‘½å)ã€‚SSDT-Disable_DGPU.dsl: This SSDT provides an _INI method that will call _OFF for a couple of common paths for a discrete GPU in a switched/dual GPU scenario. This SSDT can work to disable the Nvidia or AMD graphics device, if the path matches (or is modified to math) and your _OFF method code path has no EC related code. Refer to the hotpatch guide for a complete example.è¿™ä¸ªSSDTæä¾›äº†ä¸€ä¸ªINIæ–¹æ³•ï¼Œå®ƒå°†åœ¨å¯åˆ‡æ¢çš„/åŒGPUä¸­ä¸ºç‹¬ç«‹æ˜¾å¡æä¾›ä¸€äº›é€šç”¨çš„è·¯å¾„æ¥è°ƒç”¨_OFFã€‚å¦‚æœè·¯å¾„åŒ¹é…(æˆ–è¢«è‡ªå®šä¹‰æ¥åŒ¹é…)è€Œä¸”ä½ çš„_OFFæ–¹æ³•ä»£ç è·¯å¾„åˆ™æ²¡æœ‰ä¸ECç›¸å…³çš„ä»£ç ï¼Œé‚£ä¹ˆè¿™ä¸ªSSDTå¯ä»¥ç¦ç”¨Nvidiaæˆ–AMDå›¾å½¢è®¾å¤‡ã€‚æœ‰å…³ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼Œè¯·å‚é˜…çƒ­è¡¥ä¸æŒ‡å—ã€‚SSDT-SMBUS.dsl:This SSDT injects the missing DVL0 device. Mostly used with Sandy Bridge and Ivy Bridge systems.è¿™ä¸ªSSDTæ³¨å…¥äº†ä¸¢å¤±çš„DVL0è®¾å¤‡ã€‚ä¸»è¦ç”¨äºSandy Bridgeå’ŒIvy Bridgeå¹³å°ã€‚SSDT-GPRW.dsl and SSDT-UPRW.dsl: These SSDTs is used in conjuction with the GPRW-&gt;XPRW or UPRW-&gt;XPRW patch. Used together this SSDT can fix â€œinstant-wakeâ€ by disabling â€œwake on USBâ€. It overrides the _PRW package return for GPE indexes 0x0d or 0x6d. Potential companion patches are provided in hotpatch/config.plistè¿™äº›SSDTä¸GPRW-XPRWæˆ–UPRW-XPRWè¡¥ä¸ä¸€èµ·ä½¿ç”¨ã€‚é€šè¿‡ä½¿ç”¨è¿™äº›SSDTï¼Œå¯ä»¥é€šè¿‡ç¦ç”¨wake on USBæ¥ä¿®å¤instant wakeã€‚å®ƒé‡å†™äº†GPEçš„ç´¢å¼•0x0dæˆ–0x6dçš„PRWåŒ…è¿”å›å€¼ã€‚åœ¨hotpatch/config.plistä¸­æä¾›äº†æ½œåœ¨çš„ä¼™ä¼´è¡¥ä¸ã€‚SSDT-LANC_PRW.dsl: Also part of fixing â€œinstant wakeâ€, but this is for _PRW on the Ethernet device. Potential companion patches are provided in hotpatch/config.plist.è¿™ä¹Ÿæ˜¯ä¿®å¤instant wakeçš„ä¸€éƒ¨åˆ†ï¼Œä½†è¿™æ˜¯åœ¨ä»¥å¤ªç½‘è®¾å¤‡ä¸Šè¿›è¡Œä¿®å¤çš„ã€‚åœ¨hotpatch/config.plistä¸­æä¾›äº†æ½œåœ¨çš„ä¼™ä¼´è¡¥ä¸ã€‚SSDT-PTSWAK.dsl: This SSDT provides overrides for both _PTS and _WAK. When combined with the appropriate companion patches from hotpatch/config.plist, these methods can provide various fixes. The actions are controlled by RMCF.DPTS, RMCF.SHUT, RMCF.XPEE, RMCF.SSTF. Refer to SSDT-Config.dsl for more information on those options.è¿™ä¸ªSSDTæä¾›äº†å¯¹_PTSå’Œ_WAKçš„é‡å†™ã€‚å½“ä¸æ¥è‡ªhotpatch/config.plistçš„é€‚å½“çš„è¡¥ä¸ç›¸ç»“åˆä½¿ç”¨æ—¶ï¼Œè¿™äº›æ–¹æ³•å¯ä»¥æä¾›ä¸€ç³»åˆ—çš„ä¿®å¤ã€‚è¿™äº›è¡Œä¸ºæ˜¯ç”±RMCF.DPTS, RMCF.SHUT,RMCF.XPEE,RMCF.XPEE ,RMCF.SSTF.æ›´å¤šå…³äºè¿™äº›é€‰é¡¹çš„ä¿¡æ¯å‚é˜…SSDT-Configã€‚SSDT-Disable_EHCI.dsl: This SSDT can disable both EHCI controllers. It is assumed both have been renamed to EH01/EH02 (typically original names are EHC1/EHC2).è¿™ä¸ªSSDTå¯ä»¥ç¦ç”¨EHCIæ§åˆ¶å™¨ã€‚è¦æ±‚è¿™ä¸¤ç§æƒ…å†µéƒ½è¢«é‡æ–°å‘½åä¸ºEH01/EH02(é€šå¸¸åŸæ¥çš„åå­—æ˜¯EHC1/EHC2).SSDT-Disable_EH01.dsl, SSDT-Disable_EH02.dsl: Each of these SSDTs is just SSDT-Disable_EHCI.dsl broken down to only disable EH01 or only EH02. Use as appropriate depending on which EHCI controllers are active/present in your ACPI set.è¿™äº›SSDTæ¯ä¸€ä¸ªéƒ½æ˜¯SSDT-Disable_EHCI.dslåˆ†è§£çš„ï¼Œä»…ä»…ç”¨ä»¥ç¦ç”¨EH01æˆ–EH02ã€‚å–å†³äºåœ¨ä½ çš„ACPIé›†åˆä¸­ä½¿ç”¨å“ªä¸ªEHCIæ§åˆ¶å™¨æ˜¯åˆé€‚çš„ã€‚SSDT-XWAK.dsl, SSDT-XSEL.dsl, SSDT-ESEL.dsl: Each of these SSDTs provides an empty XWAK, XSEL, and ESEL methods (respectively). Use with the appropriate companion patch from hotpatch/config.plist. Typically, these methods are disabled (by having no code in them) to disable certain actions native ACPI may be doing on wake from sleep or during startup that cause problems with the xHCI/EHCI configuration.è¿™äº›SSDTåˆ†åˆ«æä¾›äº†ä¸€ä¸ªç©ºçš„XWAKã€XSELå’ŒESELæ–¹æ³•(ç‹¬ç«‹åœ°)ã€‚é…åˆhotpatch/config.plistä¸­é€‚å½“çš„è¡¥ä¸ä¸€èµ·ä½¿ç”¨ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™äº›æ–¹æ³•è¢«ç¦ç”¨(å› ä¸ºåœ¨å®ƒä»¬ä¸­æ²¡æœ‰ä»£ç )ï¼Œä»¥ç¦ç”¨æœ¬åœ°ACPIå¯èƒ½åœ¨å”¤é†’ç¡çœ æˆ–åœ¨å¯åŠ¨æ—¶å¯¼è‡´xHCI/EHCIié…ç½®é—®é¢˜çš„æŸäº›åŠ¨ä½œã€‚SSDT-PluginType1.dsl: This SSDT injects â€œplugin-typeâ€=1 on CPU0. It assumes ACPI Processor objects are in Scope(_PR). It can be used to enable native CPU power management on Haswell and later CPUs. See guide for more information: https://www.tonymacx86.com/threads/guide-native-power-management-for-laptops.175801/.è¿™ä¸ªSSDTåœ¨CPU0æ³¨å…¥â€œplugin-typeâ€=1ã€‚å®ƒè¦æ±‚ACPIå¤„ç†å™¨å¯¹è±¡åœ¨Scope(_PR)èŒƒå›´å†…ã€‚å®ƒå¯ä»¥ç”¨äºåœ¨Haswellå’Œæ›´æ–°çš„CPUå¯ç”¨åŸç”Ÿç”µæºç®¡ç†ã€‚æ›´å¤šä¿¡æ¯è§æŒ‡å—ï¼šhttps://www.tonymacx86.com/threads/guide-native-power-management-for-laptops.175801/.SSDT-HDEF.dsl and SSDT-HDAU.dsl: Injects layout-id, hda-gfx, and PinConfiguration properties on HDEF and HDAU in order to implement audio with patched AppleHDA.kext Configured with: RMCF.AUDL.åœ¨HDEFå’ŒHDAUä¸Šæ³¨å…¥layout-idã€hda-gfxå’ŒPinConfigurationå±æ€§ï¼Œä»¥é€šè¿‡å¯¹AppleHDAçš„patchå®ç°éŸ³é¢‘ã€‚é€šè¿‡RMCF.AUDLé…ç½®.SSDT-EH01.dsl,SSDT-EH02.dsl, and SSDT-XHC.dsl:These SSDTs inject USB power properties and control over FakePCIID_XHCIMux (dending on SSDT-Disable_EH*.dsl).è¿™äº›SSDTæ³¨å…¥USBç”µæºå±æ€§å¹¶é€šè¿‡FakePCIID_XHCIMuxæ§åˆ¶(å–å†³äºSSDT-Disable_EH*.dsl)ã€‚SSDT-ALS0.dsl: Injects a fake ALS device (ambient light sensor). This SSDT is used to fix problems with restoring brightness upon reboot.æ³¨å…¥ä»¿å†’ALSè®¾å¤‡(ç¯å¢ƒå…‰ä¼ æ„Ÿå™¨)ã€‚è¿™ä¸ªSSDTç”¨äºä¿®å¤é‡æ–°å¯åŠ¨æ—¶è¿˜åŸäº®åº¦çš„é—®é¢˜ã€‚Introduction-è¯´æ˜æ–‡æ¡£Patching ACPI is always necessary to enable (near) full functionality when installing OS X on non-Apple hardware.åœ¨éè‹¹æœç¡¬ä»¶ä¸Šå®‰è£…OS Xæ—¶ï¼Œä¿®è¡¥ACPIä»¥å¯ç”¨(æ¥è¿‘)å®Œæ•´çš„åŠŸèƒ½æ€»æ˜¯å¿…è¦çš„ã€‚There is a complete guide here: http://www.tonymacx86.com/threads/guide-patching-laptop-dsdt-ssdts.152573/è¿™é‡Œæœ‰ä¸€ä¸ªå®Œæ•´çš„æŒ‡å—: http://www.tonymacx86.com/threads/guide-patching-laptop-dsdt-ssdts.152573/That guide uses what is known as â€œstatic patchingâ€. In order to inject patched ACPI files, we extract native ACPI, disassemble them, make changes, then recompile and place the files in ACPI/patched, so that Clover injects the patched ACPI instead of native ACPI. With the techniques detailed in this guide, the changes can be made directly to the ACPI binaries provided by BIOS, skipping the extract, disassembly, and recompilation steps.è¯¥æŒ‡å—ä½¿ç”¨äº†æ‰€è°“çš„â€œé™æ€è¡¥ä¸â€ã€‚ä¸ºäº†æ³¨å…¥æ‰“äº†è¡¥ä¸çš„ACPIæ–‡ä»¶ï¼Œæˆ‘ä»¬æå–æœ¬åœ°çš„ACPIï¼Œå°†å®ƒä»¬åç¼–è¯‘ï¼Œè¿›è¡Œä¿®æ”¹ï¼Œç„¶åé‡æ–°ç¼–è¯‘ï¼Œå¹¶å°†æ–‡ä»¶æ”¾åœ¨ACPI/patchedä¸­ï¼Œè¿™æ ·Cloverå°±æ³¨å…¥äº†æ‰“è¿‡è¡¥ä¸çš„ACPIï¼Œè€Œä¸æ˜¯åŸç”Ÿçš„ACPIã€‚é€šè¿‡æœ¬æŒ‡å—ä¸­è¯¦ç»†ä»‹ç»çš„æŠ€æœ¯ï¼Œå¯ä»¥ç›´æ¥å¯¹BIOSæä¾›çš„ACPIäºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œæ›´æ”¹ï¼Œè·³è¿‡æå–ã€åˆ†è§£å’Œé‡æ–°ç¼–è¯‘æ­¥éª¤ã€‚You should have a solid understanding of static ACPI patching before attempting to hotpatch. You should also have an understanding of the ACPI spec, binary patching, programming, and ACPI concepts. Donâ€™t expect step-by-step and spoon feeding in this thread.åœ¨å°è¯•hotpatchä¹‹å‰ï¼Œä½ åº”è¯¥å¯¹é™æ€çš„ACPIè¡¥ä¸æœ‰ä¸€å®šçš„äº†è§£ã€‚ä½ è¿˜åº”è¯¥äº†è§£ACPIè§„èŒƒã€äºŒè¿›åˆ¶è¡¥ä¸ã€è¯­æ³•å’ŒACPIæ¦‚å¿µã€‚ä¸è¦æŒ‡æœ›åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¾ªåºæ¸è¿›åœ°å­¦ä¹ ã€‚Clover mechanisms-Cloveræœºåˆ¶Clover provides a few methods for accomplishing ACPI hotpatch:Cloveræä¾›äº†ä¸€äº›æ–°çš„æ–¹æ³•æ¥å®ç°ACPI hotpatch.config.plist/ACPI/DSDT/Fixesconfig.plist/ACPI/DSDT/Patchesability to inject additional SSDTsDSDT/Fixes provide fixed function ACPI patching. Each â€œFixâ€ can do a particular kind of patching that can be used instead of typical patching you might do with MaciASL and static patching. For example, â€œIRQ Fixâ€ can be accomplished with â€œFixHPET_0010â€ â€œFixIPIC_0040â€ â€œFIX_RTC_20000â€ and â€œFIX_TMR_40000â€. As an other example, â€œFix _WAK Arg0 v2â€ can be accomplished with â€œFIX_WAK_200000â€. You can read the Clover wiki for more information on each patch. Most of the time, there are not many DSDT â€œFixesâ€ needed for basic functionality. DSDT â€œFixesâ€ are useful for implementing patches that are difficult or impossible to implement with ACPI/DSDT/Patches or additional SSDTs.DSDT/Fixesæä¾›äº†å…·æœ‰ä¿®å¤åŠŸèƒ½çš„ACPIè¡¥ä¸ã€‚æ¯ä¸€ä¸ªFixéƒ½å¯ä»¥ä½¿ç”¨ä¸€ç§ç‰¹æ®Šçš„è¡¥ä¸ï¼Œä»è€Œä¸éœ€è¦ä½ ä½¿ç”¨MaciASLå’Œé™æ€è¡¥ä¸ã€‚ä¾‹å¦‚ï¼ŒIRQ Fixå¯ä»¥ç”¨FixHPET_0010ã€FixIPIC_0040ã€FIX_RTC_20000å’ŒFIX_TMR_40000æ¥å®Œæˆã€‚å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼ŒFix _WAK Arg0 v2å¯ä»¥ç”¨FIX_WAK_200000æ¥å®Œæˆã€‚å¯¹äºæ¯ä¸ªè¡¥ä¸é˜…è¯»Clover wikiä»¥è·å¾—æ›´å¤šä¿¡æ¯ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒåŸºæœ¬åŠŸèƒ½æ‰€éœ€çš„DSDTFixå¹¶ä¸å¤šã€‚å¯¹äºç”¨ACPI/DSDT/Patchesæˆ–é™„åŠ çš„SSDTå¾ˆéš¾å®ç°ç”šè‡³ä¸å¯èƒ½å®ç°çš„è¡¥ä¸,åˆ©ç”¨DSDTFixeså®ç°éå¸¸æœ‰ç”¨ã€‚DSDT/Patches allows for binary search and replace by Clover. Clover loads the native ACPI files, applies the patches specified in ACPI/Patches using binary search/replace, then injects the patched ACPI. You need to have an understanding of the binary AML format. It is fully documented in the ACPI spec.DSDT/Patcheså…è®¸é€šè¿‡Cloverå¯¹äºŒè¿›åˆ¶è¿›è¡ŒæŸ¥æ‰¾å¹¶æ›¿æ¢ã€‚CloveråŠ è½½æœ¬åœ°çš„ACPIæ–‡ä»¶ï¼Œåœ¨ACPI/Patchesä¸­ä½¿ç”¨äºŒè¿›åˆ¶æŸ¥æ‰¾æ›¿æ¢ä»¥åº”ç”¨æŒ‡å®šçš„è¡¥ä¸ï¼Œç„¶åæ³¨å…¥æ‰“è¿‡è¡¥ä¸çš„ACPIã€‚æ‚¨éœ€è¦äº†è§£äºŒè¿›åˆ¶AMLæ ¼å¼ã€‚å®ƒåœ¨ACPIè§„èŒƒä¸­æœ‰å®Œæ•´çš„æ–‡æ¡£è®°å½•ã€‚ACPI namespace is built by merging the DSDT and SSDTs at load time. By placing additional SSDTs into ACPI/patched, we can essentially add code to this ACPI set. Since many OS X patches involve adding properties to ioreg with a _DSM method, it is often adequate to simply add an SSDT which contains the additional _DSM method instead of patching the native ACPI files. A perfect example youâ€™re already familiar with is the SSDT.aml that is generated by Pikeâ€™s ssdtPRgen.sh.ACPIå‘½åç©ºé—´åœ¨åŠ è½½æ—¶é€šè¿‡åˆå¹¶DSDTå’ŒSSDTæ„å»ºã€‚é€šè¿‡å°†é¢å¤–çš„SSDTæ”¾åˆ°ACPI/patched,æˆ‘ä»¬å¯ä»¥æ·»åŠ ä»£ç åˆ°ACPIé›†ã€‚å› ä¸ºè®¸å¤šOS Xè¡¥ä¸æ¶‰åŠ_DSMæ–¹æ³•æ·»åŠ å±æ€§åˆ°ioreg ,é€šå¸¸æ˜¯é€‚å½“çš„SSDTåŒ…å«é¢å¤–çš„ä¸€ä¸ª_DSMæ–¹æ³•è€Œä¸æ˜¯å¯¹æœ¬åœ°ACPIæ–‡ä»¶æ‰“è¡¥ä¸ã€‚ä½ å·²ç»ç†Ÿæ‚‰çš„ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­æ˜¯Pikeçš„ssdtprgensh.shè„šæœ¬ç”Ÿæˆçš„SSDT.amlã€‚In some cases, more than one mechanism must be used to accomplish a single goal. For example, you might use binary patching to disable or rename components in the native ACPI set, and then replace it with additional SSDTs.åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¿…é¡»ä½¿ç”¨ä¸æ­¢ä¸€ä¸ªæœºåˆ¶æ¥å®ŒæˆæŸä¸€ä¸ªç›®æ ‡ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½ä½¿ç”¨äºŒè¿›åˆ¶è¡¥ä¸æ¥ç¦ç”¨æˆ–é‡å‘½åæœ¬åœ°ACPIé›†åˆä¸­çš„ç»„ä»¶ï¼Œç„¶åç”¨é¢å¤–çš„SSDTæ›¿æ¢å®ƒã€‚Renaming ACPI objects-é‡å‘½åACPIå¯¹è±¡Since OS X can depend on specific ACPI object names used by Macs, a common patch is to rename an object in the native ACPI set. For example, most PC laptops use GFX0 for the integrated Intel GPU object (Intel HD Graphics). In OS X, power management for Intel graphics is not enabled unless this device is named IGPU. Using static patching, we apply â€œRename IGPU to GFX0â€ in order to rename this object. The patch must be applied to the DSDT and all SSDTs that reference it.ç”±äºOS Xå¯ä»¥ä¾èµ–äºMacæ‰€ä½¿ç”¨çš„ç‰¹å®šçš„ACPIå¯¹è±¡åç§°ï¼Œä¸€ä¸ªå¸¸è§çš„è¡¥ä¸æ˜¯åœ¨æœ¬åœ°çš„ACPIé›†åˆä¸­é‡å‘½åä¸€ä¸ªå¯¹è±¡ï¼Œä¾‹å¦‚ï¼Œå¤§å¤šæ•°PCç¬”è®°æœ¬ä½¿ç”¨GFX0ä½œä¸ºé›†æˆçš„Intel GPUå¯¹è±¡(Intel HDæ˜¾å¡)ã€‚åœ¨OS Xä¸­ï¼Œé™¤éè¿™ä¸ªè®¾å¤‡è¢«å‘½åä¸ºIGPUï¼Œå¦åˆ™è‹±ç‰¹å°”å›¾å½¢çš„ç”µæºç®¡ç†æ˜¯ä¸èƒ½å¯ç”¨çš„ã€‚ä½¿ç”¨é™æ€è¡¥ä¸ï¼Œæˆ‘ä»¬åº”ç”¨Rename IGPU to GFX0æ¥é‡å‘½åè¿™ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªè¡¥ä¸å¿…é¡»åº”ç”¨åˆ°DSDTå’Œæ‰€æœ‰æœ‰å¼•ç”¨GFX0çš„SSDTä¸Šã€‚With hotpatch, we can rename GFX0 to IGPU using a simple Clover patch in ACPI/DSDT/Patches. Such patches apply to DSDT and all native SSDTs (DSDT/Patches do not apply to SSDTs that are added via ACPI/patched). The patch for the rename would be:ä½¿ç”¨hotpatchï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ACPI/DSDT/Patchesä½¿ç”¨ä¸€ä¸ªç®€å•çš„å››å¶è‰è¡¥ä¸å°†GFX0é‡å‘½åä¸ºIGPUã€‚è¿™äº›è¡¥ä¸é€‚ç”¨äºDSDTå’Œæ‰€æœ‰æœ¬åœ°çš„SSDTs((DSDT/Patchesä¸èƒ½è¢«åº”ç”¨åˆ°é€šè¿‡ACPI/patchedæ·»åŠ çš„SSDT)ã€‚é‡å‘½åçš„è¡¥ä¸æ˜¯:123Comment: Rename GFX0 to IGPUFind: &lt;4746 5830&gt;Replace: &lt;4947 5055&gt;The hex values in Find and Replaces are the ASCII codes for GFX0 and IGPU, respectively.æŸ¥æ‰¾å’Œæ›¿æ¢çš„åå…­è¿›åˆ¶å€¼åˆ†åˆ«æ˜¯GFX0å’ŒIGPUçš„ASCIIç ,åˆ†åˆ«æ˜¯ï¼š1234$ echo -n GFX0|xxd0000000: 4746 5830 GFX0$ echo -n IGPU|xxd0000000: 4947 5055 IGPUThere are number of common renames, and most are in the config.plist that are part of my Clover/hoptpatch project:https://github.com/RehabMan/OS-X-Clover-Laptop-Config/tree/master/hotpatchæœ‰è®¸å¤šé€šç”¨çš„é‡å‘½åï¼Œè€Œä¸”å¾ˆå¤šéƒ½åœ¨config.plisté‡Œï¼Œè¿™ä¸ªconfig.plistæ˜¯æˆ‘çš„Clover/hotpatché¡¹ç›®çš„ä¸€éƒ¨åˆ†:https://github.com/RehabMan/OS-X-Clover-Laptop-Config/tree/master/hotpatchIn fact, the hotpatch SSDTs that are part of the same project depend on the renames being implemented.äº‹å®ä¸Šï¼Œè¿™äº›hotpachçš„SSDTä¹Ÿæ˜¯ä¸Šé¢é‚£ä¸ªé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸”å®ƒä»¬è¦æ±‚è¿™äº›é‡å‘½åå¿…é¡»è¢«å®ç°ã€‚Common renames:é€šç”¨çš„é‡å‘½åï¼š12345678910GFX0 -&gt; IGPUSAT0 -&gt; SATAEHC1 -&gt; EH01EHC2 -&gt; EH02XHCI -&gt; XHCHECI -&gt; IMEIMEI -&gt; IMEILPC -&gt; LPCBHDAS -&gt; HDEFAZAL -&gt; HDEFNote: All ACPI identifiers are 4 characters. Shorter names are padded with underscore. So, for example, XHC is represented in the AML binary as XHC_, EC would be EC__, EC0 would be EC_, MEI would be MEI_, etc.æ³¨æ„ï¼šæ‰€æœ‰çš„ACPIæ ‡è¯†ç¬¦éƒ½æ˜¯4ä¸ªå­—ç¬¦ã€‚è¾ƒçŸ­çš„åå­—ç”¨ä¸‹åˆ’çº¿å¡«å……ã€‚ä¾‹å¦‚ï¼ŒXHCåœ¨AMLäºŒè¿›åˆ¶æ–‡ä»¶ä¸­è¢«è¡¨ç¤ºä¸ºXHC_ï¼ŒECæ˜¯EC__ï¼ŒEC0æ˜¯EC0_ï¼ŒMEIæ˜¯MEI_ï¼Œç­‰ç­‰ã€‚Removing methods-ç§»é™¤æ–¹æ³•It is very difficult to remove ACPI objects, (methods, names, devices, etc) using Clover binary patches. Commonly, we must add _DSM methods to inject properties that describe various hardware properties. But added _DSM methods can conflict with existing _DSM methods that may already be in the native ACPI files. With static patching, â€œRemove _DSM methodsâ€ would be used.ä½¿ç”¨CloveräºŒè¿›åˆ¶è¡¥ä¸æ¥ç§»é™¤ACPIå¯¹è±¡(æ–¹æ³•ã€åç§°ã€è®¾å¤‡ç­‰ç­‰)æ˜¯éå¸¸å›°éš¾çš„ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬å¿…é¡»æ·»åŠ _DSMæ–¹æ³•æ¥æ³¨å…¥å„ç§æè¿°ç¡¬ä»¶å±æ€§çš„å±æ€§ã€‚ä½†æ˜¯ï¼Œæ·»åŠ _DSMæ–¹æ³•å¯èƒ½ä¸æœ¬åœ°ACPIæ–‡ä»¶ç°æœ‰çš„_DSMæ–¹æ³•å†²çªã€‚è¿™æ—¶ï¼Œå°±ä¼šç”¨åˆ°é™æ€è¡¥ä¸Remove _DSM methodsã€‚Since it is difficult to remove the methods, but we donâ€™t want the native methods to conflict with new _DSM methods that are added, the fix is to rename the native methods to something else.ç”±äºå¾ˆéš¾åˆ é™¤è¿™äº›æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬åˆä¸å¸Œæœ›æœ¬åœ°æ–¹æ³•ä¸æ·»åŠ çš„æ–°_DSMæ–¹æ³•ç›¸å†²çªï¼Œæ‰€ä»¥å°±å°†æœ¬åœ°æ–¹æ³•é‡å‘½åä¸ºå…¶ä»–åå­—æ¥ä¿®å¤è¿™ä¸ªé—®é¢˜ã€‚Soâ€¦ again, we use a simple rename patch:é‚£ä¹ˆâ€¦åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„é‡å‘½åè¡¥ä¸:123Comment: Rename _DSM to XDSMFind: &lt;5f44534d&gt;Replace: &lt;5844534d&gt;Sometimes, you might rename an object to effectively disable it so it does not cause problems. For example, my Intel DH67GD DSDT defines an APSS object. If this object is left in the DSDT it interferes with power management (causes panic). I use a rename from APSS -&gt; APXX. Because AppleIntelCPUPowerManagement is looking for APSS, it does not cause a problem once renamed to APXX.æœ‰æ—¶ï¼Œä½ å¯èƒ½ä¼šé‡å‘½åä¸€ä¸ªå¯¹è±¡ï¼Œä»¥ä¾¿æœ‰æ•ˆåœ°ç¦ç”¨å®ƒï¼Œè¿™æ ·å®ƒå°±ä¸ä¼šé€ æˆé—®é¢˜ã€‚ä¾‹å¦‚ï¼Œæˆ‘çš„Intel DH67GDçš„ DSDTå®šä¹‰äº†APSSå¯¹è±¡ã€‚å¦‚æœè¿™ä¸ªå¯¹è±¡ç•™åœ¨DSDTä¸­ï¼Œå®ƒä¼šå¹²æ‰°ç”µæºç®¡ç†(å¼•èµ·KP)ã€‚æˆ‘ä½¿ç”¨APSS-&gt;APXXçš„é‡å‘½åã€‚å› ä¸ºAppleIntelCPUPowerManagementä¼šæŸ¥æ‰¾APSS,åªè¦æ”¹åä¸ºAPXXå°±ä¸ä¼šå¼•èµ·é—®é¢˜ã€‚Redirect and Replace-é‡å®šå‘å’Œæ›¿æ¢In some cases, we would like to replace code to change the behavior. For this, we can rename the object and provide an alternate implementation in an SSDT.åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›æ›¿æ¢ä»£ç æ¥æ”¹å˜æŸäº›åŠ¨ä½œã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é‡å‘½åè¿™ä¸ªå¯¹è±¡ï¼Œå¹¶åœ¨SSDTä¸­æä¾›ä¸€ä¸ªç”¨æ¥æ›¿ä»£çš„å¯¹è±¡ä»¥è¾¾åˆ°ç›®çš„ã€‚A common fix is spoofing the ACPI code in DSDT and SSDTs such that it behaves as if a certain version of Windows is the ACPI host. When static patching, we might use â€œOS Check Fix (Windows 8)â€. When applied, it changes code from:ä¸€ä¸ªå¸¸è§çš„ä¿®å¤æ˜¯åœ¨DSDTå’ŒSSDTä¸­ä»¿å†’ACPIä»£ç ï¼Œä½¿å…¶è¡¨ç°å¾—å°±åƒæ˜¯ACPIä¸»æœºçš„æŸä¸ªç‰ˆæœ¬çš„Windowsä¸€æ ·ã€‚å½“åˆ©ç”¨é™æ€è¡¥ä¸æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨OS Check Fix (Windows 8)ã€‚å½“åº”ç”¨è¿™ä¸ªè¡¥ä¸æ—¶ï¼Œå®ƒä¼šå°†ä»£ç ä»:1If (_OSI(&quot;Windows 2012&quot;))To:æ”¹ä¸ºï¼š1If (LOr(_OSI(&quot;Darwin&quot;),_OSI(&quot;Windows 2012&quot;))Since the _OSI implementation in OS X only responds to â€œDarwinâ€ the code is changed so that this specific _OSI check also accomodates â€œDarwinâ€.ç”±äºOS Xä¸­_OSIæ–¹æ³•çš„å®ç°åªå¯¹è¢«ä¿®æ”¹äº†ä»£ç çš„Darwinä½œå‡ºå“åº”ï¼Œæ‰€ä»¥è¿™ä¸ªç‰¹å®šçš„_OSI checkè¡¥ä¸ä¹Ÿèƒ½å“åº”Darwinã€‚With hotpatching, the opposite approach is taken. Instead of changing the code using _OSI, we change the code so it calls a different method that emulates the _OSI implementation that would be in the Windows ACPI host.è€Œçƒ­è¡¥ä¸åˆ™é‡‡ç”¨ç›¸åçš„æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨_OSIä¿®æ”¹ä»£ç ï¼Œè€Œæ˜¯æ”¹å˜ä»£ç è®©å®ƒè°ƒç”¨ä¸€ç§ä¸åŒçš„æ–¹æ³•æ¥æ¨¡æ‹Ÿåœ¨Windows ACPIä¸»æœºä¸Šçš„_OSIå®ç°ã€‚This technique relies on two of the techniquesâ€¦ a patch to change all calls from _OSI to XOSIâ€¦ and an implementation of XOSI that emulates what Windows would do for a certain Windows version.è¿™é¡¹æŠ€æœ¯ä¾èµ–äºä¸¤ç§æŠ€æœ¯ï¼Œä¸€ä¸ªè¡¥ä¸æ¥æ”¹å˜ä»_OSIåˆ°XOSIçš„æ‰€æœ‰è°ƒç”¨ã€‚å¦ä¸€ä¸ªæ˜¯XOSIçš„å®ç°ï¼Œå³æ¨¡æ‹ŸWindowså¯¹æŸä¸ªWindowsç‰ˆæœ¬çš„æ“ä½œã€‚First, changing the code to call XOSI instead of _OSI:é¦–å…ˆï¼Œæ”¹å˜ä»£ç æ¥è°ƒç”¨XOSIè€Œä¸æ˜¯_OSI:123Comment: Change _OSI to XOSIFind: &lt;5f4f 5349&gt;Replace: &lt;584f 5349&gt;The hex codes above should be no mystery (they are ASCII for _OSI and XOSI, respectively).ä¸Šé¢çš„åå…­è¿›åˆ¶ä»£ç æ²¡æœ‰ä»€ä¹ˆç¥ç§˜çš„(å®ƒä»¬åˆ†åˆ«æ˜¯_OSIå’ŒXOSIçš„ASCIIç )ã€‚Now the code mentioned above, after patching by Clover, will read:ç°åœ¨ï¼Œä¸Šé¢æåˆ°çš„ä»£ç ï¼Œåœ¨é€šè¿‡Cloveræ‰“äº†è¡¥ä¸ä¹‹åï¼Œå°†ä¼šè¯»åˆ°:1If (XOSI(&quot;Windows 2012&quot;))Now we need an SSDT that implements XOSI. You will find such an implementation in the repository (SSDT-XOSI.dsl).ç°åœ¨æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå®ç°XOSIçš„SSDTã€‚ä½ å¯ä»¥æˆ‘çš„GitHubä»“åº“ä¸­æ‰¾åˆ°è¿™æ ·çš„å®ç°(SSDT-XOSI.dsl).Note that without the SSDT that implements the XOSI method, the (patched) calls to XOSI would cause an ACPI abort (ACPI abort causes execution of the ACPI method to be terminated immediately with an error). Donâ€™t use the _OSI-&gt;XOSI patch without the XOSI method.æ³¨æ„ï¼Œå¦‚æœæ²¡æœ‰å®ç°XOSIæ–¹æ³•çš„SSDTï¼Œè¿™ä¸ªè¡¥ä¸å¯¹XOSIçš„è°ƒç”¨å°†å¯¼è‡´ACPIçš„åŠ è½½è¢«ç»ˆæ­¢(ACPIä¸­æ­¢å¯¼è‡´ACPIæ–¹æ³•çš„æ‰§è¡Œè¢«é”™è¯¯ç«‹å³ç»ˆæ­¢)ã€‚å¦‚æœæ²¡æœ‰XOSIæ–¹æ³•ä¸è¦ä½¿ç”¨_OSI-&gt;XOSIè¡¥ä¸ã€‚Rename and Replace-é‡å‘½åå’Œæ›¿æ¢A second pattern, similar to â€œRedirect and Replaceâ€ is â€œRename and Replaceâ€. In this case, instead of changing all the call sites, we change the method definition such that the method is named something different than it was originally, but leave the original method name at the call sites. This allows the method that is the target of the calls to be replaced.For example, it is very common for USB devices to cause â€œinstant wakeâ€. As a work around, wake on USB can be disabled. Most laptops donâ€™t have a BIOS option for it, so instead the _PRW methods that control this feature are patched.For example, the native _SB.PCI0.EHC1._PRW method might read:1234Method (_PRW, 0, NotSerialized) // _PRW: Power Resources for Wake&#123; Return (GPRW (0x6D, 0x03))&#125;In order to patch it so USB devices on EHCI#1 cannot cause wake, it would be changed:1234Method (_PRW, 0, NotSerialized) // _PRW: Power Resources for Wake&#123; Return (GPRW (0x6D, 0))&#125;Usually, there are several such call sites to GPRW that need to be changed (also, keep in mind not all ACPI sets use the specific name GPRW). Instead of trying to patch all the call sites as above, we can instead patch the method definition of GPRW instead:With the original code:1234Method (GPRW, 2, NotSerialized)&#123; ...&#125;If we change it to:1234Method (XPRW, 2, NotSerialized)&#123; ...&#125;Since you donâ€™t want to change any call sites, the patch must be constructed such that it affects only the method itself and not the call sites. According to ACPI spec, a method definition starts with bytecode 14, is followed by the method size, the method name, argument count/flags. You can use the â€œ-lâ€ option in iasl to generate a mixed listing of your ACPI file. For example, the Lenovo u430 GPRW method mixed listing:1234564323: Method (GPRW, 2, NotSerialized)00003F95: 14 45 08 47 50 52 57 02 &quot;.E.GPRW.&quot;4324: &#123;4325: Store (Arg0, Index (PRWP, Zero))00003F9D: 70 68 .................. &quot;ph&quot;00003F9F: 88 50 52 57 50 00 00 ... &quot;.PRWP..&quot;We could do a find replace using the method header bytes:12Find: &lt;14 45 08 47 50 52 57 02&gt;Replace: &lt;14 45 08 58 50 52 57 02&gt;But what happens if the method differs slightly between different versions of BIOS or models that are similar, but not exactly the same? In that case, the byte following the 14 will change due to the change in the method length.My thought is that the beginning of the method body is less likely to be different than the total length of the method, so it helps to add a few extra bytes from the body of the method to the find/replace specification:12Find: &lt;47 50 52 57 02 70 68&gt;Replace: &lt;58 50 52 57 02 70 68&gt;The number of follow-on bytes that you use depends on how many you need to make the find/replace affect only the method definition. You can verify by looking at the native AML binary in a hex editor such as Hex Fiend (it is a nice hex editor and is also open source).Note: Although you could search just for the method name + arg count/flags, it is possible that the same pattern will find a call site to the method which you donâ€™t want to change. In the case of the u430 that wasnâ€™t the case, so I was able to find/replace with just the method name+flags.12Find: &lt;47505257 02&gt;Replace: &lt;58505257 02&gt;In the case of the ProBook UPRW, it was necessary to use the follow-on bytes that are part of the method body:12Find: &lt;55505257 0a7012&gt;Replace: &lt;58505257 0a7012&gt;Now any code that calls GPRW (or UPRW in the ProBook example) will not call the implementation in XPRW because the name doesnâ€™t match. The original XPRW is now unreachable code. Which means the GPRW implementation can be changed for our purpose:123456Method(GPRW, 2)&#123; If (0x6d == Arg0) &#123; Return(Package() &#123; 0x6d, 0, &#125;) &#125; External(\\XPRW, MethodObj) Return(XPRW(Arg0, Arg1))&#125;Explaining the code: For any call to GPRW with the first argument set to 0x6d (the GPE we are trying to disable for wake), instead of returning what the original GPRW would, we return a package with 0x6d and 0 (which disables wake). And for other GPE values, the code simply calls the original GPRW method now named XPRW.Another simple case is patching EC query methods to fix the brightness keys. A simple rename of the _Qxx methods involved to XQxx, and a new definition of the method with the original name is all that is needed.For example, in the HP Envy Haswell repo:123456789101112131415161718192021// _Q13 called on brightness/mirror display keyMethod (_Q13, 0, Serialized) // _Qxx: EC Query&#123; External(\\HKNO, FieldUnitObj) Store(HKNO, Local0) If (LEqual(Local0,7)) &#123; // Brightness Down Notify(\\_SB.PCI0.LPCB.PS2K, 0x0405) &#125; If (LEqual(Local0,8)) &#123; // Brightness Up Notify(\\_SB.PCI0.LPCB.PS2K, 0x0406) &#125; If (LEqual(Local0,4)) &#123; // Mirror toggle Notify(\\_SB.PCI0.LPCB.PS2K, 0x046e) &#125;&#125;And the associated patch:123Comment: change Method(_Q13,0,S) to XQ13Find: &lt;5f513133 08&gt;Replace: &lt;58513133 08&gt;This same â€œRename and Replaceâ€ mechanism can be used in cases that are much more complex than this. For example, it is typically used to patch battery methods, which need to be patched to avoid access to multibyte EC fields.Tips for complex Rename and ReplaceAs you probably already know, patching for battery status (multibyte EC fields) can be very complex and can involve a lot of code changes to many methods.This section will detail some of the techniques and procedures used for battery patching.It is advisable to patch for battery without using hotpatch first. After you get it working, then attempt hotpatch. Also, the difference between the code not patched for battery and the code patched for battery is very helpful. You can use a tool like â€˜diffmergeâ€™ to compare each. This is especially true if there is already a static battery patch for your laptop in my laptop repository.General procedure:start with native ACPIpatch for battery status using static patching (verify it works)use diffmerge to compare the unpatched code with patched codefor each method that is different, implement the â€œRename and Replaceâ€ patternfor the EC fields, create another EC OperationRegion (use a name that is different from the original) and Field definition as a sort of â€œoverlayâ€ which contains only the EC fields you need to patchto create the EC overlay, you can use the patched Field/OperationRegion in the patched DSDT, then eliminate unpatched fieldsuse External to allow the replacement methods in the SSDT to access the fields defined elsewhere in the ACPI set (usually DSDT)let the compiler point out where you need to use Externalwatch out for symbols with duplicate names in different scopesAn example is provided in post #2 of this thread.Code value patchingConsider the case of â€œFix Mutex with non-zero SyncLevelâ€. This patch finds all Mutex objects and replaces the SyncLevel with 0. We use this patch since OS X does not support Mutex debugging correctly and aborts on any Acquire with a Mutex that has a non-zero SyncLevel.As an example, the u430 has Mutexes delcared as such:Mutex (MSMI, 0x07) To make it compatible with OS X it must be changed:Mutex (MSMI, 0) The ACPI spec defines how a Mutex object is encoded in the AML, but it can be helpful to look at a mixed disassembly of a small ACPI file:1234DefinitionBlock (&quot;&quot;, &quot;DSDT&quot;, 2, &quot;test&quot;, &quot;test&quot;, 0)&#123; Mutex(ABCD, 7)&#125;The iasl compiler can create a mixed listing file with the â€œ-lâ€ option.If we compile the above file with: iasl -l test.dsl, test.lst contains: 1: DefinitionBlock (&quot;&quot;, &quot;DSDT&quot;, 2, &quot;test&quot;, &quot;test&quot;, 0) 00000000: 44 53 44 54 2B 00 00 00 &quot;DSDT+...&quot; 00000008: 02 36 74 65 73 74 00 00 &quot;.6test..&quot; 00000010: 74 65 73 74 00 00 00 00 &quot;test....&quot; 00000018: 00 00 00 00 49 4E 54 4C &quot;....INTL&quot; 00000020: 10 04 16 20 ............ &quot;... &quot; 2: { 3: Mutex(ABCD, 7) 00000024: 5B 01 41 42 43 44 07 ... &quot;[.ABCD.&quot; 4: } As you can see, the Mutex(ABCD, 7), is encoded as &lt;5B 01 41 42 43 44 07&gt;It is now very easy to construct a patch for it:123Comment: Change Mutex(ABCD,7) to Mutex(ABCD,0)Find: &lt;5B 01 41 42 43 44 07&gt;Replace: &lt;5B 01 41 42 43 44 00&gt;Clover ACPI configurationWith static patching, DropOem=true is used and patched DSDT and SSDTs are added to ACPI/patched. With hotpatch, instead use DropOem=false, and only add-on SSDTs are placed in ACPI/patched.It is important to note that config.plist/ACPI/patches are applied only to native SSDTs, and not the SSDTs in ACPI/patched. This means that if you are renaming objects using config.plist, the add-on SSDTs must refer to the new names, not the old names. Unlike SSDTs in ACPI/patched, binary patches in ACPI/Patches do apply to DSDT.aml that might be in ACPI/patched. Keep this in mind if youâ€™re using a combination of static and hotpatching.Also, with static patching, SortedOrder is used to specify the order of SSDTs in ACPI/patched. With hotpatch it is not strictly necessary as it is possible to construct the code in each SSDT such that the code is not order dependent. Especially if you place all add-on code in a single SSDT such as many of my laptop repo examples. Unless your add-on SSDTs are order dependent, you do not have to name each one in SortedOrder.It is also not necessary to choose â€œnumbered namesâ€ for each SSDT. Instead you can use meaningful names, such as â€œSSDT-USB.amlâ€, SSDT-XOSI.amlâ€, etc. Using numbers instead of meaningul names will just confuse you. Donâ€™t do it.TroubleshootingYou can use patchmatic to look at your complete ACPI set as injected by Clover after patching. By runnning â€˜patchmatic -extractâ€™, patchmatic will write all injected DSDT.aml and SSDT.aml in the order they were injected by Clover. You can disassemble them with â€˜iasl -da -dl .amlâ€™. If iasl shows errors with the disassembly (for example duplicate symbols), it is likley OS X is also rejecting the conflicting SSDTs.If youâ€™re a novice with this technique, it is a good idea to implement one patch at a time, and slowly build it up to a full set of working patches + SSDTs. Trying to do all at once can make it difficult to locate your mistake.Battery Status HotpatchThis second post is dedicated to patching battery status with Clover hotpatch. To demonstrate the process, we will work through an example DSDT. The example files used are from the guide for disabling discrete graphics, an â€œAsus UX303LNâ€.https://www.tonymacx86.com/threads/guide-disabling-discrete-graphics-in-dual-gpu-laptops.163772/You should download the ACPI/origin files that are attached to that guide, so you can follow along.As mentioned in post #1, the general procedures are as follows:start with native ACPIpatch for battery status using static patching (verify it works)use diffmerge to compare the unpatched code with patched codefor each method that is different, implement the â€œRename and Replaceâ€ patternfor the EC fields, create another EC OperationRegion (use a name that is different from the original) and Field definition as a sort of â€œoverlayâ€ which contains only the EC fields you need to patchto create the EC overlay, you can use the patched Field/OperationRegion in the patched DSDT, then eliminate unpatched fieldsuse External to allow the replacement methods in the SSDT to access the fields defined elsewhere in the ACPI set (usually DSDT)let the compiler point out where you need to use Externalwatch out for symbols with duplicate names in different scopesUsing diffmerge to find patched vs. native differencesStart by disassembling the origin files: iasl -da -dl *.aml(you should be familiar with this part as it is part of normal ACPI patching)Next apply the battery patch only using MaciASL to DSDT.dsl. In this case, we apply the â€œASUS N55SL/VivoBookâ€. There is no need to fix any errors, as we are interested only in the differences created by applying the battery patch. Save the patched file as DSDT_patched.dsl.Now you can run diffmerge to see the differences between DSDT.dsl and DSDT_patched.dsl. I usually just do this from Terminal:$ diffmerge DSDT.dsl DSDT_patched.dslThe initial diffmerge window will look something like this:From there, we can examine the parts that have changes by clicking on the markers in the left column.In the examples, the groups of changes you find:group 1: is the changes to the EC fields (multibyte to single byte)group 2: addition of RDBA, WRBA, RDBB, WRBB methodsgroup 3: patched FBST, _BIX, B1FA methodsgroup 4: patched SMBR, SMBW, ECSB methodsgroup 5: patched TACH methodfinal group: addition of B1B2 methodConstructing the initial SSDTStart with an empty SSDT in MaciASL:123DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0)&#123;&#125;Next, add all methods that were added by the patch. In the example, this includes RDBA, WRBA, RDBB, WRBB and B1B2 methods. You can copy them directly from the DSDT_patched.dsl.You want to be certain each method is placed in the same scope. For example, here is the â€œgroup 2â€ methods added:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0) { Scope (_SB.PCI0.LPCB.EC0) { Scope (EC0) { Method (RDBA, 0, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (BA00, Index(TEMP, 0x00)) Store (BA01, Index(TEMP, 0x01)) Store (BA02, Index(TEMP, 0x02)) Store (BA03, Index(TEMP, 0x03)) Store (BA04, Index(TEMP, 0x04)) Store (BA05, Index(TEMP, 0x05)) Store (BA06, Index(TEMP, 0x06)) Store (BA07, Index(TEMP, 0x07)) Store (BA08, Index(TEMP, 0x08)) Store (BA09, Index(TEMP, 0x09)) Store (BA0A, Index(TEMP, 0x0A)) Store (BA0B, Index(TEMP, 0x0B)) Store (BA0C, Index(TEMP, 0x0C)) Store (BA0D, Index(TEMP, 0x0D)) Store (BA0E, Index(TEMP, 0x0E)) Store (BA0F, Index(TEMP, 0x0F)) Store (BA10, Index(TEMP, 0x10)) Store (BA11, Index(TEMP, 0x11)) Store (BA12, Index(TEMP, 0x12)) Store (BA13, Index(TEMP, 0x13)) Store (BA14, Index(TEMP, 0x14)) Store (BA15, Index(TEMP, 0x15)) Store (BA16, Index(TEMP, 0x16)) Store (BA17, Index(TEMP, 0x17)) Store (BA18, Index(TEMP, 0x18)) Store (BA19, Index(TEMP, 0x19)) Store (BA1A, Index(TEMP, 0x1A)) Store (BA1B, Index(TEMP, 0x1B)) Store (BA1C, Index(TEMP, 0x1C)) Store (BA1D, Index(TEMP, 0x1D)) Store (BA1E, Index(TEMP, 0x1E)) Store (BA1F, Index(TEMP, 0x1F)) Return (TEMP) } Method (WRBA, 1, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (Arg0, TEMP) Store (DerefOf(Index(TEMP, 0x00)), BA00) Store (DerefOf(Index(TEMP, 0x01)), BA01) Store (DerefOf(Index(TEMP, 0x02)), BA02) Store (DerefOf(Index(TEMP, 0x03)), BA03) Store (DerefOf(Index(TEMP, 0x04)), BA04) Store (DerefOf(Index(TEMP, 0x05)), BA05) Store (DerefOf(Index(TEMP, 0x06)), BA06) Store (DerefOf(Index(TEMP, 0x07)), BA07) Store (DerefOf(Index(TEMP, 0x08)), BA08) Store (DerefOf(Index(TEMP, 0x09)), BA09) Store (DerefOf(Index(TEMP, 0x0A)), BA0A) Store (DerefOf(Index(TEMP, 0x0B)), BA0B) Store (DerefOf(Index(TEMP, 0x0C)), BA0C) Store (DerefOf(Index(TEMP, 0x0D)), BA0D) Store (DerefOf(Index(TEMP, 0x0E)), BA0E) Store (DerefOf(Index(TEMP, 0x0F)), BA0F) Store (DerefOf(Index(TEMP, 0x10)), BA10) Store (DerefOf(Index(TEMP, 0x11)), BA11) Store (DerefOf(Index(TEMP, 0x12)), BA12) Store (DerefOf(Index(TEMP, 0x13)), BA13) Store (DerefOf(Index(TEMP, 0x14)), BA14) Store (DerefOf(Index(TEMP, 0x15)), BA15) Store (DerefOf(Index(TEMP, 0x16)), BA16) Store (DerefOf(Index(TEMP, 0x17)), BA17) Store (DerefOf(Index(TEMP, 0x18)), BA18) Store (DerefOf(Index(TEMP, 0x19)), BA19) Store (DerefOf(Index(TEMP, 0x1A)), BA1A) Store (DerefOf(Index(TEMP, 0x1B)), BA1B) Store (DerefOf(Index(TEMP, 0x1C)), BA1C) Store (DerefOf(Index(TEMP, 0x1D)), BA1D) Store (DerefOf(Index(TEMP, 0x1E)), BA1E) Store (DerefOf(Index(TEMP, 0x1F)), BA1F) } Method (RDBB, 0, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (BB00, Index(TEMP, 0x00)) Store (BB01, Index(TEMP, 0x01)) Store (BB02, Index(TEMP, 0x02)) Store (BB03, Index(TEMP, 0x03)) Store (BB04, Index(TEMP, 0x04)) Store (BB05, Index(TEMP, 0x05)) Store (BB06, Index(TEMP, 0x06)) Store (BB07, Index(TEMP, 0x07)) Store (BB08, Index(TEMP, 0x08)) Store (BB09, Index(TEMP, 0x09)) Store (BB0A, Index(TEMP, 0x0A)) Store (BB0B, Index(TEMP, 0x0B)) Store (BB0C, Index(TEMP, 0x0C)) Store (BB0D, Index(TEMP, 0x0D)) Store (BB0E, Index(TEMP, 0x0E)) Store (BB0F, Index(TEMP, 0x0F)) Store (BB10, Index(TEMP, 0x10)) Store (BB11, Index(TEMP, 0x11)) Store (BB12, Index(TEMP, 0x12)) Store (BB13, Index(TEMP, 0x13)) Store (BB14, Index(TEMP, 0x14)) Store (BB15, Index(TEMP, 0x15)) Store (BB16, Index(TEMP, 0x16)) Store (BB17, Index(TEMP, 0x17)) Store (BB18, Index(TEMP, 0x18)) Store (BB19, Index(TEMP, 0x19)) Store (BB1A, Index(TEMP, 0x1A)) Store (BB1B, Index(TEMP, 0x1B)) Store (BB1C, Index(TEMP, 0x1C)) Store (BB1D, Index(TEMP, 0x1D)) Store (BB1E, Index(TEMP, 0x1E)) Store (BB1F, Index(TEMP, 0x1F)) Return (TEMP) } Method (WRBB, 1, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (Arg0, TEMP) Store (DerefOf(Index(TEMP, 0x00)), BB00) Store (DerefOf(Index(TEMP, 0x01)), BB01) Store (DerefOf(Index(TEMP, 0x02)), BB02) Store (DerefOf(Index(TEMP, 0x03)), BB03) Store (DerefOf(Index(TEMP, 0x04)), BB04) Store (DerefOf(Index(TEMP, 0x05)), BB05) Store (DerefOf(Index(TEMP, 0x06)), BB06) Store (DerefOf(Index(TEMP, 0x07)), BB07) Store (DerefOf(Index(TEMP, 0x08)), BB08) Store (DerefOf(Index(TEMP, 0x09)), BB09) Store (DerefOf(Index(TEMP, 0x0A)), BB0A) Store (DerefOf(Index(TEMP, 0x0B)), BB0B) Store (DerefOf(Index(TEMP, 0x0C)), BB0C) Store (DerefOf(Index(TEMP, 0x0D)), BB0D) Store (DerefOf(Index(TEMP, 0x0E)), BB0E) Store (DerefOf(Index(TEMP, 0x0F)), BB0F) Store (DerefOf(Index(TEMP, 0x10)), BB10) Store (DerefOf(Index(TEMP, 0x11)), BB11) Store (DerefOf(Index(TEMP, 0x12)), BB12) Store (DerefOf(Index(TEMP, 0x13)), BB13) Store (DerefOf(Index(TEMP, 0x14)), BB14) Store (DerefOf(Index(TEMP, 0x15)), BB15) Store (DerefOf(Index(TEMP, 0x16)), BB16) Store (DerefOf(Index(TEMP, 0x17)), BB17) Store (DerefOf(Index(TEMP, 0x18)), BB18) Store (DerefOf(Index(TEMP, 0x19)), BB19) Store (DerefOf(Index(TEMP, 0x1A)), BB1A) Store (DerefOf(Index(TEMP, 0x1B)), BB1B) Store (DerefOf(Index(TEMP, 0x1C)), BB1C) Store (DerefOf(Index(TEMP, 0x1D)), BB1D) Store (DerefOf(Index(TEMP, 0x1E)), BB1E) Store (DerefOf(Index(TEMP, 0x1F)), BB1F) } } } } And with B1B2 added:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0) { Method (B1B2, 2, NotSerialized) { Return (Or (Arg0, ShiftLeft (Arg1, 8))) } // added methods (group 2) Scope (_SB.PCI0.LPCB.EC0) { Scope (EC0) { Method (RDBA, 0, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (BA00, Index(TEMP, 0x00)) Store (BA01, Index(TEMP, 0x01)) Store (BA02, Index(TEMP, 0x02)) Store (BA03, Index(TEMP, 0x03)) Store (BA04, Index(TEMP, 0x04)) Store (BA05, Index(TEMP, 0x05)) Store (BA06, Index(TEMP, 0x06)) Store (BA07, Index(TEMP, 0x07)) Store (BA08, Index(TEMP, 0x08)) Store (BA09, Index(TEMP, 0x09)) Store (BA0A, Index(TEMP, 0x0A)) Store (BA0B, Index(TEMP, 0x0B)) Store (BA0C, Index(TEMP, 0x0C)) Store (BA0D, Index(TEMP, 0x0D)) Store (BA0E, Index(TEMP, 0x0E)) Store (BA0F, Index(TEMP, 0x0F)) Store (BA10, Index(TEMP, 0x10)) Store (BA11, Index(TEMP, 0x11)) Store (BA12, Index(TEMP, 0x12)) Store (BA13, Index(TEMP, 0x13)) Store (BA14, Index(TEMP, 0x14)) Store (BA15, Index(TEMP, 0x15)) Store (BA16, Index(TEMP, 0x16)) Store (BA17, Index(TEMP, 0x17)) Store (BA18, Index(TEMP, 0x18)) Store (BA19, Index(TEMP, 0x19)) Store (BA1A, Index(TEMP, 0x1A)) Store (BA1B, Index(TEMP, 0x1B)) Store (BA1C, Index(TEMP, 0x1C)) Store (BA1D, Index(TEMP, 0x1D)) Store (BA1E, Index(TEMP, 0x1E)) Store (BA1F, Index(TEMP, 0x1F)) Return (TEMP) } Method (WRBA, 1, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (Arg0, TEMP) Store (DerefOf(Index(TEMP, 0x00)), BA00) Store (DerefOf(Index(TEMP, 0x01)), BA01) Store (DerefOf(Index(TEMP, 0x02)), BA02) Store (DerefOf(Index(TEMP, 0x03)), BA03) Store (DerefOf(Index(TEMP, 0x04)), BA04) Store (DerefOf(Index(TEMP, 0x05)), BA05) Store (DerefOf(Index(TEMP, 0x06)), BA06) Store (DerefOf(Index(TEMP, 0x07)), BA07) Store (DerefOf(Index(TEMP, 0x08)), BA08) Store (DerefOf(Index(TEMP, 0x09)), BA09) Store (DerefOf(Index(TEMP, 0x0A)), BA0A) Store (DerefOf(Index(TEMP, 0x0B)), BA0B) Store (DerefOf(Index(TEMP, 0x0C)), BA0C) Store (DerefOf(Index(TEMP, 0x0D)), BA0D) Store (DerefOf(Index(TEMP, 0x0E)), BA0E) Store (DerefOf(Index(TEMP, 0x0F)), BA0F) Store (DerefOf(Index(TEMP, 0x10)), BA10) Store (DerefOf(Index(TEMP, 0x11)), BA11) Store (DerefOf(Index(TEMP, 0x12)), BA12) Store (DerefOf(Index(TEMP, 0x13)), BA13) Store (DerefOf(Index(TEMP, 0x14)), BA14) Store (DerefOf(Index(TEMP, 0x15)), BA15) Store (DerefOf(Index(TEMP, 0x16)), BA16) Store (DerefOf(Index(TEMP, 0x17)), BA17) Store (DerefOf(Index(TEMP, 0x18)), BA18) Store (DerefOf(Index(TEMP, 0x19)), BA19) Store (DerefOf(Index(TEMP, 0x1A)), BA1A) Store (DerefOf(Index(TEMP, 0x1B)), BA1B) Store (DerefOf(Index(TEMP, 0x1C)), BA1C) Store (DerefOf(Index(TEMP, 0x1D)), BA1D) Store (DerefOf(Index(TEMP, 0x1E)), BA1E) Store (DerefOf(Index(TEMP, 0x1F)), BA1F) } Method (RDBB, 0, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (BB00, Index(TEMP, 0x00)) Store (BB01, Index(TEMP, 0x01)) Store (BB02, Index(TEMP, 0x02)) Store (BB03, Index(TEMP, 0x03)) Store (BB04, Index(TEMP, 0x04)) Store (BB05, Index(TEMP, 0x05)) Store (BB06, Index(TEMP, 0x06)) Store (BB07, Index(TEMP, 0x07)) Store (BB08, Index(TEMP, 0x08)) Store (BB09, Index(TEMP, 0x09)) Store (BB0A, Index(TEMP, 0x0A)) Store (BB0B, Index(TEMP, 0x0B)) Store (BB0C, Index(TEMP, 0x0C)) Store (BB0D, Index(TEMP, 0x0D)) Store (BB0E, Index(TEMP, 0x0E)) Store (BB0F, Index(TEMP, 0x0F)) Store (BB10, Index(TEMP, 0x10)) Store (BB11, Index(TEMP, 0x11)) Store (BB12, Index(TEMP, 0x12)) Store (BB13, Index(TEMP, 0x13)) Store (BB14, Index(TEMP, 0x14)) Store (BB15, Index(TEMP, 0x15)) Store (BB16, Index(TEMP, 0x16)) Store (BB17, Index(TEMP, 0x17)) Store (BB18, Index(TEMP, 0x18)) Store (BB19, Index(TEMP, 0x19)) Store (BB1A, Index(TEMP, 0x1A)) Store (BB1B, Index(TEMP, 0x1B)) Store (BB1C, Index(TEMP, 0x1C)) Store (BB1D, Index(TEMP, 0x1D)) Store (BB1E, Index(TEMP, 0x1E)) Store (BB1F, Index(TEMP, 0x1F)) Return (TEMP) } Method (WRBB, 1, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (Arg0, TEMP) Store (DerefOf(Index(TEMP, 0x00)), BB00) Store (DerefOf(Index(TEMP, 0x01)), BB01) Store (DerefOf(Index(TEMP, 0x02)), BB02) Store (DerefOf(Index(TEMP, 0x03)), BB03) Store (DerefOf(Index(TEMP, 0x04)), BB04) Store (DerefOf(Index(TEMP, 0x05)), BB05) Store (DerefOf(Index(TEMP, 0x06)), BB06) Store (DerefOf(Index(TEMP, 0x07)), BB07) Store (DerefOf(Index(TEMP, 0x08)), BB08) Store (DerefOf(Index(TEMP, 0x09)), BB09) Store (DerefOf(Index(TEMP, 0x0A)), BB0A) Store (DerefOf(Index(TEMP, 0x0B)), BB0B) Store (DerefOf(Index(TEMP, 0x0C)), BB0C) Store (DerefOf(Index(TEMP, 0x0D)), BB0D) Store (DerefOf(Index(TEMP, 0x0E)), BB0E) Store (DerefOf(Index(TEMP, 0x0F)), BB0F) Store (DerefOf(Index(TEMP, 0x10)), BB10) Store (DerefOf(Index(TEMP, 0x11)), BB11) Store (DerefOf(Index(TEMP, 0x12)), BB12) Store (DerefOf(Index(TEMP, 0x13)), BB13) Store (DerefOf(Index(TEMP, 0x14)), BB14) Store (DerefOf(Index(TEMP, 0x15)), BB15) Store (DerefOf(Index(TEMP, 0x16)), BB16) Store (DerefOf(Index(TEMP, 0x17)), BB17) Store (DerefOf(Index(TEMP, 0x18)), BB18) Store (DerefOf(Index(TEMP, 0x19)), BB19) Store (DerefOf(Index(TEMP, 0x1A)), BB1A) Store (DerefOf(Index(TEMP, 0x1B)), BB1B) Store (DerefOf(Index(TEMP, 0x1C)), BB1C) Store (DerefOf(Index(TEMP, 0x1D)), BB1D) Store (DerefOf(Index(TEMP, 0x1E)), BB1E) Store (DerefOf(Index(TEMP, 0x1F)), BB1F) } } } } Donâ€™t worry that the code does not compile at the moment. It is not expected at this point, due to the EC fields (and other identifiers) that are not defined in this file. They will need to be definined or referenced via External (eventually).Now letâ€™s add the patched methods. Just like the methods that were added methods, the patched methods are just copied from the DSDT_patched.dsl:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0) { // patched methods Scope (_SB.PCI0) { Scope (BAT0) { Method (FBST, 4, NotSerialized) { And (Arg1, 0xFFFF, Local1) Store (Zero, Local0) If (^^LPCB.EC0.ACAP ()) { Store (One, Local0) } If (Local0) { If (CHGS (Zero)) { Store (0x02, Local0) } Else { Store (Zero, Local0) } } Else { Store (One, Local0) } If (BLLO) { ShiftLeft (One, 0x02, Local2) Or (Local0, Local2, Local0) } If (And (^^LPCB.EC0.EB0S, 0x08)) { ShiftLeft (One, 0x02, Local2) Or (Local0, Local2, Local0) } If (LGreaterEqual (Local1, 0x8000)) { Subtract (0xFFFF, Local1, Local1) } Store (Arg2, Local2) If (LEqual (PUNT, Zero)) { Multiply (Local1, ^^LPCB.EC0.B0DV, Local1) Multiply (Local2, 0x0A, Local2) } And (Local0, 0x02, Local3) If (LNot (Local3)) { Subtract (LFCC, Local2, Local3) Divide (LFCC, 0xC8, Local4, Local5) If (LLess (Local3, Local5)) { Store (LFCC, Local2) } } Else { Divide (LFCC, 0xC8, Local4, Local5) Subtract (LFCC, Local5, Local4) If (LGreater (Local2, Local4)) { Store (Local4, Local2) } } If (LNot (^^LPCB.EC0.ACAP ())) { Divide (Local2, MBLF, Local3, Local4) If (LLess (Local1, Local4)) { Store (Local4, Local1) } } Store (Local0, Index (PBST, Zero)) Store (Local1, Index (PBST, One)) Store (Local2, Index (PBST, 0x02)) Store (Arg3, Index (PBST, 0x03)) } Method (_BIX, 0, NotSerialized) // _BIX: Battery Information Extended { If (LNot (^^LPCB.EC0.BATP (Zero))) { Return (NBIX) } If (LEqual (^^LPCB.EC0.GBTT (Zero), 0xFF)) { Return (NBIX) } _BIF () Store (DerefOf (Index (PBIF, Zero)), Index (BIXT, One)) Store (DerefOf (Index (PBIF, One)), Index (BIXT, 0x02)) Store (DerefOf (Index (PBIF, 0x02)), Index (BIXT, 0x03)) Store (DerefOf (Index (PBIF, 0x03)), Index (BIXT, 0x04)) Store (DerefOf (Index (PBIF, 0x04)), Index (BIXT, 0x05)) Store (DerefOf (Index (PBIF, 0x05)), Index (BIXT, 0x06)) Store (DerefOf (Index (PBIF, 0x06)), Index (BIXT, 0x07)) Store (DerefOf (Index (PBIF, 0x07)), Index (BIXT, 0x0E)) Store (DerefOf (Index (PBIF, 0x08)), Index (BIXT, 0x0F)) Store (DerefOf (Index (PBIF, 0x09)), Index (BIXT, 0x10)) Store (DerefOf (Index (PBIF, 0x0A)), Index (BIXT, 0x11)) Store (DerefOf (Index (PBIF, 0x0B)), Index (BIXT, 0x12)) Store (DerefOf (Index (PBIF, 0x0C)), Index (BIXT, 0x13)) If (LEqual (DerefOf (Index (BIXT, One)), One)) { Store (Zero, Index (BIXT, One)) Store (DerefOf (Index (BIXT, 0x05)), Local0) Multiply (DerefOf (Index (BIXT, 0x02)), Local0, Index (BIXT, 0x02)) Multiply (DerefOf (Index (BIXT, 0x03)), Local0, Index (BIXT, 0x03)) Multiply (DerefOf (Index (BIXT, 0x06)), Local0, Index (BIXT, 0x06)) Multiply (DerefOf (Index (BIXT, 0x07)), Local0, Index (BIXT, 0x07)) Multiply (DerefOf (Index (BIXT, 0x0E)), Local0, Index (BIXT, 0x0E)) Multiply (DerefOf (Index (BIXT, 0x0F)), Local0, Index (BIXT, 0x0F)) Divide (DerefOf (Index (BIXT, 0x02)), 0x03E8, Local0, Index (BIXT, 0x02)) Divide (DerefOf (Index (BIXT, 0x03)), 0x03E8, Local0, Index (BIXT, 0x03)) Divide (DerefOf (Index (BIXT, 0x06)), 0x03E8, Local0, Index (BIXT, 0x06)) Divide (DerefOf (Index (BIXT, 0x07)), 0x03E8, Local0, Index (BIXT, 0x07)) Divide (DerefOf (Index (BIXT, 0x0E)), 0x03E8, Local0, Index (BIXT, 0x0E)) Divide (DerefOf (Index (BIXT, 0x0F)), 0x03E8, Local0, Index (BIXT, 0x0F)) } Store (B1B2(^^LPCB.EC0.XC30,^^LPCB.EC0.XC31), Index (BIXT, 0x08)) Store (0x0001869F, Index (BIXT, 0x09)) Return (BIXT) } } } Scope (_SB.PCI0.LPCB.EC0) { Method (BIFA, 0, NotSerialized) { If (ECAV ()) { If (BSLF) { Store (B1B2(B1S0,B1S1), Local0) } Else { Store (B1B2(B0S0,B0S1), Local0) } } Else { Store (Ones, Local0) } Return (Local0) } } Method (B1B2, 2, NotSerialized) { Return (Or (Arg0, ShiftLeft (Arg1, 8))) } // added methods (group 2) Scope (_SB.PCI0.LPCB.EC0) { Scope (EC0) { Method (RDBA, 0, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (BA00, Index(TEMP, 0x00)) Store (BA01, Index(TEMP, 0x01)) Store (BA02, Index(TEMP, 0x02)) Store (BA03, Index(TEMP, 0x03)) Store (BA04, Index(TEMP, 0x04)) Store (BA05, Index(TEMP, 0x05)) Store (BA06, Index(TEMP, 0x06)) Store (BA07, Index(TEMP, 0x07)) Store (BA08, Index(TEMP, 0x08)) Store (BA09, Index(TEMP, 0x09)) Store (BA0A, Index(TEMP, 0x0A)) Store (BA0B, Index(TEMP, 0x0B)) Store (BA0C, Index(TEMP, 0x0C)) Store (BA0D, Index(TEMP, 0x0D)) Store (BA0E, Index(TEMP, 0x0E)) Store (BA0F, Index(TEMP, 0x0F)) Store (BA10, Index(TEMP, 0x10)) Store (BA11, Index(TEMP, 0x11)) Store (BA12, Index(TEMP, 0x12)) Store (BA13, Index(TEMP, 0x13)) Store (BA14, Index(TEMP, 0x14)) Store (BA15, Index(TEMP, 0x15)) Store (BA16, Index(TEMP, 0x16)) Store (BA17, Index(TEMP, 0x17)) Store (BA18, Index(TEMP, 0x18)) Store (BA19, Index(TEMP, 0x19)) Store (BA1A, Index(TEMP, 0x1A)) Store (BA1B, Index(TEMP, 0x1B)) Store (BA1C, Index(TEMP, 0x1C)) Store (BA1D, Index(TEMP, 0x1D)) Store (BA1E, Index(TEMP, 0x1E)) Store (BA1F, Index(TEMP, 0x1F)) Return (TEMP) } Method (WRBA, 1, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (Arg0, TEMP) Store (DerefOf(Index(TEMP, 0x00)), BA00) Store (DerefOf(Index(TEMP, 0x01)), BA01) Store (DerefOf(Index(TEMP, 0x02)), BA02) Store (DerefOf(Index(TEMP, 0x03)), BA03) Store (DerefOf(Index(TEMP, 0x04)), BA04) Store (DerefOf(Index(TEMP, 0x05)), BA05) Store (DerefOf(Index(TEMP, 0x06)), BA06) Store (DerefOf(Index(TEMP, 0x07)), BA07) Store (DerefOf(Index(TEMP, 0x08)), BA08) Store (DerefOf(Index(TEMP, 0x09)), BA09) Store (DerefOf(Index(TEMP, 0x0A)), BA0A) Store (DerefOf(Index(TEMP, 0x0B)), BA0B) Store (DerefOf(Index(TEMP, 0x0C)), BA0C) Store (DerefOf(Index(TEMP, 0x0D)), BA0D) Store (DerefOf(Index(TEMP, 0x0E)), BA0E) Store (DerefOf(Index(TEMP, 0x0F)), BA0F) Store (DerefOf(Index(TEMP, 0x10)), BA10) Store (DerefOf(Index(TEMP, 0x11)), BA11) Store (DerefOf(Index(TEMP, 0x12)), BA12) Store (DerefOf(Index(TEMP, 0x13)), BA13) Store (DerefOf(Index(TEMP, 0x14)), BA14) Store (DerefOf(Index(TEMP, 0x15)), BA15) Store (DerefOf(Index(TEMP, 0x16)), BA16) Store (DerefOf(Index(TEMP, 0x17)), BA17) Store (DerefOf(Index(TEMP, 0x18)), BA18) Store (DerefOf(Index(TEMP, 0x19)), BA19) Store (DerefOf(Index(TEMP, 0x1A)), BA1A) Store (DerefOf(Index(TEMP, 0x1B)), BA1B) Store (DerefOf(Index(TEMP, 0x1C)), BA1C) Store (DerefOf(Index(TEMP, 0x1D)), BA1D) Store (DerefOf(Index(TEMP, 0x1E)), BA1E) Store (DerefOf(Index(TEMP, 0x1F)), BA1F) } Method (RDBB, 0, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (BB00, Index(TEMP, 0x00)) Store (BB01, Index(TEMP, 0x01)) Store (BB02, Index(TEMP, 0x02)) Store (BB03, Index(TEMP, 0x03)) Store (BB04, Index(TEMP, 0x04)) Store (BB05, Index(TEMP, 0x05)) Store (BB06, Index(TEMP, 0x06)) Store (BB07, Index(TEMP, 0x07)) Store (BB08, Index(TEMP, 0x08)) Store (BB09, Index(TEMP, 0x09)) Store (BB0A, Index(TEMP, 0x0A)) Store (BB0B, Index(TEMP, 0x0B)) Store (BB0C, Index(TEMP, 0x0C)) Store (BB0D, Index(TEMP, 0x0D)) Store (BB0E, Index(TEMP, 0x0E)) Store (BB0F, Index(TEMP, 0x0F)) Store (BB10, Index(TEMP, 0x10)) Store (BB11, Index(TEMP, 0x11)) Store (BB12, Index(TEMP, 0x12)) Store (BB13, Index(TEMP, 0x13)) Store (BB14, Index(TEMP, 0x14)) Store (BB15, Index(TEMP, 0x15)) Store (BB16, Index(TEMP, 0x16)) Store (BB17, Index(TEMP, 0x17)) Store (BB18, Index(TEMP, 0x18)) Store (BB19, Index(TEMP, 0x19)) Store (BB1A, Index(TEMP, 0x1A)) Store (BB1B, Index(TEMP, 0x1B)) Store (BB1C, Index(TEMP, 0x1C)) Store (BB1D, Index(TEMP, 0x1D)) Store (BB1E, Index(TEMP, 0x1E)) Store (BB1F, Index(TEMP, 0x1F)) Return (TEMP) } Method (WRBB, 1, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (Arg0, TEMP) Store (DerefOf(Index(TEMP, 0x00)), BB00) Store (DerefOf(Index(TEMP, 0x01)), BB01) Store (DerefOf(Index(TEMP, 0x02)), BB02) Store (DerefOf(Index(TEMP, 0x03)), BB03) Store (DerefOf(Index(TEMP, 0x04)), BB04) Store (DerefOf(Index(TEMP, 0x05)), BB05) Store (DerefOf(Index(TEMP, 0x06)), BB06) Store (DerefOf(Index(TEMP, 0x07)), BB07) Store (DerefOf(Index(TEMP, 0x08)), BB08) Store (DerefOf(Index(TEMP, 0x09)), BB09) Store (DerefOf(Index(TEMP, 0x0A)), BB0A) Store (DerefOf(Index(TEMP, 0x0B)), BB0B) Store (DerefOf(Index(TEMP, 0x0C)), BB0C) Store (DerefOf(Index(TEMP, 0x0D)), BB0D) Store (DerefOf(Index(TEMP, 0x0E)), BB0E) Store (DerefOf(Index(TEMP, 0x0F)), BB0F) Store (DerefOf(Index(TEMP, 0x10)), BB10) Store (DerefOf(Index(TEMP, 0x11)), BB11) Store (DerefOf(Index(TEMP, 0x12)), BB12) Store (DerefOf(Index(TEMP, 0x13)), BB13) Store (DerefOf(Index(TEMP, 0x14)), BB14) Store (DerefOf(Index(TEMP, 0x15)), BB15) Store (DerefOf(Index(TEMP, 0x16)), BB16) Store (DerefOf(Index(TEMP, 0x17)), BB17) Store (DerefOf(Index(TEMP, 0x18)), BB18) Store (DerefOf(Index(TEMP, 0x19)), BB19) Store (DerefOf(Index(TEMP, 0x1A)), BB1A) Store (DerefOf(Index(TEMP, 0x1B)), BB1B) Store (DerefOf(Index(TEMP, 0x1C)), BB1C) Store (DerefOf(Index(TEMP, 0x1D)), BB1D) Store (DerefOf(Index(TEMP, 0x1E)), BB1E) Store (DerefOf(Index(TEMP, 0x1F)), BB1F) } } } } Notice how FBST and _BIX were added to scope _SB.PCI0.BAT0, but BIFA was added to _SB.PCI0.LPCB.EC0. It is important to inject all methods into their original scope.Now, we add SMBR, SMBW, ECSB, and TACH:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0)&#123; // patched methods Scope (_SB.PCI0) &#123; Scope (BAT0) &#123; Method (FBST, 4, NotSerialized) &#123; And (Arg1, 0xFFFF, Local1) Store (Zero, Local0) If (^^LPCB.EC0.ACAP ()) &#123; Store (One, Local0) &#125; If (Local0) &#123; If (CHGS (Zero))&#123; Store (0x02, Local0)&#125;Else&#123; Store (Zero, Local0)&#125; &#125; Else &#123; Store (One, Local0) &#125; If (BLLO) &#123; ShiftLeft (One, 0x02, Local2) Or (Local0, Local2, Local0) &#125; If (And (^^LPCB.EC0.EB0S, 0x08)) &#123; ShiftLeft (One, 0x02, Local2) Or (Local0, Local2, Local0) &#125; If (LGreaterEqual (Local1, 0x8000)) &#123; Subtract (0xFFFF, Local1, Local1) &#125; Store (Arg2, Local2) If (LEqual (PUNT, Zero)) &#123; Multiply (Local1, ^^LPCB.EC0.B0DV, Local1) Multiply (Local2, 0x0A, Local2) &#125; And (Local0, 0x02, Local3) If (LNot (Local3)) &#123; Subtract (LFCC, Local2, Local3) Divide (LFCC, 0xC8, Local4, Local5) If (LLess (Local3, Local5)) &#123; Store (LFCC, Local2) &#125; &#125; Else &#123; Divide (LFCC, 0xC8, Local4, Local5) Subtract (LFCC, Local5, Local4) If (LGreater (Local2, Local4)) &#123; Store (Local4, Local2) &#125; &#125; If (LNot (^^LPCB.EC0.ACAP ())) &#123; Divide (Local2, MBLF, Local3, Local4) If (LLess (Local1, Local4)) &#123; Store (Local4, Local1) &#125; &#125; Store (Local0, Index (PBST, Zero)) Store (Local1, Index (PBST, One)) Store (Local2, Index (PBST, 0x02)) Store (Arg3, Index (PBST, 0x03)) &#125; Method (_BIX, 0, NotSerialized) // _BIX: Battery Information Extended &#123; If (LNot (^^LPCB.EC0.BATP (Zero))) &#123; Return (NBIX) &#125; If (LEqual (^^LPCB.EC0.GBTT (Zero), 0xFF)) &#123; Return (NBIX) &#125; _BIF () Store (DerefOf (Index (PBIF, Zero)), Index (BIXT, One)) Store (DerefOf (Index (PBIF, One)), Index (BIXT, 0x02)) Store (DerefOf (Index (PBIF, 0x02)), Index (BIXT, 0x03)) Store (DerefOf (Index (PBIF, 0x03)), Index (BIXT, 0x04)) Store (DerefOf (Index (PBIF, 0x04)), Index (BIXT, 0x05)) Store (DerefOf (Index (PBIF, 0x05)), Index (BIXT, 0x06)) Store (DerefOf (Index (PBIF, 0x06)), Index (BIXT, 0x07)) Store (DerefOf (Index (PBIF, 0x07)), Index (BIXT, 0x0E)) Store (DerefOf (Index (PBIF, 0x08)), Index (BIXT, 0x0F)) Store (DerefOf (Index (PBIF, 0x09)), Index (BIXT, 0x10)) Store (DerefOf (Index (PBIF, 0x0A)), Index (BIXT, 0x11)) Store (DerefOf (Index (PBIF, 0x0B)), Index (BIXT, 0x12)) Store (DerefOf (Index (PBIF, 0x0C)), Index (BIXT, 0x13)) If (LEqual (DerefOf (Index (BIXT, One)), One)) &#123; Store (Zero, Index (BIXT, One)) Store (DerefOf (Index (BIXT, 0x05)), Local0) Multiply (DerefOf (Index (BIXT, 0x02)), Local0, Index (BIXT, 0x02)) Multiply (DerefOf (Index (BIXT, 0x03)), Local0, Index (BIXT, 0x03)) Multiply (DerefOf (Index (BIXT, 0x06)), Local0, Index (BIXT, 0x06)) Multiply (DerefOf (Index (BIXT, 0x07)), Local0, Index (BIXT, 0x07)) Multiply (DerefOf (Index (BIXT, 0x0E)), Local0, Index (BIXT, 0x0E)) Multiply (DerefOf (Index (BIXT, 0x0F)), Local0, Index (BIXT, 0x0F)) Divide (DerefOf (Index (BIXT, 0x02)), 0x03E8, Local0, Index (BIXT, 0x02)) Divide (DerefOf (Index (BIXT, 0x03)), 0x03E8, Local0, Index (BIXT, 0x03)) Divide (DerefOf (Index (BIXT, 0x06)), 0x03E8, Local0, Index (BIXT, 0x06)) Divide (DerefOf (Index (BIXT, 0x07)), 0x03E8, Local0, Index (BIXT, 0x07)) Divide (DerefOf (Index (BIXT, 0x0E)), 0x03E8, Local0, Index (BIXT, 0x0E)) Divide (DerefOf (Index (BIXT, 0x0F)), 0x03E8, Local0, Index (BIXT, 0x0F)) &#125; Store (B1B2(^^LPCB.EC0.XC30,^^LPCB.EC0.XC31), Index (BIXT, 0x08)) Store (0x0001869F, Index (BIXT, 0x09)) Return (BIXT) &#125; &#125; &#125; Scope (_SB.PCI0.LPCB.EC0) &#123; Method (BIFA, 0, NotSerialized) &#123; If (ECAV ()) &#123; If (BSLF) &#123; Store (B1B2(B1S0,B1S1), Local0) &#125; Else &#123; Store (B1B2(B0S0,B0S1), Local0) &#125; &#125; Else &#123; Store (Ones, Local0) &#125; Return (Local0) &#125; Method (SMBR, 3, Serialized) &#123; Store (Package (0x03) &#123; 0x07, Zero, Zero &#125;, Local0) If (LNot (ECAV ())) &#123; Return (Local0) &#125; If (LNotEqual (Arg0, RDBL)) &#123; If (LNotEqual (Arg0, RDWD)) &#123; If (LNotEqual (Arg0, RDBT)) &#123; If (LNotEqual (Arg0, RCBT)) &#123; If (LNotEqual (Arg0, RDQK)) &#123; Return (Local0) &#125; &#125; &#125; &#125; &#125; Acquire (MUEC, 0xFFFF) Store (PRTC, Local1) Store (Zero, Local2) While (LNotEqual (Local1, Zero)) &#123; Stall (0x0A) Increment (Local2) If (LGreater (Local2, 0x03E8)) &#123; Store (SBBY, Index (Local0, Zero)) Store (Zero, Local1) &#125; Else &#123; Store (PRTC, Local1) &#125; &#125; If (LLessEqual (Local2, 0x03E8)) &#123; ShiftLeft (Arg1, One, Local3) Or (Local3, One, Local3) Store (Local3, ADDR) If (LNotEqual (Arg0, RDQK)) &#123; If (LNotEqual (Arg0, RCBT)) &#123; Store (Arg2, CMDB) &#125; &#125; WRBA(Zero) Store (Arg0, PRTC) Store (SWTC (Arg0), Index (Local0, Zero)) If (LEqual (DerefOf (Index (Local0, Zero)), Zero)) &#123; If (LEqual (Arg0, RDBL)) &#123; Store (BCNT, Index (Local0, One)) Store (RDBA(), Index (Local0, 0x02)) &#125; If (LEqual (Arg0, RDWD)) &#123; Store (0x02, Index (Local0, One)) Store (B1B2(T2B0,T2B1), Index (Local0, 0x02)) &#125; If (LEqual (Arg0, RDBT)) &#123; Store (One, Index (Local0, One)) Store (DAT0, Index (Local0, 0x02)) &#125; If (LEqual (Arg0, RCBT)) &#123; Store (One, Index (Local0, One)) Store (DAT0, Index (Local0, 0x02)) &#125; &#125; &#125; Release (MUEC) Return (Local0) &#125; Method (SMBW, 5, Serialized) &#123; Store (Package (0x01) &#123; 0x07 &#125;, Local0) If (LNot (ECAV ())) &#123; Return (Local0) &#125; If (LNotEqual (Arg0, WRBL)) &#123; If (LNotEqual (Arg0, WRWD)) &#123; If (LNotEqual (Arg0, WRBT)) &#123; If (LNotEqual (Arg0, SDBT)) &#123; If (LNotEqual (Arg0, WRQK)) &#123; Return (Local0) &#125; &#125; &#125; &#125; &#125; Acquire (MUEC, 0xFFFF) Store (PRTC, Local1) Store (Zero, Local2) While (LNotEqual (Local1, Zero)) &#123; Stall (0x0A) Increment (Local2) If (LGreater (Local2, 0x03E8)) &#123; Store (SBBY, Index (Local0, Zero)) Store (Zero, Local1) &#125; Else &#123; Store (PRTC, Local1) &#125; &#125; If (LLessEqual (Local2, 0x03E8)) &#123; WRBA(Zero) ShiftLeft (Arg1, One, Local3) Store (Local3, ADDR) If (LNotEqual (Arg0, WRQK)) &#123; If (LNotEqual (Arg0, SDBT)) &#123; Store (Arg2, CMDB) &#125; &#125; If (LEqual (Arg0, WRBL)) &#123; Store (Arg3, BCNT) WRBA(Arg4) &#125; If (LEqual (Arg0, WRWD)) &#123; Store(Arg4,T2B0) Store(ShiftRight(Arg4,8),T2B1) &#125; If (LEqual (Arg0, WRBT)) &#123; Store (Arg4, DAT0) &#125; If (LEqual (Arg0, SDBT)) &#123; Store (Arg4, DAT0) &#125; Store (Arg0, PRTC) Store (SWTC (Arg0), Index (Local0, Zero)) &#125; Release (MUEC) Return (Local0) &#125; Method (ECSB, 7, NotSerialized) &#123; Store (Package (0x05) &#123; 0x11, Zero, Zero, Zero, Buffer (0x20)&#123;&#125; &#125;, Local1) If (LGreater (Arg0, One)) &#123; Return (Local1) &#125; If (ECAV ()) &#123; Acquire (MUEC, 0xFFFF) If (LEqual (Arg0, Zero)) &#123; Store (PRTC, Local0) &#125; Else &#123; Store (PRT2, Local0) &#125; Store (Zero, Local2) While (LNotEqual (Local0, Zero)) &#123; Stall (0x0A) Increment (Local2) If (LGreater (Local2, 0x03E8)) &#123; Store (SBBY, Index (Local1, Zero)) Store (Zero, Local0) &#125; ElseIf (LEqual (Arg0, Zero)) &#123; Store (PRTC, Local0) &#125; Else &#123; Store (PRT2, Local0) &#125; &#125; If (LLessEqual (Local2, 0x03E8)) &#123; If (LEqual (Arg0, Zero)) &#123; Store (Arg2, ADDR) Store (Arg3, CMDB) If (LOr (LEqual (Arg1, 0x0A), LEqual (Arg1, 0x0B))) &#123; Store (DerefOf (Index (Arg6, Zero)), BCNT) WRBA(DerefOf (Index (Arg6, One))) &#125; Else &#123; Store (Arg4, DAT0) Store (Arg5, DAT1) &#125; Store (Arg1, PRTC) &#125; Else &#123; Store (Arg2, ADD2) Store (Arg3, CMD2) If (LOr (LEqual (Arg1, 0x0A), LEqual (Arg1, 0x0B))) &#123; Store (DerefOf (Index (Arg6, Zero)), BCN2) WRBB(DerefOf (Index (Arg6, One))) &#125; Else &#123; Store (Arg4, DA20) Store (Arg5, DA21) &#125; Store (Arg1, PRT2) &#125; Store (0x7F, Local0) If (LEqual (Arg0, Zero)) &#123; While (PRTC) &#123; Sleep (One) Decrement (Local0) &#125; &#125; Else &#123; While (PRT2) &#123; Sleep (One) Decrement (Local0) &#125; &#125; If (Local0) &#123; If (LEqual (Arg0, Zero)) &#123; Store (SSTS, Local0) Store (DAT0, Index (Local1, One)) Store (DAT1, Index (Local1, 0x02)) Store (BCNT, Index (Local1, 0x03)) Store (RDBA(), Index (Local1, 0x04)) &#125; Else &#123; Store (SST2, Local0) Store (DA20, Index (Local1, One)) Store (DA21, Index (Local1, 0x02)) Store (BCN2, Index (Local1, 0x03)) Store (RDBB(), Index (Local1, 0x04)) &#125; And (Local0, 0x1F, Local0) If (Local0) &#123; Add (Local0, 0x10, Local0) &#125; Store (Local0, Index (Local1, Zero)) &#125; Else &#123; Store (0x10, Index (Local1, Zero)) &#125; &#125; Release (MUEC) &#125; Return (Local1) &#125; Method (TACH, 1, Serialized) &#123; If (ECAV ()) &#123; Switch (Arg0) &#123; Case (Zero) &#123; Store (B1B2(TH00,TH01), Local0) Break &#125; Case (One) &#123; Store (B1B2(TH10,TH11), Local0) Break &#125; Default &#123; Return (Ones) &#125; &#125; Multiply (Local0, 0x02, Local0) If (LNotEqual (Local0, Zero)) &#123; Divide (0x0041CDB4, Local0, Local1, Local0) Return (Local0) &#125; Else &#123; Return (Ones) &#125; &#125; Else &#123; Return (Ones) &#125; &#125; &#125; Method (B1B2, 2, NotSerialized) &#123; Return (Or (Arg0, ShiftLeft (Arg1, 8))) &#125; // added methods (group 2) Scope (_SB.PCI0.LPCB) &#123; Scope (EC0) &#123; Method (RDBA, 0, Serialized) &#123; Name (TEMP, Buffer(0x20) &#123; &#125;) Store (BA00, Index(TEMP, 0x00)) Store (BA01, Index(TEMP, 0x01)) Store (BA02, Index(TEMP, 0x02)) Store (BA03, Index(TEMP, 0x03)) Store (BA04, Index(TEMP, 0x04)) Store (BA05, Index(TEMP, 0x05)) Store (BA06, Index(TEMP, 0x06)) Store (BA07, Index(TEMP, 0x07)) Store (BA08, Index(TEMP, 0x08)) Store (BA09, Index(TEMP, 0x09)) Store (BA0A, Index(TEMP, 0x0A)) Store (BA0B, Index(TEMP, 0x0B)) Store (BA0C, Index(TEMP, 0x0C)) Store (BA0D, Index(TEMP, 0x0D)) Store (BA0E, Index(TEMP, 0x0E)) Store (BA0F, Index(TEMP, 0x0F)) Store (BA10, Index(TEMP, 0x10)) Store (BA11, Index(TEMP, 0x11)) Store (BA12, Index(TEMP, 0x12)) Store (BA13, Index(TEMP, 0x13)) Store (BA14, Index(TEMP, 0x14)) Store (BA15, Index(TEMP, 0x15)) Store (BA16, Index(TEMP, 0x16)) Store (BA17, Index(TEMP, 0x17)) Store (BA18, Index(TEMP, 0x18)) Store (BA19, Index(TEMP, 0x19)) Store (BA1A, Index(TEMP, 0x1A)) Store (BA1B, Index(TEMP, 0x1B)) Store (BA1C, Index(TEMP, 0x1C)) Store (BA1D, Index(TEMP, 0x1D)) Store (BA1E, Index(TEMP, 0x1E)) Store (BA1F, Index(TEMP, 0x1F)) Return (TEMP) &#125; Method (WRBA, 1, Serialized) &#123; Name (TEMP, Buffer(0x20) &#123; &#125;) Store (Arg0, TEMP) Store (DerefOf(Index(TEMP, 0x00)), BA00) Store (DerefOf(Index(TEMP, 0x01)), BA01) Store (DerefOf(Index(TEMP, 0x02)), BA02) Store (DerefOf(Index(TEMP, 0x03)), BA03) Store (DerefOf(Index(TEMP, 0x04)), BA04) Store (DerefOf(Index(TEMP, 0x05)), BA05) Store (DerefOf(Index(TEMP, 0x06)), BA06) Store (DerefOf(Index(TEMP, 0x07)), BA07) Store (DerefOf(Index(TEMP, 0x08)), BA08) Store (DerefOf(Index(TEMP, 0x09)), BA09) Store (DerefOf(Index(TEMP, 0x0A)), BA0A) Store (DerefOf(Index(TEMP, 0x0B)), BA0B) Store (DerefOf(Index(TEMP, 0x0C)), BA0C) Store (DerefOf(Index(TEMP, 0x0D)), BA0D) Store (DerefOf(Index(TEMP, 0x0E)), BA0E) Store (DerefOf(Index(TEMP, 0x0F)), BA0F) Store (DerefOf(Index(TEMP, 0x10)), BA10) Store (DerefOf(Index(TEMP, 0x11)), BA11) Store (DerefOf(Index(TEMP, 0x12)), BA12) Store (DerefOf(Index(TEMP, 0x13)), BA13) Store (DerefOf(Index(TEMP, 0x14)), BA14) Store (DerefOf(Index(TEMP, 0x15)), BA15) Store (DerefOf(Index(TEMP, 0x16)), BA16) Store (DerefOf(Index(TEMP, 0x17)), BA17) Store (DerefOf(Index(TEMP, 0x18)), BA18) Store (DerefOf(Index(TEMP, 0x19)), BA19) Store (DerefOf(Index(TEMP, 0x1A)), BA1A) Store (DerefOf(Index(TEMP, 0x1B)), BA1B) Store (DerefOf(Index(TEMP, 0x1C)), BA1C) Store (DerefOf(Index(TEMP, 0x1D)), BA1D) Store (DerefOf(Index(TEMP, 0x1E)), BA1E) Store (DerefOf(Index(TEMP, 0x1F)), BA1F) &#125; Method (RDBB, 0, Serialized) &#123; Name (TEMP, Buffer(0x20) &#123; &#125;) Store (BB00, Index(TEMP, 0x00)) Store (BB01, Index(TEMP, 0x01)) Store (BB02, Index(TEMP, 0x02)) Store (BB03, Index(TEMP, 0x03)) Store (BB04, Index(TEMP, 0x04)) Store (BB05, Index(TEMP, 0x05)) Store (BB06, Index(TEMP, 0x06)) Store (BB07, Index(TEMP, 0x07)) Store (BB08, Index(TEMP, 0x08)) Store (BB09, Index(TEMP, 0x09)) Store (BB0A, Index(TEMP, 0x0A)) Store (BB0B, Index(TEMP, 0x0B)) Store (BB0C, Index(TEMP, 0x0C)) Store (BB0D, Index(TEMP, 0x0D)) Store (BB0E, Index(TEMP, 0x0E)) Store (BB0F, Index(TEMP, 0x0F)) Store (BB10, Index(TEMP, 0x10)) Store (BB11, Index(TEMP, 0x11)) Store (BB12, Index(TEMP, 0x12)) Store (BB13, Index(TEMP, 0x13)) Store (BB14, Index(TEMP, 0x14)) Store (BB15, Index(TEMP, 0x15)) Store (BB16, Index(TEMP, 0x16)) Store (BB17, Index(TEMP, 0x17)) Store (BB18, Index(TEMP, 0x18)) Store (BB19, Index(TEMP, 0x19)) Store (BB1A, Index(TEMP, 0x1A)) Store (BB1B, Index(TEMP, 0x1B)) Store (BB1C, Index(TEMP, 0x1C)) Store (BB1D, Index(TEMP, 0x1D)) Store (BB1E, Index(TEMP, 0x1E)) Store (BB1F, Index(TEMP, 0x1F)) Return (TEMP) &#125; Method (WRBB, 1, Serialized) &#123; Name (TEMP, Buffer(0x20) &#123; &#125;) Store (Arg0, TEMP) Store (DerefOf(Index(TEMP, 0x00)), BB00) Store (DerefOf(Index(TEMP, 0x01)), BB01) Store (DerefOf(Index(TEMP, 0x02)), BB02) Store (DerefOf(Index(TEMP, 0x03)), BB03) Store (DerefOf(Index(TEMP, 0x04)), BB04) Store (DerefOf(Index(TEMP, 0x05)), BB05) Store (DerefOf(Index(TEMP, 0x06)), BB06) Store (DerefOf(Index(TEMP, 0x07)), BB07) Store (DerefOf(Index(TEMP, 0x08)), BB08) Store (DerefOf(Index(TEMP, 0x09)), BB09) Store (DerefOf(Index(TEMP, 0x0A)), BB0A) Store (DerefOf(Index(TEMP, 0x0B)), BB0B) Store (DerefOf(Index(TEMP, 0x0C)), BB0C) Store (DerefOf(Index(TEMP, 0x0D)), BB0D) Store (DerefOf(Index(TEMP, 0x0E)), BB0E) Store (DerefOf(Index(TEMP, 0x0F)), BB0F) Store (DerefOf(Index(TEMP, 0x10)), BB10) Store (DerefOf(Index(TEMP, 0x11)), BB11) Store (DerefOf(Index(TEMP, 0x12)), BB12) Store (DerefOf(Index(TEMP, 0x13)), BB13) Store (DerefOf(Index(TEMP, 0x14)), BB14) Store (DerefOf(Index(TEMP, 0x15)), BB15) Store (DerefOf(Index(TEMP, 0x16)), BB16) Store (DerefOf(Index(TEMP, 0x17)), BB17) Store (DerefOf(Index(TEMP, 0x18)), BB18) Store (DerefOf(Index(TEMP, 0x19)), BB19) Store (DerefOf(Index(TEMP, 0x1A)), BB1A) Store (DerefOf(Index(TEMP, 0x1B)), BB1B) Store (DerefOf(Index(TEMP, 0x1C)), BB1C) Store (DerefOf(Index(TEMP, 0x1D)), BB1D) Store (DerefOf(Index(TEMP, 0x1E)), BB1E) Store (DerefOf(Index(TEMP, 0x1F)), BB1F) &#125; &#125; &#125;&#125;With all the nodes expanded in MaciASL, our work looks like this:Resolving errorsNow we need to start resolving errors by using External or defining the patched EC fields as necessary.We can use the compiler to help.Clicking Compile will show the first error: â€œ3, 6085, Object not found or not accessible from scope (_SB.PCI0)â€It is at this line:Scope (_SB.PCI0) The compiler is indicating that _SB.PCI0 is not declared, so you canâ€™t use it in a Scope operator.We need to declare it with External, as the scope is actually defined in another file (DSDT.aml):Add it to the top of the file:123456DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0)&#123; External(_SB.PCI0, DeviceObj) Scope (_SB.PCI0) &#123;...Now the next error is at â€œScope(BAT0)â€, so, again:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0) { External(_SB.PCI0, DeviceObj) External(_SB.PCI0.BAT0, DeviceObj) Scope (_SB.PCI0) { Scope (BAT0) { ... The next error is â€œ13, 6085, Object not found or not accessible from scope (^^LPCB.EC0.ACAP)â€We can tell from the code referencing ACAP that it is a method:If (^^LPCB.EC0.ACAP ()) Note: Method calls are indicated by the â€œ()â€ (in this case, an empty parameter list).So, we know we can add an External as MethodObj:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0) { External(_SB.PCI0, DeviceObj) External(_SB.PCI0.BAT0, DeviceObj) External(_SB.PCI0.LPCB.EC0.ACAP, MethodObj) ... } Note: The path ^^LPCB.EC0.ACAP is equivalent to _SB.PCI0.LPCB.EC0.ACAP because the reference was in scope _SB.PCI0.BAT0.FBST (the path of the FBST method). Each ^ (parent of) operator walks up the current scope by one item, so ^ is _SB.PCI0.BAT0, and ^^ is _SB.PCI0.In some cases, you need to look at the DSDT to find the path and/or type of a given identifier. For example, the next error has to do with CHGS. Again, we know it is a method as it is the target of a method call, but for the path, we must refer to the DSDT:Code (Text):Scope (\\) { Method (CHGS, 1, Serialized) { Store (\\_SB.PCI0.LPCB.EC0.BCHG (Arg0), Local0) Return (Local0) } So, it is in the root:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0) { External(_SB.PCI0, DeviceObj) External(_SB.PCI0.BAT0, DeviceObj) External(_SB.PCI0.LPCB.EC0.ACAP, MethodObj) External(CHGS, MethodObj) ... The next undefined symbol, BLLO, is something other than a method:If (BLLO) { Looking in DSDT, we find it is defined with Name (and it happens to be in root scope):Name (BLLO, Zero) Which makes it an IntObj:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0) { External(_SB.PCI0, DeviceObj) External(_SB.PCI0.BAT0, DeviceObj) External(_SB.PCI0.LPCB.EC0.ACAP, MethodObj) External(CHGS, MethodObj) External(BLLO, IntObj) ... Fixing all the errors in the FBST method:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0) { External(_SB.PCI0, DeviceObj) External(_SB.PCI0.BAT0, DeviceObj) External(_SB.PCI0.LPCB.EC0.ACAP, MethodObj) External(CHGS, MethodObj) External(BLLO, IntObj) External(_SB.PCI0.LPCB.EC0.EB0S, FieldUnitObj) External(_SB.PCI0.BAT0.PUNT, IntObj) External(_SB.PCI0.LPCB.EC0.B0DV, FieldUnitObj) External(_SB.PCI0.BAT0.LFCC, IntObj) External(MBLF, IntObj) External(_SB.PCI0.BAT0.PBST, PkgObj) ... And now continue with the same process.Eventually, you will have:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0) { External(_SB.PCI0, DeviceObj) External(_SB.PCI0.BAT0, DeviceObj) External(_SB.PCI0.LPCB.EC0.ACAP, MethodObj) External(CHGS, MethodObj) External(BLLO, IntObj) External(_SB.PCI0.LPCB.EC0.EB0S, FieldUnitObj) External(_SB.PCI0.BAT0.PUNT, IntObj) External(_SB.PCI0.LPCB.EC0.B0DV, FieldUnitObj) External(_SB.PCI0.BAT0.LFCC, IntObj) External(MBLF, IntObj) External(_SB.PCI0.BAT0.PBST, PkgObj) External(_SB.PCI0.LPCB.EC0.BATP, MethodObj) External(_SB.PCI0.BAT0.NBIX, PkgObj) External(_SB.PCI0.LPCB.EC0.GBTT, MethodObj) External(_SB.PCI0.BAT0._BIF, MethodObj) External(_SB.PCI0.BAT0.PBIF, PkgObj) External(_SB.PCI0.BAT0.BIXT, PkgObj) ... And will come to an error with XC30/XC31: â€œ153, 6085, Object not found or not accessible from scope (^^LPCB.EC0.XC30)â€This is one of the 16-bit fields that was broken into two.And this is where it is necessary to create the EC overlay.To do this, we use another OperationRegion within EC scope, that has a different name than what we find in DSDT:External(_SB.PCI0.LPCB, DeviceObj) External(_SB.PCI0.LPCB.EC0, DeviceObj) Scope(_SB.PCI0.LPCB.EC0) { OperationRegion (ERM2, EmbeddedControl, Zero, 0xFF) Field(ERM2, ByteAcc, NoLock, Preserve) { } } And from DSDT_patched.dsl, we can get the various patched fields (again refer to the diffmerge).This is the entire set from ECOR in the DSDT_patched.dslOffset (0x04), CMD1, 8, CDT1, 8, CDT2, 8, CDT3, 8, Offset (0x80), Offset (0x81), Offset (0x82), Offset (0x83), EB0R, 8, EB1R, 8, EPWF, 8, Offset (0x87), Offset (0x88), Offset (0x89), Offset (0x8A), HKEN, 1, Offset (0x93), TH00,8,TH01,8, TH10,8,TH11,8, TSTP, 8, Offset (0x9C), CDT4, 8, CDT5, 8, Offset (0xA0), Offset (0xA1), Offset (0xA2), Offset (0xA3), EACT, 8, TH1R, 8, TH1L, 8, TH0R, 8, TH0L, 8, Offset (0xB0), B0PN, 16, Offset (0xB4), Offset (0xB6), Offset (0xB8), Offset (0xBA), Offset (0xBC), Offset (0xBE), B0TM, 16, B0C1, 16, B0C2, 16, XC30,8,XC31,8, B0C4, 16, Offset (0xD0), B1PN, 16, Offset (0xD4), Offset (0xD6), Offset (0xD8), Offset (0xDA), Offset (0xDC), Offset (0xDE), B1TM, 16, B1C1, 16, B1C2, 16, YC30,8,YC31,8, B1C4, 16, Offset (0xF0), Offset (0xF2), Offset (0xF4), B0S0,8,B0S1,8, Offset (0xF8), Offset (0xFA), Offset (0xFC), B1S0,8,B1S1,8 And if we strip the unpatched identifiers, but keep the offsets correct (very important!):Offset (0x93), TH00,8,TH01,8, TH10,8,TH11,8, Offset (0xBE), /*B0TM*/, 16, /*B0C1*/, 16, /*B0C2*/, 16, XC30,8,XC31,8, Offset (0xDE), /*B1TM*/, 16, /*B1C1*/, 16, /*B1C2*/, 16, YC30,8,YC31,8, Offset (0xF4), B0S0,8,B0S1,8, Offset (0xFC), B1S0,8,B1S1,8 The same thing can be written as follows:Offset (0x93), TH00,8,TH01,8, TH10,8,TH11,8, Offset (0xc4), XC30,8,XC31,8, Offset (0xe4), YC30,8,YC31,8, Offset (0xF4), B0S0,8,B0S1,8, Offset (0xFC), B1S0,8,B1S1,8 So, into our SSDT:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0) { External(_SB.PCI0, DeviceObj) External(_SB.PCI0.BAT0, DeviceObj) External(_SB.PCI0.LPCB.EC0.ACAP, MethodObj) External(CHGS, MethodObj) External(BLLO, IntObj) External(_SB.PCI0.LPCB.EC0.EB0S, FieldUnitObj) External(_SB.PCI0.BAT0.PUNT, IntObj) External(_SB.PCI0.LPCB.EC0.B0DV, FieldUnitObj) External(_SB.PCI0.BAT0.LFCC, IntObj) External(MBLF, IntObj) External(_SB.PCI0.BAT0.PBST, PkgObj) External(_SB.PCI0.LPCB.EC0.BATP, MethodObj) External(_SB.PCI0.BAT0.NBIX, PkgObj) External(_SB.PCI0.LPCB.EC0.GBTT, MethodObj) External(_SB.PCI0.BAT0._BIF, MethodObj) External(_SB.PCI0.BAT0.PBIF, PkgObj) External(_SB.PCI0.BAT0.BIXT, PkgObj) External(_SB.PCI0.LPCB, DeviceObj) External(_SB.PCI0.LPCB.EC0, DeviceObj) Scope(_SB.PCI0.LPCB.EC0) { OperationRegion (ERM2, EmbeddedControl, Zero, 0xFF) Field(ERM2, ByteAcc, NoLock, Preserve) { Offset (0x93), TH00,8,TH01,8, TH10,8,TH11,8, Offset (0xc4), XC30,8,XC31,8, Offset (0xe4), YC30,8,YC31,8, Offset (0xF4), B0S0,8,B0S1,8, Offset (0xFC), B1S0,8,B1S1,8 } } And then on to fixing more errors, we add some more External:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0) { External(_SB.PCI0, DeviceObj) External(_SB.PCI0.BAT0, DeviceObj) External(_SB.PCI0.LPCB.EC0.ACAP, MethodObj) External(CHGS, MethodObj) External(BLLO, IntObj) External(_SB.PCI0.LPCB.EC0.EB0S, FieldUnitObj) External(_SB.PCI0.BAT0.PUNT, IntObj) External(_SB.PCI0.LPCB.EC0.B0DV, FieldUnitObj) External(_SB.PCI0.BAT0.LFCC, IntObj) External(MBLF, IntObj) External(_SB.PCI0.BAT0.PBST, PkgObj) External(_SB.PCI0.LPCB.EC0.BATP, MethodObj) External(_SB.PCI0.BAT0.NBIX, PkgObj) External(_SB.PCI0.LPCB.EC0.GBTT, MethodObj) External(_SB.PCI0.BAT0._BIF, MethodObj) External(_SB.PCI0.BAT0.PBIF, PkgObj) External(_SB.PCI0.BAT0.BIXT, PkgObj) External(_SB.PCI0.LPCB.EC0.ECAV, MethodObj) External(BSLF, IntObj) External(_SB.PCI0.LPCB.EC0.RDBL, IntObj) External(_SB.PCI0.LPCB.EC0.RDWD, IntObj) External(_SB.PCI0.LPCB.EC0.RDBT, IntObj) External(_SB.PCI0.LPCB.EC0.RCBT, IntObj) External(_SB.PCI0.LPCB.EC0.RDQK, IntObj) External(_SB.PCI0.LPCB.EC0.MUEC, MutexObj) External(_SB.PCI0.LPCB.EC0.PRTC, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.SBBY, IntObj) External(_SB.PCI0.LPCB.EC0.ADDR, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.CMDB, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.SWTC, MethodObj) External(_SB.PCI0.LPCB.EC0.BCNT, FieldUnitObj) External(_SB.PCI0.LPCB, DeviceObj) External(_SB.PCI0.LPCB.EC0, DeviceObj) Scope(_SB.PCI0.LPCB.EC0) { ... And then we have errors with T2B0 and T2B1. These are again broken down 16-bit EC fields that need to be defined in our EC overlay. In fact, might as well define the rest we know we need (from diffmerge data).There is patched data in SMBX:OperationRegion (SMBX, EmbeddedControl, 0x18, 0x28) So, we create a similar overlay, with a unique name: OperationRegion (RMB1, EmbeddedControl, 0x18, 0x28) Field (RMB1, ByteAcc, NoLock, Preserve) { /* Note: disabling these fields (already defined in DSDT, referenced with External if needed, but keeping the correct offset! (very important!) */ */ PRTC, 8, SSTS, 5, , 1, ALFG, 1, CDFG, 1, ADDR, 8, CMDB, 8, */ Offset(4), // the data above is 4 bytes offset from the start of this region! //BDAT, 256, BA00,8,BA01,8,BA02,8,BA03,8, BA04,8,BA05,8,BA06,8,BA07,8, BA08,8,BA09,8,BA0A,8,BA0B,8, BA0C,8,BA0D,8,BA0E,8,BA0F,8, BA10,8,BA11,8,BA12,8,BA13,8, BA14,8,BA15,8,BA16,8,BA17,8, BA18,8,BA19,8,BA1A,8,BA1B,8, BA1C,8,BA1D,8,BA1E,8,BA1F,8 } And similar withe SMB2 region: OperationRegion(RMB2, EmbeddedControl, 0x40, 0x28) Field (RMB2, ByteAcc, NoLock, Preserve) { /* PRT2, 8, SST2, 5, , 1, ALF2, 1, CDF2, 1, ADD2, 8, CMD2, 8, */ Offset(4), //BDA2, 256, BB00,8,BB01,8,BB02,8,BB03,8, BB04,8,BB05,8,BB06,8,BB07,8, BB08,8,BB09,8,BB0A,8,BB0B,8, BB0C,8,BB0D,8,BB0E,8,BB0F,8, BB10,8,BB11,8,BB12,8,BB13,8, BB14,8,BB15,8,BB16,8,BB17,8, BB18,8,BB19,8,BB1A,8,BB1B,8, BB1C,8,BB1D,8,BB1E,8,BB1F,8 } And the T2B0 and T2B1 that are in orginal SMBX, but now RMB1:Field (RMB1, ByteAcc, NoLock, Preserve) { Offset (0x04), T2B0,8,T2B1,8 } And now we have:External(_SB.PCI0, DeviceObj) External(_SB.PCI0.BAT0, DeviceObj) External(_SB.PCI0.LPCB.EC0.ACAP, MethodObj) External(CHGS, MethodObj) External(BLLO, IntObj) External(_SB.PCI0.LPCB.EC0.EB0S, FieldUnitObj) External(_SB.PCI0.BAT0.PUNT, IntObj) External(_SB.PCI0.LPCB.EC0.B0DV, FieldUnitObj) External(_SB.PCI0.BAT0.LFCC, IntObj) External(MBLF, IntObj) External(_SB.PCI0.BAT0.PBST, PkgObj) External(_SB.PCI0.LPCB.EC0.BATP, MethodObj) External(_SB.PCI0.BAT0.NBIX, PkgObj) External(_SB.PCI0.LPCB.EC0.GBTT, MethodObj) External(_SB.PCI0.BAT0._BIF, MethodObj) External(_SB.PCI0.BAT0.PBIF, PkgObj) External(_SB.PCI0.BAT0.BIXT, PkgObj) External(_SB.PCI0.LPCB.EC0.ECAV, MethodObj) External(BSLF, IntObj) External(_SB.PCI0.LPCB.EC0.RDBL, IntObj) External(_SB.PCI0.LPCB.EC0.RDWD, IntObj) External(_SB.PCI0.LPCB.EC0.RDBT, IntObj) External(_SB.PCI0.LPCB.EC0.RCBT, IntObj) External(_SB.PCI0.LPCB.EC0.RDQK, IntObj) External(_SB.PCI0.LPCB.EC0.MUEC, MutexObj) External(_SB.PCI0.LPCB.EC0.PRTC, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.SBBY, IntObj) External(_SB.PCI0.LPCB.EC0.ADDR, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.CMDB, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.SWTC, MethodObj) External(_SB.PCI0.LPCB.EC0.BCNT, FieldUnitObj) External(_SB.PCI0.LPCB, DeviceObj) External(_SB.PCI0.LPCB.EC0, DeviceObj) Scope(_SB.PCI0.LPCB.EC0) { OperationRegion (ERM2, EmbeddedControl, Zero, 0xFF) Field(ERM2, ByteAcc, NoLock, Preserve) { Offset (0x93), TH00,8,TH01,8, TH10,8,TH11,8, Offset (0xc4), XC30,8,XC31,8, Offset (0xe4), YC30,8,YC31,8, Offset (0xF4), B0S0,8,B0S1,8, Offset (0xFC), B1S0,8,B1S1,8 } OperationRegion (RMB1, EmbeddedControl, 0x18, 0x28) Field (RMB1, ByteAcc, NoLock, Preserve) { /* Note: disabling these fields (already defined in DSDT, referenced with External if needed, but keeping the correct offset! (very important!) */ */ PRTC, 8, SSTS, 5, , 1, ALFG, 1, CDFG, 1, ADDR, 8, CMDB, 8, */ Offset(4), // the data above is 4 bytes offset from the start of this region! //BDAT, 256, BA00,8,BA01,8,BA02,8,BA03,8, BA04,8,BA05,8,BA06,8,BA07,8, BA08,8,BA09,8,BA0A,8,BA0B,8, BA0C,8,BA0D,8,BA0E,8,BA0F,8, BA10,8,BA11,8,BA12,8,BA13,8, BA14,8,BA15,8,BA16,8,BA17,8, BA18,8,BA19,8,BA1A,8,BA1B,8, BA1C,8,BA1D,8,BA1E,8,BA1F,8 } OperationRegion(RMB2, EmbeddedControl, 0x40, 0x28) Field (RMB2, ByteAcc, NoLock, Preserve) { /* PRT2, 8, SST2, 5, , 1, ALF2, 1, CDF2, 1, ADD2, 8, CMD2, 8, */ Offset(4), //BDA2, 256, BB00,8,BB01,8,BB02,8,BB03,8, BB04,8,BB05,8,BB06,8,BB07,8, BB08,8,BB09,8,BB0A,8,BB0B,8, BB0C,8,BB0D,8,BB0E,8,BB0F,8, BB10,8,BB11,8,BB12,8,BB13,8, BB14,8,BB15,8,BB16,8,BB17,8, BB18,8,BB19,8,BB1A,8,BB1B,8, BB1C,8,BB1D,8,BB1E,8,BB1F,8 } Field (RMB1, ByteAcc, NoLock, Preserve) { Offset (0x04), T2B0,8,T2B1,8 } } Then continue on with fixing more errors with External (it ends eventually!), by adding these External declarations:External(_SB.PCI0.LPCB.EC0.DAT0, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.WRBL, IntObj) External(_SB.PCI0.LPCB.EC0.WRWD, IntObj) External(_SB.PCI0.LPCB.EC0.WRBT, IntObj) External(_SB.PCI0.LPCB.EC0.SDBT, IntObj) External(_SB.PCI0.LPCB.EC0.WRQK, IntObj) External(_SB.PCI0.LPCB.EC0.PRT2, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.DAT1, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.ADD2, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.CMD2, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.BCN2, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.DA20, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.DA21, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.SSTS, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.SST2, FieldUnitObj) Note: With DAT0, donâ€™t be confused at the â€œotherâ€ DAT0 in a different scope!At this point, the SSDT compiles without any errors:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;batt&quot;, 0) { External(_SB.PCI0, DeviceObj) External(_SB.PCI0.BAT0, DeviceObj) External(_SB.PCI0.LPCB.EC0.ACAP, MethodObj) External(CHGS, MethodObj) External(BLLO, IntObj) External(_SB.PCI0.LPCB.EC0.EB0S, FieldUnitObj) External(_SB.PCI0.BAT0.PUNT, IntObj) External(_SB.PCI0.LPCB.EC0.B0DV, FieldUnitObj) External(_SB.PCI0.BAT0.LFCC, IntObj) External(MBLF, IntObj) External(_SB.PCI0.BAT0.PBST, PkgObj) External(_SB.PCI0.LPCB.EC0.BATP, MethodObj) External(_SB.PCI0.BAT0.NBIX, PkgObj) External(_SB.PCI0.LPCB.EC0.GBTT, MethodObj) External(_SB.PCI0.BAT0._BIF, MethodObj) External(_SB.PCI0.BAT0.PBIF, PkgObj) External(_SB.PCI0.BAT0.BIXT, PkgObj) External(_SB.PCI0.LPCB.EC0.ECAV, MethodObj) External(BSLF, IntObj) External(_SB.PCI0.LPCB.EC0.RDBL, IntObj) External(_SB.PCI0.LPCB.EC0.RDWD, IntObj) External(_SB.PCI0.LPCB.EC0.RDBT, IntObj) External(_SB.PCI0.LPCB.EC0.RCBT, IntObj) External(_SB.PCI0.LPCB.EC0.RDQK, IntObj) External(_SB.PCI0.LPCB.EC0.MUEC, MutexObj) External(_SB.PCI0.LPCB.EC0.PRTC, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.SBBY, IntObj) External(_SB.PCI0.LPCB.EC0.ADDR, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.CMDB, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.SWTC, MethodObj) External(_SB.PCI0.LPCB.EC0.BCNT, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.DAT0, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.WRBL, IntObj) External(_SB.PCI0.LPCB.EC0.WRWD, IntObj) External(_SB.PCI0.LPCB.EC0.WRBT, IntObj) External(_SB.PCI0.LPCB.EC0.SDBT, IntObj) External(_SB.PCI0.LPCB.EC0.WRQK, IntObj) External(_SB.PCI0.LPCB.EC0.PRT2, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.DAT1, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.ADD2, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.CMD2, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.BCN2, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.DA20, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.DA21, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.SSTS, FieldUnitObj) External(_SB.PCI0.LPCB.EC0.SST2, FieldUnitObj) External(_SB.PCI0.LPCB, DeviceObj) External(_SB.PCI0.LPCB.EC0, DeviceObj) Scope(_SB.PCI0.LPCB.EC0) { OperationRegion (ERM2, EmbeddedControl, Zero, 0xFF) Field(ERM2, ByteAcc, NoLock, Preserve) { Offset (0x93), TH00,8,TH01,8, TH10,8,TH11,8, Offset (0xc4), XC30,8,XC31,8, Offset (0xe4), YC30,8,YC31,8, Offset (0xF4), B0S0,8,B0S1,8, Offset (0xFC), B1S0,8,B1S1,8 } OperationRegion (RMB1, EmbeddedControl, 0x18, 0x28) Field (RMB1, ByteAcc, NoLock, Preserve) { /* Note: disabling these fields (already defined in DSDT, referenced with External if needed, but keeping the correct offset! (very important!) */ */ PRTC, 8, SSTS, 5, , 1, ALFG, 1, CDFG, 1, ADDR, 8, CMDB, 8, */ Offset(4), // the data above is 4 bytes offset from the start of this region! //BDAT, 256, BA00,8,BA01,8,BA02,8,BA03,8, BA04,8,BA05,8,BA06,8,BA07,8, BA08,8,BA09,8,BA0A,8,BA0B,8, BA0C,8,BA0D,8,BA0E,8,BA0F,8, BA10,8,BA11,8,BA12,8,BA13,8, BA14,8,BA15,8,BA16,8,BA17,8, BA18,8,BA19,8,BA1A,8,BA1B,8, BA1C,8,BA1D,8,BA1E,8,BA1F,8 } OperationRegion(RMB2, EmbeddedControl, 0x40, 0x28) Field (RMB2, ByteAcc, NoLock, Preserve) { /* PRT2, 8, SST2, 5, , 1, ALF2, 1, CDF2, 1, ADD2, 8, CMD2, 8, */ Offset(4), //BDA2, 256, BB00,8,BB01,8,BB02,8,BB03,8, BB04,8,BB05,8,BB06,8,BB07,8, BB08,8,BB09,8,BB0A,8,BB0B,8, BB0C,8,BB0D,8,BB0E,8,BB0F,8, BB10,8,BB11,8,BB12,8,BB13,8, BB14,8,BB15,8,BB16,8,BB17,8, BB18,8,BB19,8,BB1A,8,BB1B,8, BB1C,8,BB1D,8,BB1E,8,BB1F,8 } Field (RMB1, ByteAcc, NoLock, Preserve) { Offset (0x04), T2B0,8,T2B1,8 } } Scope (_SB.PCI0) { Scope (BAT0) { Method (FBST, 4, NotSerialized) { And (Arg1, 0xFFFF, Local1) Store (Zero, Local0) If (^^LPCB.EC0.ACAP ()) { Store (One, Local0) } If (Local0) { If (CHGS (Zero)) { Store (0x02, Local0) } Else { Store (Zero, Local0) } } Else { Store (One, Local0) } If (BLLO) { ShiftLeft (One, 0x02, Local2) Or (Local0, Local2, Local0) } If (And (^^LPCB.EC0.EB0S, 0x08)) { ShiftLeft (One, 0x02, Local2) Or (Local0, Local2, Local0) } If (LGreaterEqual (Local1, 0x8000)) { Subtract (0xFFFF, Local1, Local1) } Store (Arg2, Local2) If (LEqual (PUNT, Zero)) { Multiply (Local1, ^^LPCB.EC0.B0DV, Local1) Multiply (Local2, 0x0A, Local2) } And (Local0, 0x02, Local3) If (LNot (Local3)) { Subtract (LFCC, Local2, Local3) Divide (LFCC, 0xC8, Local4, Local5) If (LLess (Local3, Local5)) { Store (LFCC, Local2) } } Else { Divide (LFCC, 0xC8, Local4, Local5) Subtract (LFCC, Local5, Local4) If (LGreater (Local2, Local4)) { Store (Local4, Local2) } } If (LNot (^^LPCB.EC0.ACAP ())) { Divide (Local2, MBLF, Local3, Local4) If (LLess (Local1, Local4)) { Store (Local4, Local1) } } Store (Local0, Index (PBST, Zero)) Store (Local1, Index (PBST, One)) Store (Local2, Index (PBST, 0x02)) Store (Arg3, Index (PBST, 0x03)) } Method (_BIX, 0, NotSerialized) // _BIX: Battery Information Extended { If (LNot (^^LPCB.EC0.BATP (Zero))) { Return (NBIX) } If (LEqual (^^LPCB.EC0.GBTT (Zero), 0xFF)) { Return (NBIX) } _BIF () Store (DerefOf (Index (PBIF, Zero)), Index (BIXT, One)) Store (DerefOf (Index (PBIF, One)), Index (BIXT, 0x02)) Store (DerefOf (Index (PBIF, 0x02)), Index (BIXT, 0x03)) Store (DerefOf (Index (PBIF, 0x03)), Index (BIXT, 0x04)) Store (DerefOf (Index (PBIF, 0x04)), Index (BIXT, 0x05)) Store (DerefOf (Index (PBIF, 0x05)), Index (BIXT, 0x06)) Store (DerefOf (Index (PBIF, 0x06)), Index (BIXT, 0x07)) Store (DerefOf (Index (PBIF, 0x07)), Index (BIXT, 0x0E)) Store (DerefOf (Index (PBIF, 0x08)), Index (BIXT, 0x0F)) Store (DerefOf (Index (PBIF, 0x09)), Index (BIXT, 0x10)) Store (DerefOf (Index (PBIF, 0x0A)), Index (BIXT, 0x11)) Store (DerefOf (Index (PBIF, 0x0B)), Index (BIXT, 0x12)) Store (DerefOf (Index (PBIF, 0x0C)), Index (BIXT, 0x13)) If (LEqual (DerefOf (Index (BIXT, One)), One)) { Store (Zero, Index (BIXT, One)) Store (DerefOf (Index (BIXT, 0x05)), Local0) Multiply (DerefOf (Index (BIXT, 0x02)), Local0, Index (BIXT, 0x02)) Multiply (DerefOf (Index (BIXT, 0x03)), Local0, Index (BIXT, 0x03)) Multiply (DerefOf (Index (BIXT, 0x06)), Local0, Index (BIXT, 0x06)) Multiply (DerefOf (Index (BIXT, 0x07)), Local0, Index (BIXT, 0x07)) Multiply (DerefOf (Index (BIXT, 0x0E)), Local0, Index (BIXT, 0x0E)) Multiply (DerefOf (Index (BIXT, 0x0F)), Local0, Index (BIXT, 0x0F)) Divide (DerefOf (Index (BIXT, 0x02)), 0x03E8, Local0, Index (BIXT, 0x02)) Divide (DerefOf (Index (BIXT, 0x03)), 0x03E8, Local0, Index (BIXT, 0x03)) Divide (DerefOf (Index (BIXT, 0x06)), 0x03E8, Local0, Index (BIXT, 0x06)) Divide (DerefOf (Index (BIXT, 0x07)), 0x03E8, Local0, Index (BIXT, 0x07)) Divide (DerefOf (Index (BIXT, 0x0E)), 0x03E8, Local0, Index (BIXT, 0x0E)) Divide (DerefOf (Index (BIXT, 0x0F)), 0x03E8, Local0, Index (BIXT, 0x0F)) } Store (B1B2(^^LPCB.EC0.XC30,^^LPCB.EC0.XC31), Index (BIXT, 0x08)) Store (0x0001869F, Index (BIXT, 0x09)) Return (BIXT) } } } Scope (_SB.PCI0.LPCB.EC0) { Method (BIFA, 0, NotSerialized) { If (ECAV ()) { If (BSLF) { Store (B1B2(B1S0,B1S1), Local0) } Else { Store (B1B2(B0S0,B0S1), Local0) } } Else { Store (Ones, Local0) } Return (Local0) } Method (SMBR, 3, Serialized) { Store (Package (0x03) { 0x07, Zero, Zero }, Local0) If (LNot (ECAV ())) { Return (Local0) } If (LNotEqual (Arg0, RDBL)) { If (LNotEqual (Arg0, RDWD)) { If (LNotEqual (Arg0, RDBT)) { If (LNotEqual (Arg0, RCBT)) { If (LNotEqual (Arg0, RDQK)) { Return (Local0) } } } } } Acquire (MUEC, 0xFFFF) Store (PRTC, Local1) Store (Zero, Local2) While (LNotEqual (Local1, Zero)) { Stall (0x0A) Increment (Local2) If (LGreater (Local2, 0x03E8)) { Store (SBBY, Index (Local0, Zero)) Store (Zero, Local1) } Else { Store (PRTC, Local1) } } If (LLessEqual (Local2, 0x03E8)) { ShiftLeft (Arg1, One, Local3) Or (Local3, One, Local3) Store (Local3, ADDR) If (LNotEqual (Arg0, RDQK)) { If (LNotEqual (Arg0, RCBT)) { Store (Arg2, CMDB) } } WRBA(Zero) Store (Arg0, PRTC) Store (SWTC (Arg0), Index (Local0, Zero)) If (LEqual (DerefOf (Index (Local0, Zero)), Zero)) { If (LEqual (Arg0, RDBL)) { Store (BCNT, Index (Local0, One)) Store (RDBA(), Index (Local0, 0x02)) } If (LEqual (Arg0, RDWD)) { Store (0x02, Index (Local0, One)) Store (B1B2(T2B0,T2B1), Index (Local0, 0x02)) } If (LEqual (Arg0, RDBT)) { Store (One, Index (Local0, One)) Store (DAT0, Index (Local0, 0x02)) } If (LEqual (Arg0, RCBT)) { Store (One, Index (Local0, One)) Store (DAT0, Index (Local0, 0x02)) } } } Release (MUEC) Return (Local0) } Method (SMBW, 5, Serialized) { Store (Package (0x01) { 0x07 }, Local0) If (LNot (ECAV ())) { Return (Local0) } If (LNotEqual (Arg0, WRBL)) { If (LNotEqual (Arg0, WRWD)) { If (LNotEqual (Arg0, WRBT)) { If (LNotEqual (Arg0, SDBT)) { If (LNotEqual (Arg0, WRQK)) { Return (Local0) } } } } } Acquire (MUEC, 0xFFFF) Store (PRTC, Local1) Store (Zero, Local2) While (LNotEqual (Local1, Zero)) { Stall (0x0A) Increment (Local2) If (LGreater (Local2, 0x03E8)) { Store (SBBY, Index (Local0, Zero)) Store (Zero, Local1) } Else { Store (PRTC, Local1) } } If (LLessEqual (Local2, 0x03E8)) { WRBA(Zero) ShiftLeft (Arg1, One, Local3) Store (Local3, ADDR) If (LNotEqual (Arg0, WRQK)) { If (LNotEqual (Arg0, SDBT)) { Store (Arg2, CMDB) } } If (LEqual (Arg0, WRBL)) { Store (Arg3, BCNT) WRBA(Arg4) } If (LEqual (Arg0, WRWD)) { Store(Arg4,T2B0) Store(ShiftRight(Arg4,8),T2B1) } If (LEqual (Arg0, WRBT)) { Store (Arg4, DAT0) } If (LEqual (Arg0, SDBT)) { Store (Arg4, DAT0) } Store (Arg0, PRTC) Store (SWTC (Arg0), Index (Local0, Zero)) } Release (MUEC) Return (Local0) } Method (ECSB, 7, NotSerialized) { Store (Package (0x05) { 0x11, Zero, Zero, Zero, Buffer (0x20){} }, Local1) If (LGreater (Arg0, One)) { Return (Local1) } If (ECAV ()) { Acquire (MUEC, 0xFFFF) If (LEqual (Arg0, Zero)) { Store (PRTC, Local0) } Else { Store (PRT2, Local0) } Store (Zero, Local2) While (LNotEqual (Local0, Zero)) { Stall (0x0A) Increment (Local2) If (LGreater (Local2, 0x03E8)) { Store (SBBY, Index (Local1, Zero)) Store (Zero, Local0) } ElseIf (LEqual (Arg0, Zero)) { Store (PRTC, Local0) } Else { Store (PRT2, Local0) } } If (LLessEqual (Local2, 0x03E8)) { If (LEqual (Arg0, Zero)) { Store (Arg2, ADDR) Store (Arg3, CMDB) If (LOr (LEqual (Arg1, 0x0A), LEqual (Arg1, 0x0B))) { Store (DerefOf (Index (Arg6, Zero)), BCNT) WRBA(DerefOf (Index (Arg6, One))) } Else { Store (Arg4, DAT0) Store (Arg5, DAT1) } Store (Arg1, PRTC) } Else { Store (Arg2, ADD2) Store (Arg3, CMD2) If (LOr (LEqual (Arg1, 0x0A), LEqual (Arg1, 0x0B))) { Store (DerefOf (Index (Arg6, Zero)), BCN2) WRBB(DerefOf (Index (Arg6, One))) } Else { Store (Arg4, DA20) Store (Arg5, DA21) } Store (Arg1, PRT2) } Store (0x7F, Local0) If (LEqual (Arg0, Zero)) { While (PRTC) { Sleep (One) Decrement (Local0) } } Else { While (PRT2) { Sleep (One) Decrement (Local0) } } If (Local0) { If (LEqual (Arg0, Zero)) { Store (SSTS, Local0) Store (DAT0, Index (Local1, One)) Store (DAT1, Index (Local1, 0x02)) Store (BCNT, Index (Local1, 0x03)) Store (RDBA(), Index (Local1, 0x04)) } Else { Store (SST2, Local0) Store (DA20, Index (Local1, One)) Store (DA21, Index (Local1, 0x02)) Store (BCN2, Index (Local1, 0x03)) Store (RDBB(), Index (Local1, 0x04)) } And (Local0, 0x1F, Local0) If (Local0) { Add (Local0, 0x10, Local0) } Store (Local0, Index (Local1, Zero)) } Else { Store (0x10, Index (Local1, Zero)) } } Release (MUEC) } Return (Local1) } Method (TACH, 1, Serialized) { If (ECAV ()) { Switch (Arg0) { Case (Zero) { Store (B1B2(TH00,TH01), Local0) Break } Case (One) { Store (B1B2(TH10,TH11), Local0) Break } Default { Return (Ones) } } Multiply (Local0, 0x02, Local0) If (LNotEqual (Local0, Zero)) { Divide (0x0041CDB4, Local0, Local1, Local0) Return (Local0) } Else { Return (Ones) } } Else { Return (Ones) } } } Method (B1B2, 2, NotSerialized) { Return (Or (Arg0, ShiftLeft (Arg1, 8))) } Scope (_SB.PCI0.LPCB) { Scope (EC0) { Method (RDBA, 0, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (BA00, Index(TEMP, 0x00)) Store (BA01, Index(TEMP, 0x01)) Store (BA02, Index(TEMP, 0x02)) Store (BA03, Index(TEMP, 0x03)) Store (BA04, Index(TEMP, 0x04)) Store (BA05, Index(TEMP, 0x05)) Store (BA06, Index(TEMP, 0x06)) Store (BA07, Index(TEMP, 0x07)) Store (BA08, Index(TEMP, 0x08)) Store (BA09, Index(TEMP, 0x09)) Store (BA0A, Index(TEMP, 0x0A)) Store (BA0B, Index(TEMP, 0x0B)) Store (BA0C, Index(TEMP, 0x0C)) Store (BA0D, Index(TEMP, 0x0D)) Store (BA0E, Index(TEMP, 0x0E)) Store (BA0F, Index(TEMP, 0x0F)) Store (BA10, Index(TEMP, 0x10)) Store (BA11, Index(TEMP, 0x11)) Store (BA12, Index(TEMP, 0x12)) Store (BA13, Index(TEMP, 0x13)) Store (BA14, Index(TEMP, 0x14)) Store (BA15, Index(TEMP, 0x15)) Store (BA16, Index(TEMP, 0x16)) Store (BA17, Index(TEMP, 0x17)) Store (BA18, Index(TEMP, 0x18)) Store (BA19, Index(TEMP, 0x19)) Store (BA1A, Index(TEMP, 0x1A)) Store (BA1B, Index(TEMP, 0x1B)) Store (BA1C, Index(TEMP, 0x1C)) Store (BA1D, Index(TEMP, 0x1D)) Store (BA1E, Index(TEMP, 0x1E)) Store (BA1F, Index(TEMP, 0x1F)) Return (TEMP) } Method (WRBA, 1, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (Arg0, TEMP) Store (DerefOf(Index(TEMP, 0x00)), BA00) Store (DerefOf(Index(TEMP, 0x01)), BA01) Store (DerefOf(Index(TEMP, 0x02)), BA02) Store (DerefOf(Index(TEMP, 0x03)), BA03) Store (DerefOf(Index(TEMP, 0x04)), BA04) Store (DerefOf(Index(TEMP, 0x05)), BA05) Store (DerefOf(Index(TEMP, 0x06)), BA06) Store (DerefOf(Index(TEMP, 0x07)), BA07) Store (DerefOf(Index(TEMP, 0x08)), BA08) Store (DerefOf(Index(TEMP, 0x09)), BA09) Store (DerefOf(Index(TEMP, 0x0A)), BA0A) Store (DerefOf(Index(TEMP, 0x0B)), BA0B) Store (DerefOf(Index(TEMP, 0x0C)), BA0C) Store (DerefOf(Index(TEMP, 0x0D)), BA0D) Store (DerefOf(Index(TEMP, 0x0E)), BA0E) Store (DerefOf(Index(TEMP, 0x0F)), BA0F) Store (DerefOf(Index(TEMP, 0x10)), BA10) Store (DerefOf(Index(TEMP, 0x11)), BA11) Store (DerefOf(Index(TEMP, 0x12)), BA12) Store (DerefOf(Index(TEMP, 0x13)), BA13) Store (DerefOf(Index(TEMP, 0x14)), BA14) Store (DerefOf(Index(TEMP, 0x15)), BA15) Store (DerefOf(Index(TEMP, 0x16)), BA16) Store (DerefOf(Index(TEMP, 0x17)), BA17) Store (DerefOf(Index(TEMP, 0x18)), BA18) Store (DerefOf(Index(TEMP, 0x19)), BA19) Store (DerefOf(Index(TEMP, 0x1A)), BA1A) Store (DerefOf(Index(TEMP, 0x1B)), BA1B) Store (DerefOf(Index(TEMP, 0x1C)), BA1C) Store (DerefOf(Index(TEMP, 0x1D)), BA1D) Store (DerefOf(Index(TEMP, 0x1E)), BA1E) Store (DerefOf(Index(TEMP, 0x1F)), BA1F) } Method (RDBB, 0, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (BB00, Index(TEMP, 0x00)) Store (BB01, Index(TEMP, 0x01)) Store (BB02, Index(TEMP, 0x02)) Store (BB03, Index(TEMP, 0x03)) Store (BB04, Index(TEMP, 0x04)) Store (BB05, Index(TEMP, 0x05)) Store (BB06, Index(TEMP, 0x06)) Store (BB07, Index(TEMP, 0x07)) Store (BB08, Index(TEMP, 0x08)) Store (BB09, Index(TEMP, 0x09)) Store (BB0A, Index(TEMP, 0x0A)) Store (BB0B, Index(TEMP, 0x0B)) Store (BB0C, Index(TEMP, 0x0C)) Store (BB0D, Index(TEMP, 0x0D)) Store (BB0E, Index(TEMP, 0x0E)) Store (BB0F, Index(TEMP, 0x0F)) Store (BB10, Index(TEMP, 0x10)) Store (BB11, Index(TEMP, 0x11)) Store (BB12, Index(TEMP, 0x12)) Store (BB13, Index(TEMP, 0x13)) Store (BB14, Index(TEMP, 0x14)) Store (BB15, Index(TEMP, 0x15)) Store (BB16, Index(TEMP, 0x16)) Store (BB17, Index(TEMP, 0x17)) Store (BB18, Index(TEMP, 0x18)) Store (BB19, Index(TEMP, 0x19)) Store (BB1A, Index(TEMP, 0x1A)) Store (BB1B, Index(TEMP, 0x1B)) Store (BB1C, Index(TEMP, 0x1C)) Store (BB1D, Index(TEMP, 0x1D)) Store (BB1E, Index(TEMP, 0x1E)) Store (BB1F, Index(TEMP, 0x1F)) Return (TEMP) } Method (WRBB, 1, Serialized) { Name (TEMP, Buffer(0x20) { }) Store (Arg0, TEMP) Store (DerefOf(Index(TEMP, 0x00)), BB00) Store (DerefOf(Index(TEMP, 0x01)), BB01) Store (DerefOf(Index(TEMP, 0x02)), BB02) Store (DerefOf(Index(TEMP, 0x03)), BB03) Store (DerefOf(Index(TEMP, 0x04)), BB04) Store (DerefOf(Index(TEMP, 0x05)), BB05) Store (DerefOf(Index(TEMP, 0x06)), BB06) Store (DerefOf(Index(TEMP, 0x07)), BB07) Store (DerefOf(Index(TEMP, 0x08)), BB08) Store (DerefOf(Index(TEMP, 0x09)), BB09) Store (DerefOf(Index(TEMP, 0x0A)), BB0A) Store (DerefOf(Index(TEMP, 0x0B)), BB0B) Store (DerefOf(Index(TEMP, 0x0C)), BB0C) Store (DerefOf(Index(TEMP, 0x0D)), BB0D) Store (DerefOf(Index(TEMP, 0x0E)), BB0E) Store (DerefOf(Index(TEMP, 0x0F)), BB0F) Store (DerefOf(Index(TEMP, 0x10)), BB10) Store (DerefOf(Index(TEMP, 0x11)), BB11) Store (DerefOf(Index(TEMP, 0x12)), BB12) Store (DerefOf(Index(TEMP, 0x13)), BB13) Store (DerefOf(Index(TEMP, 0x14)), BB14) Store (DerefOf(Index(TEMP, 0x15)), BB15) Store (DerefOf(Index(TEMP, 0x16)), BB16) Store (DerefOf(Index(TEMP, 0x17)), BB17) Store (DerefOf(Index(TEMP, 0x18)), BB18) Store (DerefOf(Index(TEMP, 0x19)), BB19) Store (DerefOf(Index(TEMP, 0x1A)), BB1A) Store (DerefOf(Index(TEMP, 0x1B)), BB1B) Store (DerefOf(Index(TEMP, 0x1C)), BB1C) Store (DerefOf(Index(TEMP, 0x1D)), BB1D) Store (DerefOf(Index(TEMP, 0x1E)), BB1E) Store (DerefOf(Index(TEMP, 0x1F)), BB1F) } } } } //EOF The resulting file can be saved as AML (suggested name: SSDT-BATT.aml), and placed in ACPI/patched.But you canâ€™t expect battery status to work with native DSDT yet!Renaming existing methodsFor now, there are duplicate methods in DSDT and this SSDT-BATT.aml. For each method in DSDT that the SSDT-BATT.aml version will replace, we must rename the method in DSDT to something else, which will allow the SSDT version to override.Just as in post #1, this part follows the â€œRename/Replaceâ€ pattern.The methods that need replacements are FBST, _BIX, BIFA, SMBR, SMBW, ECSB, and TACH.For this step, it is useful to create a mixed bytecode listing for the native DSDT.aml.It can be created with: â€œiasl -l -dl DSDT.amlâ€, which creates a mixed listing in DSDT.dslFor the FBST method:Method (FBST, 4, NotSerialized) { And (Arg1, 0xFFFF, Local1) Store (Zero, Local0) FF74: 14 43 12 46 42 53 54 04 7B 69 0B FF FF 61 70 00 // .C.FBST.{i...ap. FF84: 60 A potential rename patch (FBST-&gt;XBST):12Find: &lt;46 42 53 54 04&gt;Replace: &lt;58 42 53 54 04&gt;It is a good idea to verify that there is only one match for the Find hex data by searching for it in a hex editor such as Hex Fiend. Because the patch should ONLY apply to the method definition, not other code that may be present in the DSDT (or native SSDTs).The target name you choose must be unique within the scope that the method resides. Creating a duplicate method will cause kernel panic. Changing the first letter to â€˜Xâ€™ is usually ok, but no guarantee.Patches for the rest of the methods:123_BIX-&gt;XBIX:Find: &lt;5F 42 49 58 00&gt;Replace: &lt;58 42 49 58 00&gt;123BIFA-&gt;XIFA:Find: &lt;42 49 46 41 00&gt;Replace: &lt;58 49 46 41 00&gt;123SMBR-&gt;XMBR:Find: &lt;53 4D 42 52 0B&gt;Replace: &lt;58 4D 42 52 0B&gt;123SMBW-&gt;XMBW:Find: &lt;53 4D 42 57 0D&gt;Replace: &lt;58 4D 42 57 0D&gt;123ECSB-&gt;XCSB:Find: &lt;45 43 53 42 07&gt;Replace: &lt;58 43 53 42 07&gt;123TACH-&gt;XACH:Find: &lt;54 41 43 48 09&gt;Replace: &lt;58 41 43 48 09&gt;After adding those patches to config.plist/ACPI/DSDT/Patches, the methods in native DSDT will be renamed by Clover. And as a result of the renaming, the patched methods defined in SSDT-BATT.aml will override.ConclusionHotpatching for battery status is one of the most complex hotpatch tasks possible. The process of writing all the â€˜Externalâ€™ refernences is tedious and boring.It will take some time (several hours into the text youâ€™re reading here). Do not rush it.Disabling discrete/switched GPU with HotpatchThis third post is dedicated to hotpatching required for disabling the discrete GPU in a switched dual-GPU laptop, using the same example ACPI fils as the static patch guide.https://www.tonymacx86.com/threads/guide-disabling-discrete-graphics-in-dual-gpu-laptops.163772/You should download the ACPI/origin files that are attached to that guide, so you can follow along.As in the static patch guide, the goal is relatively simple: call the _OFF method (from an _INI method) for the discrete GPU during ACPI initialization. But the details make it more complex due to the fact that _OFF can contain EC related code which needs to be executed in _REG instead of _INI.Building the replacement _INI/_OFF/_REG methodsIn the example, the target _INI method is in SSDT-7, _OFF is in SSDT-8. The path of the discrete device is _SB.PCI0.RP05.PEGP. In the example files, _OFF contains EC related code that must be moved to _REG. To complete this patching process, we need to replace _INI, _OFF, and _REG, therefore each will need to be renamed to XINI, XOFF, and XREGNote: The methods you need to patch may in fact be different. It all depends on the code within the _OFF path. For example, with other ACPI sets, it happens that SGOF (may be some other name) has EC related code that must be moved to _REG. In that case, you would need to use rename/replace for the SGOF, and perhaps not the _OFF method. Analyze your existing code carefully.The Clover config.plist patches will be worked out later. For now, lets look at the SSDT for the replacement methods.The SSDT will consist of the patched methods:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;D-GPU&quot;, 0) { External(_SB.PCI0.RP05.PEGP, DeviceObj) External(_SB.PCI0.RP05.PEGP.XINI, MethodObj) External(_SB.PCI0.RP05.PEGP.XOFF, MethodObj) External(_SB.PCI0.RP05.PEGP.XINI, MethodObj) External(_SB.PCI0.LPCB.EC0, DeviceObj) External(_SB.PCI0.LPCB.EC0.XREG, MethodObj) External(_SB.PCI0.LPCB.EC0.SPIN, MethodObj) Scope(_SB.PCI0.RP05.PEGP) { Method(_INI) { XINI() // call original _INI, now renamed XINI _OFF() // call (patched) _OFF } Method(_OFF, 0, Serialized) { If (LEqual (CTXT, Zero)) { /* \\_SB.PCI0.LPCB.EC0.SPIN (0x96, Zero) */ If (LNotEqual (GPRF, One)) { Store (VGAR, VGAB) } Store (One, CTXT) } SGOF () } } Scope(_SB.PCI0.LPCB.EC0) { Method(_REG, 2) { XREG(Arg0, Arg1) // call original _REG, now renamed XREG If (3 == Arg0 &amp;&amp; 1 == Arg1) // EC ready? { \\_SB.PCI0.LPCB.EC0.SPIN (0x96, Zero) // code that was removed from _OFF } } } At this point, the code wonâ€™t compile, as some of the symbols referenced in _OFF are not available.Just like the battery patching guide, we must add the appropriate External declarations.Use the compiler errors to determine which symbols you need to find, then add the appropriate External declartions. In the example case:External(_SB.PCI0.RP05.PEGP.CTXT, IntObj) External(_SB.PCI0.RP05.PEGP.GPRF, IntObj) External(_SB.PCI0.RP05.PEGP.VGAR, FieldUnitObj) External(_SB.PCI0.RP05.PEGP.VGAB, BuffObj) External(_SB.PCI0.RP05.PEGP.SGOF, MethodObj) The resulting SSDT:DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;D-GPU&quot;, 0) { External(_SB.PCI0.RP05.PEGP, DeviceObj) External(_SB.PCI0.RP05.PEGP.XINI, MethodObj) External(_SB.PCI0.RP05.PEGP.XOFF, MethodObj) External(_SB.PCI0.RP05.PEGP.XINI, MethodObj) External(_SB.PCI0.LPCB.EC0, DeviceObj) External(_SB.PCI0.LPCB.EC0.XREG, MethodObj) External(_SB.PCI0.LPCB.EC0.SPIN, MethodObj) External(_SB.PCI0.RP05.PEGP.CTXT, IntObj) External(_SB.PCI0.RP05.PEGP.GPRF, IntObj) External(_SB.PCI0.RP05.PEGP.VGAR, FieldUnitObj) External(_SB.PCI0.RP05.PEGP.VGAB, BuffObj) External(_SB.PCI0.RP05.PEGP.SGOF, MethodObj) Scope(_SB.PCI0.RP05.PEGP) { Method(_INI) { XINI() // call original _INI, now renamed XINI _OFF() // call (patched) _OFF } Method(_OFF, 0, Serialized) { If (LEqual (CTXT, Zero)) { /* \\_SB.PCI0.LPCB.EC0.SPIN (0x96, Zero) */ If (LNotEqual (GPRF, One)) { Store (VGAR, VGAB) } Store (One, CTXT) } SGOF () } } Scope(_SB.PCI0.LPCB.EC0) { Method(_REG, 2) { XREG(Arg0, Arg1) // call original _REG, now renamed XREG If (3 == Arg0 &amp;&amp; 1 == Arg1) // EC ready? { \\_SB.PCI0.LPCB.EC0.SPIN (0x96, Zero) // code that was removed from _OFF } } } } Now it compiles without error, but there is one warning: â€œ39, 3079, _REG has no corresponding Operation Regionâ€. And this warning is important. The _REG will not be called unless we add a dummy EC OperationRegion.We can add it:... Scope(_SB.PCI0.LPCB.EC0) { OperationRegion(RME3, EmbeddedControl, 0x00, 0xFF) Method(_REG, 2) { ... Resulting complete SSDT:External(_SB.PCI0.RP05.PEGP, DeviceObj) External(_SB.PCI0.RP05.PEGP.XINI, MethodObj) External(_SB.PCI0.RP05.PEGP.XOFF, MethodObj) External(_SB.PCI0.RP05.PEGP.XINI, MethodObj) External(_SB.PCI0.LPCB.EC0, DeviceObj) External(_SB.PCI0.LPCB.EC0.XREG, MethodObj) External(_SB.PCI0.LPCB.EC0.SPIN, MethodObj) External(_SB.PCI0.RP05.PEGP.CTXT, IntObj) External(_SB.PCI0.RP05.PEGP.GPRF, IntObj) External(_SB.PCI0.RP05.PEGP.VGAR, FieldUnitObj) External(_SB.PCI0.RP05.PEGP.VGAB, BuffObj) External(_SB.PCI0.RP05.PEGP.SGOF, MethodObj) Scope(_SB.PCI0.RP05.PEGP) { Method(_INI) { XINI() // call original _INI, now renamed XINI _OFF() // call (patched) _OFF } Method(_OFF, 0, Serialized) { If (LEqual (CTXT, Zero)) { /* \\_SB.PCI0.LPCB.EC0.SPIN (0x96, Zero) */ If (LNotEqual (GPRF, One)) { Store (VGAR, VGAB) } Store (One, CTXT) } SGOF () } } Scope(_SB.PCI0.LPCB.EC0) { OperationRegion(RME3, EmbeddedControl, 0x00, 0xFF) Method(_REG, 2) { XREG(Arg0, Arg1) // call original _REG, now renamed XREG If (3 == Arg0 &amp;&amp; 1 == Arg1) // EC ready? { \\_SB.PCI0.LPCB.EC0.SPIN (0x96, Zero) // code that was removed from _OFF } } } At this point, you can save the SSDT (suggestion: SSDT-DGPU.aml).It is ready to go to ACPI/patched.But we still need to rename the original methods in native ACPI.Renaming the methodsAs mentioned earlier, the following methods need renaming:_SB.PCI0.RP05.PEGP._INI -&gt; XINI_SB.PCI0.RP05.PEGP._OFF -&gt; XOFF_SB.PCI0.LPCB.EC0._REG -&gt; XREGTo determine the binary patches needed, we need a mixed listing of DSDT.aml, SSDT-7.aml, and SSDT-8.aml.Create with:1iasl -dl -l DSDT.aml SSDT-7.aml SSDT-8.amlThe resulting mixed listing is in DSDT.dsl, SSDT-7.dsl, and SSDT-8.dsl.Here is the mixed listing for _REG in DSDT.dsl:Code (Text): Method (_REG, 2, NotSerialized) // _REG: Region Availability { D2B8: 14 12 5F 52 45 47 02 // .._REG. If (LEqual (Arg0, 0x03)) { D2BF: A0 0B 93 68 0A 03 // ...h.. Store (Arg1, ECFL) } } } } D2C5: 70 69 45 43 46 4C The patch used should rename only this _REG, not other _REG methods in the ACPI set. We can rename it by grabbing the name/header plus a few bytes from the code.This pattern grabs enough bytes to be unique for sure:12Find: &lt;5F 52 45 47 02 A0 0B 93 68 0A 03 70 69 45 43 46 4C&gt;Replace: &lt;58 52 45 47 02 A0 0B 93 68 0A 03 70 69 45 43 46 4C&gt;And the mixed listing for the target _INI in SSDT-7.dsl: Method (_INI, 0, NotSerialized) // _INI: Initialize { 03D1: 14 1F 5F 49 4E 49 00 // .._INI. Store (Zero, \\_SB.PCI0.RP05.PEGP._ADR) } 03D8: 70 00 5C 2F 05 5F 53 42 5F 50 43 49 30 52 50 30 // p.\\/._SB_PCI0RP0 03E8: 35 50 45 47 50 5F 41 44 52 // 5PEGP_ADR â€‹Resulting patchâ€¦12Find: &lt;5F 49 4E 49 00 70 00 5C 2F 05 5F 53 42 5F 50 43 49 30 52 50 30 35 50 45 47 50&gt;Replace: &lt;58 49 4E 49 00 70 00 5C 2F 05 5F 53 42 5F 50 43 49 30 52 50 30 35 50 45 47 50&gt;And the _OFF in SSDT-8.dsl: Method (_OFF, 0, Serialized) // _OFF: Power Off { 032B: 14 45 04 5F 4F 46 46 08 // .E._OFF. If (LEqual (CTXT, Zero)) { \\_SB.PCI0.LPCB.EC0.SPIN (0x96, Zero) 0333: A0 39 93 43 54 58 54 00 5C 2F 05 5F 53 42 5F 50 // .9.CTXT.\\/._SB_P 0343: 43 49 30 4C 50 43 42 45 43 30 5F 53 50 49 4E 0A // CI0LPCBEC0_SPIN. 0353: 96 00 The patchâ€¦12Find: &lt;5F 4F 46 46 08 A0 39 93 43 54 58 54&gt;Replace: &lt;58 4F 46 46 08 A0 39 93 43 54 58 54&gt;Note: Each of these patches could probably be reduced, but you would need to check carefully in all native DSDT and SSDTs for the Find pattern as you donâ€™t want to match on any methods but the target methods. Because _REG, _INI and _OFF are very common names for methods in other scopes, we need to be careful.A simple exampleThe files for the ASUS mentioned above were complex due to the need to patch _OFF, _INI, and _REG.But letâ€™s take a look at an example that is much simpler. The files are for an Asus K550VX-DM406T, and they are attached to this post. Please download them so you can follow along.When we look at the _OFF method in SSDT-14, there is no EC related code. And it calls PGOF, but the PGOF method, defined in SSDT-3, also has no EC related code:Method (_OFF, 0, Serialized) // _OFF: Power Off { If (LEqual (CTXT, Zero)) { If (LNotEqual (GPRF, One)) { Store (VGAR, VGAB) } Store (One, CTXT) } PGOF (Zero) } This means _OFF can be called directly from an _INI.If you look at all the _INI methods in the ACPI set, you will find there is no _INI at the path of _OFF (_SB.PCI0.PEG0.PEGP). Which means we can simply add an SSDT that has an _INI at the correct path, and that _INI simply calls _OFF.It is a one-liner method:12345DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;DGPU&quot;, 0)&#123; External(_SB.PCI0.PEG0.PEGP._OFF, MethodObj) Method(_SB.PCI0.PEG0.PEGP._INI) &#123; _OFF() &#125;&#125;Just as mentioned in the main discrete disable guide (static patch), sometimes you need to call _PS3 instead of _OFF. It is a trial and error process to determine which is best.Same code as above, but calling _PS3:12345DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;DGPU&quot;, 0)&#123; External(_SB.PCI0.PEG0.PEGP._PS3, MethodObj) Method(_SB.PCI0.PEG0.PEGP._INI) &#123; _PS3() &#125;&#125;Save it as SSDT-DGPU.aml and the Nvidia should be disabled.The simple example turned not so simpleAlthough the method mentioned above will usually work in this scenario (even with other laptops that present the same scenario: no EC access in _OFF path, no existing _INI at the path), this specific laptop needed additional patching in order to turn off the dedicated Nvidia fan.A little investigation was needed. As we can see by looking at the _OFF code, it calls PGOF(Zero) to do most of the work. And if we search for other examples of PGOF being called with Arg0==Zero, we find this code in SSDT-3.dsl:ElseIf (LAnd (LGreater (OSYS, 0x07D9), PEGS ())) { FAOF () PGOF (Zero) ... Note the call to FAOF. Could that be for â€œFAN OFFâ€? Seems likely.And look, we have FAOF and FAON in SSDT-3:Method (FAON, 0, Serialized) { \\_SB.PCI0.LPCB.EC0.WRAM (0x052B, 0x9E) \\_SB.PCI0.LPCB.EC0.WRAM (0x0520, 0x8B) Store (\\_SB.PCI0.LPCB.EC0.RRAM (0x0521), Local0) And (Local0, 0xCF, Local0) Or (Local0, 0x20, Local0) \\_SB.PCI0.LPCB.EC0.WRAM (0x0521, Local0) } Method (FAOF, 0, Serialized) { Store (\\_SB.PCI0.LPCB.EC0.RRAM (0x0521), Local0) And (Local0, 0xCF, Local0) \\_SB.PCI0.LPCB.EC0.WRAM (0x0521, Local0) \\_SB.PCI0.LPCB.EC0.WRAM (0x0520, 0x89) \\_SB.PCI0.LPCB.EC0.WRAM (0x03A4, Zero) \\_SB.PCI0.LPCB.EC0.WRAM (0x03A5, Zero) } And you can see it does a bunch of EC manipulations. Typically the EC controls the system fans, so this seems to confirm these methods are for â€œFAN ONâ€, and â€œFAN OFFâ€.Since these methods manipulate the EC, we cannot call FAOF without the EC being ready. To do that, we need to patch _REG.So, adding the necessary code to our SSDT:1234567891011121314151617181920DefinitionBlock(&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;DGPU&quot;, 0)&#123; External(_SB.PCI0.PEG0.PEGP._OFF, MethodObj) Method(_SB.PCI0.PEG0.PEGP._INI) &#123; _OFF() &#125; External(_SB.PCI0.LPCB.EC0, DeviceObj) External(_SB.PCI0.LPCB.EC0.XREG, MethodObj) External(_SB.PCI0.PEG0.FAOF, MethodObj) Scope(_SB.PCI0.LPCB.EC0) &#123; OperationRegion(RME3, EmbeddedControl, 0x00, 0xFF) Method(_REG, 2) &#123; XREG(Arg0, Arg1) // call original _REG, now renamed XREG If (3 == Arg0 &amp;&amp; 1 == Arg1) // EC ready? &#123; \\_SB.PCI0.PEG0.FAOF() // turn dedicated Nvidia fan off &#125; &#125; &#125;&#125;And the patch we need to rename _REG to XREG (again, based on a mixed listing of DSDT.aml):12Find: &lt;5F 52 45 47 02 A0 0B 93 68 0A 03&gt;Replace: &lt;58 52 45 47 02 A0 0B 93 68 0A 03&gt;With the patch in config.plist, EC0._REG is renamed XREG. The eventual call to _REG by the system lands in our modified _REG, which, in turn, calls the original _REG (renamed to XREG) and calls FAOF to turn the fan off.ConclusionHotpatching discrete GPU disable code is a bit simpler than battery status, but involves similar concepts.Creditshttps://github.com/RehabMan/OS-X-Clover-Laptop-Confighttps://www.tonymacx86.com/threads/guide-using-clover-to-hotpatch-acpi.200137/","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"Hacintosh","slug":"Hacintosh","permalink":"https://blog.iamzhl.top/tags/Hacintosh/"},{"name":"SSDT","slug":"SSDT","permalink":"https://blog.iamzhl.top/tags/SSDT/"},{"name":"hotpatch","slug":"hotpatch","permalink":"https://blog.iamzhl.top/tags/hotpatch/"},{"name":"ACPI","slug":"ACPI","permalink":"https://blog.iamzhl.top/tags/ACPI/"}]},{"title":"ASUS-X455LD-i5-4210u","slug":"ASUS-X455LD-i5-4210u","date":"2017-12-13T06:51:34.000Z","updated":"2019-03-11T16:21:49.881Z","comments":true,"path":"ASUS-X455LD-i5-4210u.html","link":"","permalink":"https://blog.iamzhl.top/ASUS-X455LD-i5-4210u.html","excerpt":"Install macOS High Sierra on ASUS X455LD i5 4210u","text":"Install macOS High Sierra on ASUS X455LD i5 4210uLaptop Configuration123456789101112131415161718Computer model Asus F455LD NotebookCPU Intel Core i5-4210uOperate System Windows10 Education 64bit + macOS High Sierra 17B25c + Windows7 Ultimate + ElementaryOS base on Ubuntu 16.04Main board Asus X455LD Intel Haswell-ULT - Lynx Point-LPDiscret egraphics Nvidia GeForce 820M 2G Integrated graphics HD4400Audio Realtek @ Intel Lynx Point-LP High Definition Audio (CX20751)Ethernet Realtek RTL8168/8111/8112 Gigabit Ethernet Controller / AsusWireless network adapter Atheros AR956XWorkingNotesAbout ALCPlugFixFirstlyï¼ŒUnzip ALCPlugFix to your desktop after you have installed Hackintoshã€‚Secondlyï¼Œopen terminalï¼š123$ cd ~/Desktop/ALCPlugFix/alc_fix$ chmod +x install.sh$ ./install.shThe script can fix your audio with good input and switchã€‚About ä¸€é”®å¼€å¯HIDPIå¹¶æ³¨å…¥EDIDJust double click åŒå‡».commandï¼Œand input your passwordã€‚Then it can working as Macintoshã€‚Clover EFI bootloaderASUS-F455LD-i5-4210uFinallyPlease respect the authorâ€™s work and please indicate the address of the original post if you want reprint the repo!","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"Hacintosh","slug":"Hacintosh","permalink":"https://blog.iamzhl.top/tags/Hacintosh/"},{"name":"X455LD","slug":"X455LD","permalink":"https://blog.iamzhl.top/tags/X455LD/"}]},{"title":"å›æº¯æ³•æ±‚å­é›†å’Œé—®é¢˜","slug":"Solve-problem-of-subset-sum-with-backtracking-method","date":"2017-12-12T06:12:40.000Z","updated":"2019-03-11T16:21:49.901Z","comments":true,"path":"Solve-problem-of-subset-sum-with-backtracking-method.html","link":"","permalink":"https://blog.iamzhl.top/Solve-problem-of-subset-sum-with-backtracking-method.html","excerpt":"","text":"é—®é¢˜æè¿°å­é›†å’Œé—®é¢˜çš„ä¸€ä¸ªå®ä¾‹ä¸º&lt;S,t&gt;ã€‚å…¶ä¸­ï¼ŒS={x1,x2,x3,&hellip;,xn}æ˜¯ä¸€ä¸ªæ­£æ•´æ•°çš„é›†åˆï¼Œcæ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å­é›†å’Œé—®é¢˜åˆ¤å®šæ˜¯å¦å­˜åœ¨Sçš„ä¸€ä¸ªå­é›†S1ï¼Œä½¿å¾— S1ä¸­çš„æ‰€æœ‰å…ƒç´ ä¹‹å’Œç­‰äºcã€‚è¯•è®¾è®¡ä¸€ä¸ªè§£å­é›†å’Œé—®é¢˜çš„å›æº¯æ³•ã€‚è¾“å…¥ç¬¬1è¡Œæœ‰2ä¸ªæ­£æ•´æ•°nå’Œcï¼Œnè¡¨ç¤ºSçš„å¤§å°ï¼Œcæ˜¯å­é›†å’Œçš„ç›®æ ‡å€¼ã€‚æ¥ä¸‹æ¥çš„1è¡Œä¸­ï¼Œæœ‰nä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºé›†åˆSä¸­çš„å…ƒç´ ã€‚è¾“å‡ºè¾“å‡ºå­é›†å’Œé—®é¢˜çš„è§£ã€‚å½“é—®é¢˜æ— è§£æ—¶ï¼Œè¾“å‡ºNo solution!ã€‚æ ·ä¾‹è¾“å…¥125 102 2 6 5 4æ ·ä¾‹è¾“å‡º12 2 6ä»£ç å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950//// main.c// subset-sum//// Created by Canvas on 2018/12/31.// Copyright Â© 2018 Canvas. All rights reserved.//#include &lt;stdio.h&gt;#define n 5#define c 10int array[n]=&#123;2,2,6,5,4&#125;;int a[n]=&#123;0&#125;;int sum=0;int flag=0;void traceback(int t)&#123; if(t==n)&#123; if(sum==c)&#123; flag=1; for(int i=0;i&lt;n;i++)&#123; if(a[i])&#123; printf(\"%3d\",array[i]); &#125; &#125; printf(\"\\n\"); return; &#125; &#125; else&#123; sum+=array[t]; a[t]=1; traceback(t+1); a[t]=0; sum-=array[t]; traceback(t+1); &#125;&#125;int main()&#123; traceback(0); if(!flag)&#123; printf(\"No Solutions!\\n\"); &#125; return 0;&#125;ç»“æœè¾“å‡º","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"å­é›†å’Œé—®é¢˜","slug":"å­é›†å’Œé—®é¢˜","permalink":"https://blog.iamzhl.top/tags/å­é›†å’Œé—®é¢˜/"},{"name":"å›æº¯","slug":"å›æº¯","permalink":"https://blog.iamzhl.top/tags/å›æº¯/"}]},{"title":"ç¬”è®°æœ¬åŸç‰ˆé»‘è‹¹æœå®‰è£…æ•™ç¨‹","slug":"Install-macOS-on-laptop","date":"2017-12-11T16:28:15.000Z","updated":"2019-03-11T16:21:49.894Z","comments":true,"path":"Install-macOS-on-laptop.html","link":"","permalink":"https://blog.iamzhl.top/Install-macOS-on-laptop.html","excerpt":"","text":"å‰è¨€Cloveræ”¯æŒä¸¤ç§å¯åŠ¨æ–¹å¼ï¼Œå¯åŠ¨è¿‡ç¨‹å¦‚ä¸‹ï¼šåŸºäºBIOSçš„ç”µè„‘ï¼ˆè€å¼ä¸»æ¿ï¼‰BIOS -&gt; MBR -&gt; PBR -&gt; boot -&gt; CLOVERX64.efi -&gt; OSLoaderåŸºäºUEFIçš„ç”µè„‘ï¼ˆæ–°å¼ä¸»æ¿ï¼‰UEFI -&gt; CLOVERX64.efi -&gt; OSLoaderå¯¹äºæ”¯æŒUEFIçš„æœºå™¨ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨CLOVERå¼•å¯¼åŸç‰ˆå®‰è£…ï¼Œè¿™ç§æ–¹å¼æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯æœ‰æ¢å¤åˆ†åŒºå¯ä»¥æ­£å¸¸å‡çº§ï¼Œå½“ç„¶å‰æè¦æŠŠå¼•å¯¼åšå¥½ã€‚å‰æœŸçŸ¥è¯†å‚¨å¤‡CLOVERçš„ç›®å½•ç»“æ„CLOVERæ­£å¸¸å·¥ä½œéœ€è¦çš„å®Œæ•´ç›®å½•åŒ…æ‹¬config.plistã€CLOVERX64.efiä¸¤ä¸ªæ–‡ä»¶ä»¥åŠACPIã€drivers64UEFIã€kextsã€å’Œthemeså‡ ä¸ªç›®å½•ï¼Œå¦‚å›¾æ‰€ç¤ºï¼šå…¶ä¸­ï¼Œconfig.plistæ˜¯æœ€æ ¸å¿ƒçš„æ–‡ä»¶â€”-é…ç½®æ–‡ä»¶ï¼ŒCLOVERæ‰€å®ç°çš„å¤šæ•°åŠŸèƒ½éƒ½æ˜¯é€šè¿‡è¿™ä¸ªæ–‡ä»¶è¿›è¡Œé…ç½®çš„ï¼Œå¯¹å…¶è¿›è¡Œé…ç½®ä¿®æ”¹çš„æœ€å¥½ç”¨çš„å·¥å…·å°±æ˜¯Clover Configuratorï¼Œä¸»é¡µé¢å¦‚ä¸‹ï¼šè¯¦ç»†çš„é…ç½®æ–¹æ³•ä¸‹é¢ä¼šæœ‰ä»‹ç»ã€‚å¦å¤–ä¸€ä¸ªæ–‡ä»¶æ˜¯CLOVERX64.efiï¼Œè¿™ä¸ªæ–‡ä»¶ç”¨ä»¥å¯åŠ¨CLOVERå¼•å¯¼ï¼Œé€šè¿‡EasyUEFIæˆ–è€…BIOSå¯¹å¯åŠ¨é¡¹è¿›è¡Œæ·»åŠ æ“ä½œæ—¶ï¼Œå°±æ˜¯æŒ‡å‘çš„è¿™ä¸ªæ–‡ä»¶ã€‚ACPIæ˜¯ç”¨ä»¥å­˜æ”¾æœºå™¨ACPIè¡¨å•çš„ï¼Œå…¨ç§°æ˜¯â€é«˜çº§é…ç½®å’Œç”µæºç®¡ç†æ¥å£â€(Advanced Configuration and Power Interface)ï¼Œå…¶å­ç›®å½•ç”±originã€patchedã€WINDOWSæ„æˆï¼Œå…¶ä¸­originç”¨ä»¥ä¿å­˜é€šè¿‡åœ¨CLOVERå¼•å¯¼ç•Œé¢æŒ‰F4æˆ–Fn F4æå–çš„åŸå§‹è¡¨å•ï¼Œæ­¤ç›®å½•çš„æ‰€æœ‰è¡¨æ–‡ä»¶æ˜¯ä¸åŠ è½½çš„ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œç¼–è¯‘å¾—åˆ°.dslæ–‡ä»¶ï¼Œç„¶åå¯¹å…¶è¿›è¡Œä¿®æ”¹æ‹é”™ï¼Œæœ€åä¿å­˜æˆ.amlæ–‡ä»¶ä¿å­˜è‡³patchedç›®å½•æ‰ä¼šåœ¨å¯åŠ¨æ—¶åŠ è½½ï¼Œè€ŒWINDOWSç›®å½•åˆ™å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚åœ¨é»‘æœä¸­ï¼Œæˆ‘ä»¬ç”¨åˆ°çš„è¡¨å•æ–‡ä»¶åªæœ‰SSDTå’ŒDSDTï¼Œå…¶ä¸­DSDTä¸»è¦æ˜¯å¯¹å„ç§è®¾å¤‡çš„æè¿°ï¼Œè€ŒSSDTåˆ™ä¸»è¦æ˜¯ç”¨ä»¥å®ç°æŸä¸ªåŠŸèƒ½ã€‚drivers64UEFIæ˜¯ç”±å„ç§EFIé©±åŠ¨ç»„æˆï¼Œåœ¨ç¬”è®°æœ¬é»‘æœéœ€è¦ç”¨åˆ°çš„æœ‰FSInject-64.efiã€HFSPlus-64.efiã€OsxAptioFixDrv-64.efiã€APFS.efiä»¥åŠOsxFatBinaryDrv-64.efiï¼Œåœ¨æ–°ç‰ˆCLOVERä¸­åªéœ€è¦FSInject-64.efiã€HFSPlus-64.efiã€OsxAptioFixDrv-64.efiã€ä»¥åŠAPFS.efikextsä¸»è¦ç”¨äºå­˜å‚¨å„ç§é©±åŠ¨(OS Xç§°ä¸ºå†…æ ¸æ‰©å±•)themesç”¨ä»¥å­˜å‚¨CLOVERå¼•å¯¼ç•Œé¢çš„ä¸»é¢˜æ ¹æ®æœºå™¨é…ç½®å®šåˆ¶kextkextåœ¨EFIçš„é…ç½®ä¸­æ˜¯ç›¸å½“é‡è¦çš„ï¼Œå¥½çš„kexté…ç½®å¯ä»¥å¼¥è¡¥configçš„ä¸è¶³ï¼Œä¸å¥½çš„kexté…ç½®ä¹Ÿä¼šè®©æœ¬åº”å®Œç¾çš„configå‘æŒ¥ä¸å‡ºä½œç”¨ã€‚FakeSMC.kext:FakeSMCæ˜¯ç°ä»Šçš„â¿Šé»‘è‹¹æœè¿‡ç¨‹ä¸­å”¯â¼€ä¸€çš„â€å¿…è¦æ€§â€å†…æ ¸æ‰©å±•ç¨‹åºã€‚å¯¹äºâ¿Šé»‘è‹¹æœæœ‰ç€â½†ä¸ä¼¦æ¯”çš„é‡è¦æ€§ï¼Œä½†æ˜¯å¾ˆå¤šâ¼ˆå¹¶ä¸çŸ¥é“FakeSMCä¸ºä»€ä¹ˆé‡è¦ï¼Œåªæ˜¯çŸ¥é“å¿…é¡»æœ‰å®ƒæ‰â¾è¡Œï¼Œã€‚ç®€â½½è€Œâ¾”è¨€ä¹‹å°±æ˜¯: FakeSMCæ˜¯â½¤ç”¨äºå°†PCä¸»æ¿ä¸Šçš„å„ç§æ§åˆ¶èŠ¯â½šç‰‡ä¼ªè£…æˆMacç‹¬æœ‰çš„ç¡¬ä»¶æ§åˆ¶èŠ¯ç‰‡SMCä»¥éª—è¿‡ç³»ç»Ÿä»â½½è€Œæ˜¯ç³»ç»Ÿæ­£å¸¸å¯åŠ¨çš„â¼€ä¸€ä¸ªå†…æ ¸æ‰©å±•(å…¶å®å¾ˆå¤æ‚,è¿™â¾¥é‡Œä¸å¤šè¯´äº†)ã€‚åœ¨ç³»ç»Ÿå¯åŠ¨çš„é˜¶æ®µï¼ŒFakeSMCè´Ÿè´£å‘ŠçŸ¥ç³»ç»Ÿæœ‰å…³ä¸»æ¿ä¸ŠSMCèŠ¯â½šç‰‡(ä¼ªè£…å‡ºæ¥çš„)çš„å„ç§åŠ å¯†ä¿¡æ¯ï¼Œæ¬ºéª—ç³»ç»Ÿã€‚ä¹Ÿå°±æ˜¯è¯´å‘¢ï¼Œæ— è®ºä½ ç¬”è®°æœ¬æ˜¯ä»€ä¹ˆé…ç½®ï¼Œæ­¤é©±åŠ¨æ˜¯å¿…é¡»çš„ã€‚ApplePS2SmartTouchPad.kextã€VoodooI2C.kextå’ŒVoodooPS2Controller.kext:æ­¤é©±åŠ¨ç”¨ä»¥é©±åŠ¨é”®ç›˜é¼ æ ‡ä»¥åŠè§¦æ‘¸æ¿ï¼Œä¸¤è€…é€‰æ‹©ä¸€ä¸ªå³å¯ï¼Œä¸¤è€…åŒºåˆ«å°±æ˜¯é€‚ç”¨çš„ç±»å‹ä¸ä¸€æ ·ï¼Œæœ‰PS/2ã€Synapticsã€alpsã€i2cç­‰ç­‰ï¼Œå…¶ä¸­Synapticsã€alpsç”¨ApplePS2SmartTouchPad.kexté€‚é…æ€§å¥½ä¸€äº›ï¼ŒVoodooI2C.kextæ¯”è¾ƒéº»çƒ¦ï¼Œä»…é€‚ç”¨äºi2cè§¦æ‘¸æ¿ã€‚å…·ä½“æ€ä¹ˆç¡®å®šèµ°çš„æ€»çº¿ç±»å‹ï¼Œå¤§å®¶å‚è€ƒç™¾åº¦å°±å¥½äº†ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚FakePCIID.kext:è¿™ä¸ªkextçš„ç›®çš„æ˜¯ä¸IOPCIDeviceè®¾å¤‡å»ºç«‹è¿æ¥ï¼Œä»¥ä¾¿å½“å¦ä¸€ä¸ªé©±åŠ¨ç¨‹åºè¿æ¥åˆ°åŒä¸€è®¾å¤‡æ—¶ï¼Œå®ƒå¯ä»¥æä¾›å¤‡ç”¨çš„PCI IDã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœç”¨åˆ°Fake-PCI-IDä¸­çš„å…¶ä»–ä»»ä½•kextçš„è¯ï¼Œæ­¤é©±åŠ¨éƒ½æ˜¯å¿…è¦çš„ã€‚FakePCIID_Intel_HD_Graphics.kext:æ­¤é©±åŠ¨ä¸»è¦ç”¨äºæ ¸æ˜¾HD4200 HD4400 HD4600 P4600ã€Iris 540 Iris 550 Iris Pro 580ã€HD510 HD515 HD520 HD530 P530ï¼ˆå¤šæ•°530ä¸éœ€è¦è¿™ä¸ªï¼‰ã€P4000ã€P6300 - 162aã€UHD620 KabyLake-Rã€UHD630 CoffeeLakeã€‚FakePCIID_Intel_HDMI_Audio.kext:å…¶ç›®çš„æ˜¯ä¸ºä¸æ”¯æŒçš„HDAUæä¾›æ”¯æŒ(é€šå¸¸ç§°ä¸ºB0D3ï¼Œä½†éœ€è¦å°†å…¶é‡å‘½åä¸ºHDAUï¼Œä»¥æ»¡è¶³Appleçš„æœŸæœ›å€¼)åœ¨Haswellä»¥ä¸Šçš„ç³»ç»Ÿä¸­æä¾›HDMI-audioçš„è®¾å¤‡ã€‚FakePCIID_BCM57XX_as_BCM57765.kext:è¿™ä¸ªkextå°†ä¸ä¼—å¤šä¸å—æ”¯æŒçš„BCM57XXä»¥å¤ªç½‘è®¾å¤‡å»ºç«‹è¿æ¥ï¼Œä»¥ä½¿æœ¬æœºé©±åŠ¨ç¨‹åºä¸ºå…¼å®¹çš„æ›´å¹¿æ³›çš„BCMä»¥å¤ªç½‘èŠ¯ç‰‡ç»„å·¥ä½œã€‚FakePCIID_Intel_GbX.kext:è¿™ä¸ªkextå°†ä¸ä¸€äº›Intelä»¥å¤ªç½‘è®¾å¤‡å»ºç«‹è¿æ¥ï¼Œä»¥ä½¿åŸºäºIntelèŠ¯ç‰‡ç»„çš„é©±åŠ¨ç¨‹åºå·¥ä½œã€‚FakePCIID_XHCIMux.kext:å°†ä¼šè¿æ¥åˆ°8086:1e31, 8086:9c31, 8086:9cb1, 8086:9c31, 8086:8cb1è¿™ä¸ªæ³¨å…¥å™¨æ˜¯æ­£å¸¸çš„FakePCIIDä»»åŠ¡çš„ä¸€éƒ¨åˆ†ã€‚å®ƒå®é™…ä¸Šå¹¶æ²¡æœ‰ä¼ªé€ ä»»ä½•PCI idã€‚ç›¸åï¼Œå®ƒå°†æŸäº›å€¼å¼ºåŠ äºIntel XHCI USB3æ§åˆ¶å™¨ä¸Šçš„XUSB2PR (PCIé…ç½®åç§»0xD0)ã€‚å…¶æ•ˆæœæ˜¯å°†ä»»ä½•USB2è®¾å¤‡ä¸XHCç«¯å£ä¸Šçš„USB2å¼•è„šè¿æ¥åˆ°EHC1ã€‚æ¢å¥è¯è¯´ï¼Œä½¿ç”¨USB2é©±åŠ¨è€Œä¸æ˜¯USB3é©±åŠ¨ç¨‹åº(AppleUSBEHCI vs AppleUSBXHCI)å¤„ç†USB2è®¾å¤‡ã€‚FakePCIID_AR9280_as_AR946x:è¿™æ˜¯FakePCIID.kextçš„ç‰¹æ®Šåº”ç”¨ï¼Œæ˜¯åœ¨ä¸€ä¸ªAR9280è¢«é‡æ–°å‘½åä¸ºå…¶ä»–è®¾å¤‡çš„æƒ…å†µä¸‹ä½¿ç”¨çš„ã€‚ä¾‹å¦‚ï¼Œåœ¨è”æƒ³u430ä¸­ï¼Œå°†ä¸€ä¸ªAR9280ä½œä¸ºAR946xé‡æ–°å‘½åæ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œå› ä¸ºè¯¥è®¾å¤‡å¯ä»¥è¢«BIOSç™½åå•æ‰€å…è®¸ï¼Œè€ŒAR9280ä¸æ˜¯ã€‚é€šè¿‡ä½¿ç”¨FakePCIIDï¼Œæˆ‘ä»¬å¯ä»¥å°†PCI idé‡æ–°æ˜ å°„å›AR9280 (168c:002a)ï¼Œå³ä½¿è¯¥è®¾å¤‡æœ¬èº«æŠ¥å‘Šçš„æ˜¯168c:0034ã€‚FakePCIID_Broadcom_WiFi.kext:è¿™ä¸ªkextå°†è¿æ¥åˆ°14e4:43b1, 14e4:4357, 14e4:4331, 14e4:4353, 14e4:432b, 14e4 . 432b, 14e4:43a3ï¼Œæˆ–14e4:43a0ã€‚ä»¥åŠ106b:4e, 14e4:4312, 14e4:4313, 14e4:4318, 14e4:431a, 14e4:4320, 14e4:4324, 14e4:4324, 14e4:4328, 14e4:432dã€‚æœ€åˆæ˜¯ä¸ºBCM94352Zåˆ›å»ºçš„ï¼Œè¿™ä¸ªç‰¹æ®Šçš„FakePCIIDåº”ç”¨ç¨‹åºã€‚åœ¨ä½¿ç”¨å¤šç§æ”¯æŒçš„Broadcom WiFiè®¾å¤‡æ—¶ï¼Œkextè¢«ç”¨æ¥æ¨¡æ‹ŸçœŸæ­£çš„Apple Airport(è‹¹æœæ— çº¿ç½‘å¡)ã€‚ACPIBatteryManager.kext:ç”¨ä»¥ä½¿ç¬”è®°æœ¬æ­£ç¡®æ˜¾ç¤ºç”µé‡ï¼Œä½†é€šå¸¸éœ€è¦é…åˆDSDTçš„patchæ‰èƒ½å‘æŒ¥ä½œç”¨ã€‚VoodooHDA.kext:ä¸‡èƒ½å£°å¡é©±åŠ¨ï¼Œç”¨ä»¥ç¦ç”¨AppleHDAæ¥é©±åŠ¨å£°å¡ã€‚AppleALC.kext:é€šè¿‡å¯¹AppleHDAçš„åŠ¨æ€patchå®ç°å¯¹AppleHDAçš„å®Œæ•´åŠ è½½ã€‚Lilu.kext:ä¸€ä¸ªå¼€æ”¾æºç çš„å†…æ ¸æ‰©å±•ï¼Œä¸ºmacOSç³»ç»Ÿæä¾›äº†ä¸€ä¸ªä»»æ„çš„kextã€åº“å’Œç¨‹åºè¡¥ä¸çš„å¹³å°ã€‚IntelGraphicsDVMTFixup.kext:ä¿®å¤å› BIOSæ˜¾å­˜åˆ†é…ä¸è¶³é€ æˆçš„KPã€‚å»ºè®®broadwell+å¹³å°ä½¿ç”¨ã€‚IntelGraphicsFixup.kext:åŠ¨æ€ä¿®å¤æ ¸æ˜¾çš„å„ç§é—®é¢˜(ä¾‹å¦‚è…¾è®¯è§†é¢‘æ­»æœºï¼Œå¼€æœºäºŒé˜¶æ®µèŠ±å±ç­‰)ï¼Œå»ºè®®Haswell+å¹³å°ä½¿ç”¨ã€‚CoreDisplayFixup.kext:ä¸ºä¸å—æ”¯æŒçš„4Kæœºå™¨(éIris)å¼€å¯é«˜åˆ†è¾¨ç‡æ”¯æŒã€‚AzulPatcher4600.kext:é’ˆå¯¹HD4600çš„é¢å¤–ä¿®å¤ï¼Œä»…æ¨èHD4600ä½¿ç”¨ã€‚HibernationFixup.kext:ä¿®å¤ç¡çœ ï¼Œä»¥æ”¯æŒæŸäº›æœºå™¨åœ¨3å’Œ28ä¼‘çœ æ¨¡å¼ä¸‹çš„æ­£å¸¸ä¼‘çœ ã€‚NvidiaGraphicsFixup.kext:ä¿®å¤æŸäº›nå¡çš„é»‘å±ã€‚WhateverGreen.kext:ç”¨ä»¥é©±åŠ¨Aå¡ã€‚RealtekRTL8111.kext:ç”¨ä»¥é©±åŠ¨RealtekRTL8111.kextä»¥å¤ªç½‘å¡è®¾å¤‡ã€‚AppleIGB.kextã€IntelMausiEthernet.kext:ç”¨ä»¥é©±åŠ¨Intelæ¿è½½ç½‘å¡è®¾å¤‡ã€‚æ ¹æ®æœºå™¨é…ç½®å®šåˆ¶configClover å¯ä»¥æ ¹æ®ç¡¬ä»¶è¿›è¡Œè‡ªåŠ¨é…ç½®ï¼Œä½†æ˜¯è‡ªåŠ¨é…ç½®ç»„ä»¶å¹¶ä¸æ€»æ˜¯å®Œç¾çš„ã€‚è¿™ä¹Ÿæ˜¯ä¿ç•™ç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰é…ç½®çš„åŸå› ã€‚ç”¨æˆ·å¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶config.plistä¸­çš„é…ç½®å‚æ•°ï¼Œæˆ–è€…åŸºäºGUIçš„é…ç½®ç•Œé¢è¿›è¡Œä¿®æ”¹é…ç½®ã€‚é…ç½®æ–‡ä»¶æ˜¯åŸºäºXMLçš„ï¼Œå¯ä»¥ä»¥æ–‡æœ¬æ–‡ä»¶æ¥å¤„ç†ã€‚å®ƒå¯ä»¥ç”¨çº¯æ–‡æœ¬ç¼–è¾‘å™¨è¿›è¡Œç¼–è¾‘ï¼Œä¹Ÿå¯ä»¥ç”¨plistç¼–è¾‘å™¨è¿›è¡Œç¼–è¾‘ï¼Œå¦‚PlistEditã€‚é…ç½®æ–‡ä»¶ (config.plist) å¿…é¡»æ”¾åœ¨EFI/CLOVERç›®å½•ä¸‹ã€‚è¿™é‡Œéµå¾ªä¸€ä¸ªåŸåˆ™ï¼Œå°½å¯èƒ½ç®€å•çš„è®¾ç½®configï¼Œä¸çŸ¥é“å…·ä½“ä½œç”¨çš„å°±è®©ä»–ç©ºç€å¥½äº†ï¼Œå¦‚æœä½ ä¸çŸ¥é“å‚æ•°çš„éœ€æ±‚å€¼æ˜¯ä»€ä¹ˆï¼Œå°±ä»é…ç½®æ–‡ä»¶ä¸­æ’é™¤ï¼ä¸è¦ç”¨æ²¡æœ‰å€¼çš„å‚æ•°ã€‚æ­£æ‰€è°“å‰äººç§æ ‘ï¼Œåäººä¹˜å‡‰ï¼Œå¾ˆå¤šé»‘æœçš„çƒ­å¿ƒæœ‹å‹å·²ç»ä¸ºæˆ‘ä»¬åšå¥½äº†æ•™ç¨‹ï¼Œè¿™é‡Œæˆ‘ç›´æ¥æ‹¿æ¥ç”¨äº†ã€‚ACPI-1ACPI-2BOOTCPUDeviceDisable DriversGUIGraphicsKernel and Kext PatchesRt VariablesSMBIOSSystem Parametersä¸æ•¢ä¸‹æ‰‹çš„æ²¡å…³ç³»ï¼Œæˆ‘ç»™ä¸€ä¸ªæœ€ç®€å•çš„æ¨¡æ¿ï¼Œå…¨æŒ‰è¿™ä¸ªæ¥å°±è¶³å¯ä»¥è£…ä¸Šæœ€å¸¸è§çš„ã€‚æ•¢ä¸‹æ‰‹äº†ï¼Œæ²¡æœ‰Macç¯å¢ƒï¼Ÿæ²¡å…³ç³»ï¼Œé€ä½ ä»¬åœ¨çº¿ç¼–è¾‘å™¨ï¼Œç‚¹è¿™é‡Œä¼ é€é—¨ã€‚é‡Œé¢ç›®å‰åŠ å…¥äº†ä¸€äº›å¸¸è§çš„é…ç½®ï¼Œå¸®ä½ å®Œæˆä¸€éƒ¨åˆ†å·¥ä½œã€‚äº†è§£drivers64UEFIå„ä¸ª.EFIæ–‡ä»¶çš„ä½œç”¨ï¼Œç²¾ç®€å¼•å¯¼BIOSå¯åŠ¨è¿‡ç¨‹ä¸­è¦ç”¨åˆ°drivers32æˆ–drivers64ç›®å½•ï¼ŒUEFIå¯åŠ¨è¿‡ç¨‹ä¸­åˆ™ä½¿ç”¨drivers64UEFIç›®å½•ã€‚å®ƒä»¬çš„å†…å®¹ä¼šæ ¹æ®é…ç½®å’ŒBIOSç‰ˆæœ¬è€Œæœ‰æ‰€ä¸åŒã€‚å¿…é¡»è¦æçš„ä¸€ç‚¹æ˜¯è¿™äº›é©±åŠ¨ç¨‹åºåªåœ¨bootloaderè¿è¡Œæ—¶æœ‰æ•ˆï¼Œä¸ä¼šå½±å“æœ€ç»ˆå¯åŠ¨çš„æ“ä½œç³»ç»Ÿã€‚è‡³äºåˆ°åº•è¦ä½¿ç”¨å“ªäº›é©±åŠ¨ç¨‹åºç”±ç”¨æˆ·æ¥å†³å®šã€‚NTFS.efiNTFSæ–‡ä»¶ç³»ç»Ÿé©±åŠ¨ç¨‹åºã€‚ç”¨äºå¯åŠ¨Windows EFIç³»ç»Ÿã€‚HFSPlus.efiHFS+æ–‡ä»¶ç³»ç»Ÿé©±åŠ¨ç¨‹åºã€‚è¿™ä¸ªé©±åŠ¨å¯¹äº10.13ä¹‹å‰çš„ç³»ç»Ÿç‰ˆæœ¬æ¥å¯åŠ¨Mac OS Xæ˜¯å¿…é¡»çš„ã€‚APFS.efiAPFSæ–‡ä»¶ç³»ç»Ÿé©±åŠ¨ç¨‹åºã€‚è¿™ä¸ªé©±åŠ¨å¯¹äºåœ¨10.13çš„ç³»ç»Ÿç‰ˆæœ¬é€šè¿‡APFSè£…çš„é»‘æœæ¥å¯åŠ¨Mac OS Xæ˜¯å¿…é¡»çš„ã€‚VBoxHFS.efiHFSPlus.efiçš„æ›¿ä»£å“ï¼Œæ€§èƒ½è¦å·®ä¸€ç‚¹ã€‚VBoxExt2.efiEXT2/3æ–‡ä»¶ç³»ç»Ÿé©±åŠ¨ã€‚ç”¨äºå¯åŠ¨Linux EFIç³»ç»Ÿã€‚VBoxExt4.efiEXT4æ–‡ä»¶ç³»ç»Ÿé©±åŠ¨ã€‚ç”¨äºå¯åŠ¨Linux EFIç³»ç»Ÿã€‚FSInject.efiæ§åˆ¶æ–‡ä»¶ç³»ç»Ÿæ³¨å…¥kextåˆ°ç³»ç»Ÿçš„å¯èƒ½æ€§ã€‚PartitionDxe.efiå·²ç»å­˜åœ¨äºåœ¨CloverEFIå’ŒUEFIä¸­ï¼Œä½†æ²¡æœ‰ä¸ºAppleåˆ†åŒºä¼˜åŒ–ï¼Œä¹Ÿæ²¡æœ‰ä¸ºGPT/MBRä¼˜åŒ–ã€‚OsxFatBinaryDrv.efiå…è®¸åŠ è½½FATæ¨¡å—æ¯”å¦‚boot.efiã€‚OsxAptioFixDrv.efiä¿®å¤AMI Aptio EFIå†…å­˜æ˜ å°„ã€‚å¦‚æœæ²¡æœ‰å°±ä¸èƒ½å¯åŠ¨OS Xã€‚OswLowMemFix.efiæ˜¯OsxAptioFixDrvçš„ç®€åŒ–ç‰ˆã€‚ä¸¤ä¸ªä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚DataHubDxe.efiå·²ç»å­˜åœ¨äºåœ¨CloverUEFIä¸­ã€‚å»ºè®®è¿˜æ˜¯ä½¿ç”¨å®ƒï¼Œä¸ä¼šäº§ç”Ÿå†²çªã€‚CsmVideoDxe.efiæ¯”UEFIé‡Œæä¾›æ›´å¤šåˆ†è¾¨ç‡çš„æ˜¾å¡é©±åŠ¨ã€‚çœ‹äº†è¿™ä¹ˆå¤šï¼Œåƒä¸‡ä¸è¦å´©æºƒï¼Œæˆ‘å‘Šè¯‰å¤§å®¶ä¸€ä¸ªç»éªŒï¼Œä¸€èˆ¬Drivers64UEFIç›®å½•åªéœ€è¦ä¸‹é¢å‡ ä¸ª.EFIé©±åŠ¨å°±å¤Ÿäº†ã€‚)è¿›æ”»ACPIï¼Œå®Œç¾é»‘è‹¹æœ(è¿›é˜¶ç¯‡)è®ºå›è´¡çŒ®ä¼šå‘˜daxuexinshengå·²ç»ç¿»è¯‘äº†RehabMançš„DSDTæ•™ç¨‹ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸è¯¦ç»†ï¼Œå¯ä»¥ç›´æ¥å‚è€ƒ:ä½¿ç”¨è¡¥ä¸ä¿®æ”¹DSDT/SSDTï¼Œä»¥åŠRehabMançš„åŸè´´ã€‚å¦‚æœä½ å–œæ¬¢hotpatchï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„ç¿»è¯‘å¸–Clover-ACPI-hotpatchï¼Œä¸è¿‡ç”±äºæˆ‘å¤ªæ‡’è¿˜æ²¡ç¿»è¯‘å®Œå“ˆå“ˆã€‚å½“ç„¶è¿˜æ˜¯æ¨èRehabMançš„åŸè´´ã€‚å‡†å¤‡å·¥ä½œé›†æˆCLOVERçš„åŸç‰ˆé•œåƒé“¾æ¥:https://pan.baidu.com/s/1gfTmRj9 å¯†ç :s3dvTransmacé“¾æ¥:https://pan.baidu.com/s/1oAn79Zc å¯†ç :yafneasyUEFIé“¾æ¥:https://pan.baidu.com/s/1nwqbnMp å¯†ç :gxocClover Configuratorå››å¶è‰åŠ©æ‰‹é“¾æ¥:https://pan.baidu.com/s/1ht2wFQW å¯†ç :tbceDiskGeniusé“¾æ¥:https://pan.baidu.com/s/1cVyULo å¯†ç :pfrmé²å¤§å¸ˆ/AIDA64(æ¨è)/ä¹Ÿå¯ä»¥ç”¨è®¾å¤‡ç®¡ç†å™¨è‡ªè¡Œåº¦å¨˜å®‰è£…æ­¥éª¤åˆ©ç”¨Transmacå°†åŸç‰ˆé•œåƒå†™å…¥uç›˜æ‰“å¼€TransMac,å³é”®é€‰æ‹©æ¬²åˆ¶ä½œçš„USBç›˜ç¬¦ï¼Œé€‰æ‹©Restore with Disk Image,é€‰æ‹©ä¸‹è½½å¥½çš„dmgæ–‡ä»¶,ä¼šå¼¹å‡ºçª—å£,æç¤ºå°†è¦æ ¼å¼åŒ–USBç£ç›˜,ç‚¹å‡»OKæŒ‰é’®ç»§ç»­ï¼Œè€å¿ƒç­‰å¾…å†™ç›˜çš„å®Œæˆã€‚å†™å…¥å®Œæˆï¼Œè‹¥å¼¹å‡ºå¯¹è¯æ¡†æç¤ºå°†å…¶æ ¼å¼åŒ–ï¼Œç‚¹å‡»å–æ¶ˆã€‚åˆ©ç”¨é²å¤§å¸ˆç­‰è½¯ä»¶æŸ¥çœ‹è‡ªå·±æœºå™¨çš„é…ç½®ä¿¡æ¯ï¼Œæ¥å®šåˆ¶configå’Œéœ€è¦ç”¨çš„kextè¿™ä¸€æ­¥æƒ³å¿…ä¸ç”¨æˆ‘å¤šè¯´ï¼Œå¤§å®¶åˆ©ç”¨é²å¤§å¸ˆæˆ–è€…AIDA64çœ‹ä¸€ä¸‹è‡ªå·±é…ç½®å¥½äº†ã€‚æœ‰ä¸€ç‚¹æç¤ºï¼Œå°½é‡åœ¨å®‰è£…è¿‡ç¨‹ä¸­ä¸è€ƒè™‘å„ç§kextï¼Œå°½é‡ç”¨å°‘çš„é©±åŠ¨å»å®‰è£…ï¼Œå®‰è£…å®Œæˆåå†å®Œå–„é©±åŠ¨ï¼Œè¿™æ ·å¯ä»¥å‡å°‘è®¸å¤šå®‰è£…ä¸­çš„é”™è¯¯ï¼Œä¹Ÿåˆ©äºæ’é”™ï¼Œä½†éœ€è¦æ³¨æ„çš„å¿…å¤‡çš„é©±åŠ¨ä¸€å®šè¦æ”¾ï¼Œä¾‹å¦‚FakeSMC.kextã€è¿˜æœ‰å°±æ˜¯é”®ç›˜é©±åŠ¨ã€‚å½“ç„¶è€é¸Ÿæ— æ‰€è°“äº†ï¼Œç›´æ¥æŠŠéœ€è¦ç”¨åˆ°çš„éƒ½æ”¾ä¸Šå°±OKäº†ã€‚ä»¥æˆ‘è‡ªå·±æœºå™¨ä¸ºä¾‹ï¼Œé…ç½®å¦‚ä¸‹ï¼š1234567891011ä¸»æ¿ Asus X455LD Intel Haswell-ULT - Lynx Point-LPç‹¬ç«‹æ˜¾å¡ Nvidia GeForce 820M 2G æ ¸å¿ƒæ˜¾å¡ HD4400å£°å¡ Realtek @ Intel Lynx Point-LP High Definition Audio (CX20751)ä»¥å¤ªç½‘å¡ Realtek RTL8168/8111/8112 Gigabit Ethernet Controller / Asusæ— çº¿ç½‘å¡ Atheros AR956XæŒ‰ç…§ä¸Šé¢çš„é©±åŠ¨ç®€è¦è¯´æ˜ï¼Œæˆ‘ä»¥å¤ªç½‘å¡æ˜¯RTL8111ï¼Œé‚£ä¹ˆéœ€è¦RTL8111.kextã€æ ¸å¿ƒæ˜¾å¡æ˜¯HD4400ï¼Œå°±éœ€è¦FakePCIID.kextã€FakePCIID_Intel_HD_Graphics.kextï¼Œå£°å¡æ¯”è¾ƒéº»çƒ¦ï¼Œæš‚æ—¶ä¸è€ƒè™‘ï¼Œæ— çº¿ç½‘å¡æ˜¯Atheros AR956Xï¼Œé‚£ä¹ˆæˆ‘éœ€è¦ATH9KFixup.kextï¼Œåˆè¦ä¾èµ–Lilu.kextï¼Œæ‰€ä»¥éœ€è¦Lilu.kextï¼Œå››ä»£ä½å‹æœºå™¨ï¼Œæˆ‘éœ€è¦IntelGraphicsFixup.kextæ¥è§£å†³è…¾è®¯è§†é¢‘æ­»æœºçš„é—®é¢˜ï¼Œæ‰€ä»¥æ”¾ä¸Šè¿™ä¸ªã€‚æš‚æ—¶åªè€ƒè™‘è¿™äº›é©±åŠ¨å§ï¼Œä¸‹é¢å°±è¿›å…¥å®‰è£…é˜¶æ®µã€‚é‡å¯åˆ©ç”¨Uç›˜å¯åŠ¨é€‰æ‹©å®‰è£…ç›˜å¼€æœºæŒ‰escé”®è¿›å…¥å¯åŠ¨é¡¹åˆ—è¡¨ï¼Œä¸åŒå‚å•†çƒ­é”®ä¸åŒï¼Œå‚è€ƒä¸‹å›¾ï¼šé€‰æ‹©Uç›˜è¿›å…¥ï¼Œè¿™é‡Œå°±ä¸ä»‹ç»å¤ªå¤šäº†ï¼Œå¤§å®¶ç©é»‘æœçš„æƒ³å¿…å¯¹BIOSä¸ä¼šé™Œç”Ÿï¼Œä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯éœ€è¦å°†BIOSä¸­çš„å®‰å…¨å¯åŠ¨å…³æ‰ã€‚æ¥ä¸‹æ¥å°±ä¼šè¿›å…¥CLOVERå¼•å¯¼ç•Œé¢é€šè¿‡é”®ç›˜æ–¹å‘é”®é€‰ä¸­Boot OS X Install from ***ï¼Œ***ä»£è¡¨ä½ çš„é•œåƒåå­—ï¼Œç„¶åå›è½¦ã€‚ç­‰å¾…è¿›å…¥å®‰è£…ç•Œé¢ã€‚è¿™é‡Œé€‰æ‹©è‡ªå·±æ“…é•¿çš„è¯­è¨€å¥½å•¦ã€‚ç£ç›˜å·¥å…·åˆ†åŒºé€‰æ‹©ç£ç›˜å·¥å…·ï¼Œå¹¶ç»§ç»­é€‰æ‹©æ˜¾ç¤ºæ‰€æœ‰è®¾å¤‡é€‰æ‹©SSD Media,ç‚¹å‡»æŠ¹æ‰æŒ‰é’®,é€‰æ‹©é»˜è®¤çš„Mac OSæ‰©å±•(æ—¥å¿—å‹)ï¼Œåœ¨10.13ä¸­å¦‚æœè£…åœ¨SSDä¸Šï¼Œä¹Ÿå¯ä»¥é€‰æ‹©APFS,å°†åç§°ä¿®æ”¹ä¸ºMacintosh HDï¼ˆåå­—éšæ„å•¦ï¼Œè‡ªå·±å–œæ¬¢å°±å¥½ï¼Œä½†è¦æ˜¯è‹±æ–‡ï¼‰,ç‚¹å‡»æŠ¹æ‰æŒ‰é’®ï¼ŒæŠ¹æ‰å®Œæˆåï¼Œç‚¹å‡»å®ŒæˆæŒ‰é’®ã€‚ç„¶åé€€å‡ºç£ç›˜å·¥å…·ï¼Œåˆ°è¿™é‡Œï¼Œç£ç›˜å·¥å…·çš„åŠ¨ä½œå°±å·²ç»ç»“æŸäº†ã€‚é€€å‡ºç£ç›˜å·¥å…·ï¼Œé€‰æ‹©å®‰è£…macosé€‰ä¸­åˆšæ‰æŠ¹æ‰çš„åˆ†åŒºå¼€å§‹å®‰è£…é€‰æ‹©å®‰è£…macOSï¼Œå¹¶ç»§ç»­æ¥ä¸‹æ¥æŒ‰ç…§æç¤ºä¸€æ­¥ä¸€æ­¥æ¥å°±å¥½äº†ï¼Œæœ‰ä¸€æ­¥éœ€è¦æ³¨æ„çš„å°±æ˜¯é€‰æ‹©å®‰è£…åˆ†åŒºæ—¶ï¼Œé€‰æ‹©è‡ªå·±ä¹‹å‰æŠ¹æ‰çš„é‚£ä¸ªåˆ†åŒºã€‚æ¥ä¸‹æ¥é™é™ç­‰å¾…ï¼Œä¼šæœ‰ä¸€æ¬¡è‡ªåŠ¨é‡å¯ï¼Œä¾ç„¶ç”¨Uç›˜å¯åŠ¨ï¼Œæ³¨æ„è¿™æ¬¡ä¼šåœ¨å¼•å¯¼ç•Œé¢å¤šå‡ºä¸€ä¸ªå›¾æ ‡ï¼Œé€‰æ‹©é™¤ç¬¬ä¸€æ¬¡é€‰çš„å›¾æ ‡å¤–çš„å¦ä¸€ä¸ªå›¾æ ‡ã€‚ç„¶åç»§ç»­ç­‰å¾…ç³»ç»Ÿå®‰è£…å®Œæˆå,é‡å¯è¿›å…¥ç³»ç»Ÿè®¾ç½®å‘å¯¼ï¼Œæ¥ä¸‹æ¥æ ¹æ®ä¸‹é¢çš„å›¾ä¸€æ­¥ä¸€æ­¥è®¾ç½®å°±å¥½äº†è¿™é‡Œé€‰æ‹©ç°åœ¨ä¸ä¼ è¾“ä»»ä½•ä¿¡æ¯è¿™é‡Œæ³¨æ„ï¼Œä¸€å®šä¸è¦é€‰æ‹©åŠ å¯†ï¼ï¼ï¼è½¬ç§»CLOVERåˆ°ç¡¬ç›˜ESPï¼Œæ‘†è„±Uç›˜å¼•å¯¼è¿™é‡Œç”¨åˆ°å‰æœŸå‡†å¤‡çš„EasyUEFIï¼Œåœ¨Windowsä¸‹å®‰è£…æ‰“å¼€æ­¤è½¯ä»¶ï¼Œæ·»åŠ CLOVERå¯åŠ¨é¡¹ï¼Œå¹¶ç½®é¡¶ã€‚å…·ä½“æ“ä½œå‚è€ƒï¼šé»‘è‹¹æœå®‰è£…ä»0å¼€å§‹â€”-cloverä¼˜ç›˜å¼•å¯¼æ”¹ç¡¬ç›˜å¼•å¯¼ç¯‡åæœŸçš„é©±åŠ¨å®‰è£…ä»¥åŠä¼˜åŒ–å±è”½æ— ç”¨çš„ç‹¬æ˜¾é™ä½æ¸©åº¦å‚è€ƒæˆ‘ä¹‹å‰çš„å¸–å­ï¼šDisable the discrete GPU in laptopæ‘†è„±ä¸‡èƒ½å£°å¡ï¼Œåˆ©ç”¨AppleALCåŠ è½½åŸç”Ÿå£°å¡å‚è€ƒæˆ‘ä¹‹å‰çš„å¸–å­ï¼šDriver-audio-for-hackintoshè¿˜æœ‰è¿™ä¸ªå¸–å­ï¼šè‡ªå·±åŠ¨æ‰‹ç”¨ä¸ŠAppleALCï¼Œä½¿ç”¨åŸç”ŸAppleHDAé€šè¿‡å¯¹DSDTæ‰“è¡¥ä¸å®Œå–„ç”µæ± æ˜¾ç¤ºå‚è€ƒpcbetadaxuexinshengçš„å¸–å­tonymacx86RehabMançš„å¸–å­åŠ è½½x86å®ç°å˜é¢‘å’ŒåŸç”Ÿç”µæºç®¡ç†ï¼Œå®Œå–„èŠ‚èƒ½å™¨ä¿¡æ¯å¯¹äºHaswellä»¥åŠBroadwellå¹³å°ï¼Œåˆ©ç”¨ssdtPRGenç”ŸæˆSSDTï¼Œåœ¨configä¸­dropæ‰CpuPmå’ŒCpu0Istä¸¤ä¸ªè¡¨ï¼Œå¹¶åˆ©ç”¨FakeSMCæˆ–DSDTæˆ–hotpatchåŠ è½½AppleLPCå¯¹äºSkylakeåŠä»¥ä¸Šå¹³å°ï¼Œé€‰æ‹©æ”¯æŒHWPçš„åˆé€‚çš„æœºå‹ï¼Œå¹¶å‹¾é€‰HWPEnableã€‚æ³¨å…¥HiDPIå’Œæ˜¾ç¤ºå™¨ä¿¡æ¯å®Œå–„å”¤é†’åçš„èŠ±å±ã€é—ªå±ã€æ’•è£‚å±é—®é¢˜å‚è€ƒï¼šmacOS Sierra 10.12ä¸‹ å¼€å¯HiDPI å‚»ç“œå¼å¼€å¯æ•™ç¨‹å†™åœ¨æœ€åæœ¬å¸–å¤šå¤„å¼•ç”¨ç°æˆå¸–å­ï¼Œåªæ˜¯å°†æ•´ä¸ªæµç¨‹åšä¸ªé™ˆè¿°ï¼Œæ„åœ¨æ•´ç†æ€è·¯ï¼Œä»¥ä¾¿å¤§å®¶æ›´å¥½åœ°ç†è§£å®è·µã€‚æœ¬äººæ°´å¹³æœ‰é™ï¼Œå¸–å­ä¸­çš„ä¸æ­£ç¡®ä¹‹å¤„å¸Œæœ›å¤§å®¶ç§¯ææ‰¹è¯„æŒ‡å‡ºï¼Œä¸€èµ·å®Œå–„ã€‚æ¥¼ä¸»çœŸçš„æ˜¯æ‡’åˆ°èœ•çš®(æ‰‹åŠ¨æ»‘ç¨½å“ˆå“ˆ)å¸–å­ä¸­å›¾ç‰‡å¾ˆå¤šæ˜¯å‡ºè‡ªé»‘æœå°å…µçš„åšå®¢ï¼šmacOSå®‰è£…æ•™ç¨‹å…¼å°ç±³Proå®‰è£…è¿‡ç¨‹è®°å½•ã€‚æ„Ÿè°¢å„ä½é»‘æœå‰è¾ˆçš„å¥½å¸–å­ï¼Œå¼•ç”¨å¤ªå¤šï¼Œæ–‡ä¸­ä¹Ÿæœ‰è¯´æ˜ï¼Œå°±ä¸ä¸€ä¸€åˆ—å‡ºäº†ã€‚å¾…ç»­â€¦â€¦","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"Hacintosh","slug":"Hacintosh","permalink":"https://blog.iamzhl.top/tags/Hacintosh/"},{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/tags/é»‘è‹¹æœ/"}]},{"title":"åˆ©ç”¨ AppleALC é©±åŠ¨å£°å¡","slug":"Driver-audio-for-hackintosh","date":"2017-11-05T16:00:00.000Z","updated":"2019-03-11T16:21:49.889Z","comments":true,"path":"Driver-audio-for-hackintosh.html","link":"","permalink":"https://blog.iamzhl.top/Driver-audio-for-hackintosh.html","excerpt":"","text":"å‰è¨€åœ¨vit9696æ¨å‡ºAppleALCåï¼Œç»è¿‡è¶Šæ¥è¶Šå¤šäººä»¿å†’å£°å¡å¾—åˆ°çš„æ•°æ®çš„æäº¤æ•´ç†ï¼ŒAppleALCçš„æ•°æ®è¶Šæ¥è¶Šé›†ä¸­ï¼Œä¹Ÿä½¿å£°å¡é©±åŠ¨å˜å¾—è¶Šæ¥è¶Šç®€å•ã€‚æœ¬æ–‡æä¾›ä½¿ç”¨AppleALCé©±åŠ¨å£°å¡çš„æ€è·¯ä»¥åŠå¸¸è§é”™è¯¯å’Œé©±åŠ¨åçš„é—®é¢˜è¿›è¡Œä¿®å¤ã€‚å‰æœŸå‡†å¤‡éœ€è¦ä¸‹è½½Xcodeåœ¨AppleStoreä¸‹è½½ä¸‹è½½AppleALCé€šè¿‡ç»ˆç«¯æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä¼šä¸‹è½½åˆ°ä½ çš„ç”¨æˆ·æ ¹ç›®å½•1$ git clone https://github.com/vit9696/AppleALCä¸‹è½½Liluåœ¨ä¸‹é¢çš„ç½‘å€ä¸‹è½½DEBUGå’ŒRELEASE1https://github.com/vit9696/Lilu/releasesæå–Codecè¿™ä¸€æ­¥éœ€è¦ç”¨åˆ°Linuxç¯å¢ƒï¼Œé¦–å…ˆä¸‹è½½Ubuntué•œåƒï¼Œæˆ‘ä¸ªäººæä¾›ä¸€ä¸ª1é“¾æ¥:http://pan.baidu.com/s/1i47I0jN å¯†ç :de4vå½“ç„¶ä¹Ÿå¯ä»¥å»å®˜ç½‘ä¸‹è½½ï¼Œä¸‹è½½å¥½é•œåƒä¹‹åï¼Œå°†Uç›˜æ ¼å¼åŒ–ä¸ºFat32ï¼Œç„¶åå°†é•œåƒè§£å‹åˆ°Uç›˜ï¼Œé‡å¯ä»¥Uç›˜å¯åŠ¨ï¼Œé€‰æ‹©è¯•ç”¨è¿›å…¥Ubuntuç³»ç»Ÿç•Œé¢ï¼Œæ‰“å¼€ç»ˆç«¯è¾“å…¥1$ cat /proc/asound/card0/codec#0 &gt; ~/Desktop/Codec.txtæ‰§è¡Œå®Œåä¼šå°†Codec.txtæå–åˆ°æ¡Œé¢ï¼Œå°†å…¶ä¿å­˜åˆ°Uç›˜PS: ä¸€èˆ¬æ¥è¯´æå–çš„Codecä¼šæœ‰10kå·¦å³å¤§å°ï¼Œå¦‚æœå¤§å°ä¸å¤Ÿï¼Œå¾ˆæœ‰å¯èƒ½æå–é”™è¯¯ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹å‘½ä»¤1$ cat /proc/asound/card0/codec#1 &gt; ~/Desktop/Codec.txtæˆ–è€…1$ cat /proc/asound/card0/codec#2 &gt; ~/Desktop/Codec.txtæˆ–è€…1$ cat /proc/asound/card1/codec#0 &gt; ~/Desktop/Codec.txtCodec.txtçš„æ•°æ®æ•´ç†è®°å½•Addresså’ŒVendor Idå€¼Codec.txtå¼€å¤´éƒ¨åˆ†æå–èŠ‚ç‚¹ä¿¡æ¯æœç´¢Pin Defaultè®°å½•Nodeå’ŒèŠ‚ç‚¹æè¿°ï¼Œä»¥æˆ‘çš„ä¸ºä¾‹PS: N/AèŠ‚ç‚¹æ— æ•ˆæ— éœ€æ•´ç†è®°å½•HP Out at Ext LeftèŠ‚ç‚¹çš„tagå’Œenableå€¼PS: Unsolicited Responseçš„è®¾å®šæ˜¯ä¸ºäº†è§£å†³è€³æœºå’Œå¤–æ”¾åˆ‡æ¢çš„é—®é¢˜ã€‚éœ€è®¾å®š HP Out at Ext æ‰€åœ¨çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”èŠ‚ç‚¹ä¿¡æ¯ä¸­æœ‰Unsolicited: tag=xx, enabled=1 è¿™ä¸€è¡Œã€‚è®¾å®šå‘½ä»¤ä¸ºAddress+NodeID+708+&lt;è®¾å®šå€¼&gt;è®¾å®šå€¼æ˜¯8ä½çš„ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ï¼Œè®°ä½œa7 a6 a5 a4 a3 a2 a1 a0ï¼Œæ¨ç®—å‡ºæ­¤äºŒè¿›åˆ¶æ•°ä¹‹åï¼Œå››å››æ‹†åˆ†è½¬æ¢ä¸º2ä½çš„åè¿›åˆ¶æ•°åŠ 1å³ä¸ºæ­¤è®¾å®šå€¼a7è¡¨ç¤ºenabledã€‚a6=0ï¼Œæ²¡å…·ä½“åº”ç”¨ï¼Œä¸ç”¨ç®¡ã€‚a5~a0ï¼Œå­˜æ”¾tagã€‚**è®°å½•Mic at ExtèŠ‚ç‚¹çš„Pin-ctlså€¼PS: Pin Control Widgetçš„è®¾å®šæ˜¯ä¸ºäº†è§£å†³è€³æœºæ‚éŸ³çš„ã€‚éœ€è¦è®¾å®šçš„æ˜¯ Mic at Ext æ‰€åœ¨çš„èŠ‚ç‚¹ï¼Œè®¾å®šçš„å€¼å¯ä»¥ä»codec dumpä¸­è¯»å–ã€‚è®¾å®šå‘½ä»¤æ˜¯ Address+NodeID+707+Pin-ctlså€¼ã€‚æ•´ç†å®Œåï¼Œä¼šå¾—åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„æ•°æ®é›†åˆPS: å¸¸è§çš„èŠ‚ç‚¹è®¾å¤‡æè¿°å¦‚ä¸‹ï¼šMic at Extâ€“çº¿è·¯è¾“å…¥(è€³éº¦)Mic at Inâ€“å†…å»ºè¾“å…¥HP Outâ€“è€³æœºæ‰¬å£°å™¨Speakerâ€“å†…å»ºæ‰¬å£°å™¨(å¤–æ”¾)è‡³æ­¤ï¼ŒCodec æ•°æ®çš„æ•´ç†åˆ°æ­¤ç»“æŸAppleALCä¸­æ•°æ®çš„ç­›é€‰ä¾æ¬¡æ‰“å¼€ä¸‹è½½çš„AppleALCæºç é‡Œé¢/AppleALC/Resources/PinConfigs.kext/Contentsä¸‹çš„Info.plistæœç´¢ä¹‹å‰è®°å½•çš„CodecIDè®°å½•æœç´¢åˆ°çš„æ‰€æœ‰çš„IDä¸­çš„configdataï¼Œå¦‚ä¸‹æ•´ç†æ¯ä¸€è¡Œçš„æ¯ä¸€ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä»£è¡¨Addresså€¼æ¯ä¸€è¡Œçš„ç¬¬ä¸‰ä¸²å€’æ•°ç¬¬äºŒä¸ªå­—ç¬¦ä»£è¡¨è¿™ä¸ªèŠ‚ç‚¹çš„è®¾å¤‡æè¿°ï¼Œå…·ä½“å¯¹åº”å…³ç³»å¦‚ä¸‹æ ¹æ®ä¸Šå›¾è®¾å¤‡å¯¹åº”å…³ç³»å’ŒAddresså€¼æ’é™¤æ‰æ— æ•ˆçš„IDæ•°æ®å¼€å·¥å°†ä¸‹è½½çš„Debugçš„Lilu.kextæ”¾è¿› AppleALC æºç æ ¹ç›®å½•ï¼›åˆ é™¤/AppleALC/Resourcesä¸­å¤šä½™æ–‡ä»¶å¤¹ï¼Œåªç•™ä¸‹ä½ çš„å£°å¡å‹å·æ–‡ä»¶å¤¹ã€Pinconfigs.kextä»¥åŠå››ä¸ªplistæ–‡ä»¶ï¼Œä»¥cx20751è¿™ä¸ªå£°å¡ä¸ºä¾‹å‰©ä¸‹å¦‚ä¸‹æ–‡ä»¶ç„¶åæ‰“å¼€è®¡ç®—å™¨ï¼Œæ˜¾ç¤ºä¸ºç¼–ç¨‹å™¨æ‰“å¼€ä½ æ•´ç†çš„Codecï¼Œæ‰¾åˆ°Vendor Idï¼Œæ‹·è´åé¢çš„å­—ç¬¦ä¸²ï¼Œåœ¨è®¡ç®—å™¨é€‰ä¸­åå…­è¿›åˆ¶ï¼Œç²˜è´´è¿™ä¸ªå­—ç¬¦ä¸²ç„¶åé€‰ä¸­åè¿›åˆ¶ï¼Œå°±æ¢è½¬æ¢æˆåè¿›åˆ¶å½¢å¼æ‹·è´è¿™ä¸ªåè¿›åˆ¶æ•°ï¼Œæ‰“å¼€/AppleALC/Resources/CX20751_2/Info.plist(æ­¤å¤„çš„CX20751_2éœ€è¦æ¢æˆä½ çš„å£°å¡å‹å·)ï¼ŒæŠŠcodecidæ¢æˆåˆšæ‰æ‹·è´çš„åè¿›åˆ¶æ•°ä¿å­˜é€€å‡ºï¼Œå³é”®PinConfigs.kextæ˜¾ç¤ºåŒ…å†…å®¹ï¼Œæ‰“å¼€é‡Œé¢çš„Info.plistï¼Œæœç´¢åˆšæ‰æ‹·è´çš„åè¿›åˆ¶æ•°ï¼Œè®°ä¸‹LayoutIDæ•°æ®ï¼Œæœ‰å‡ ä¸ªè®°å‡ ä¸ªï¼Œéƒ½è®°ä¸‹æ¥ï¼Œç„¶åå°†IOKitPersonalities-&gt;HDA Hardware Config Resource-&gt;HDAConfigDefaultä¸­çš„å…¶ä»–å‹å·åˆ é™¤ï¼Œ(ä¸ºé¿å…å‡ºé”™ï¼Œè¿™é‡Œçš„åˆ é™¤å¯ä»¥ä¸æ“ä½œï¼Œåˆ é™¤åªæ˜¯ä¸ºäº†ç²¾ç®€åšå‡ºæ¥çš„AppleALC)ï¼Œä¿å­˜é€€å‡ºã€‚ç„¶ååŒå‡»æ‰“å¼€ AppleALC ä¸­çš„å·¥ç¨‹æ–‡ä»¶ï¼šæŒ‰å›¾ç¤ºæ“ä½œç‚¹å‡»å³é¢çš„Distribute ContentnextExport Aså¡«ä¸Šæ¡Œé¢ï¼Œç‚¹exportå°±ç”ŸæˆAppleALCåœ¨æ¡Œé¢ä¸Šäº†ï¼Œä¸€å±‚ä¸€å±‚æ‰“å¼€å®ƒï¼Œå°†å…¶ä¸­çš„AppleALC.kextæ”¾åˆ°cloveré©±åŠ¨ç›®å½•ï¼Œæ³¨æ„ä¹‹å‰ä¸‹è½½çš„Releaseçš„Liluä¹Ÿè¦æ”¾åˆ°cloveré©±åŠ¨ç›®å½•ï¼Œæœ€åä¸è¦å¿˜äº†æ³¨å…¥LayoutIDï¼šå¦‚æœé‡å¯åä½ çš„å£°å¡ä¸èƒ½é©±åŠ¨ï¼Œæˆ–è€…å·²é©±åŠ¨ä½†æ˜¯æ²¡æœ‰è¾“å…¥æˆ–è¾“å‡ºï¼Œè¿™æ—¶å¾ˆæœ‰å¯èƒ½æ˜¯è¯¥LayoutIDå¯¹åº”çš„configdataæ•°æ®æœ‰é”™è¯¯ï¼Œè¿™æ—¶å°±æŒ¨ä¸ªå°è¯•åˆšæ‰è®°å½•çš„æ‰€æœ‰IDã€‚è‡³æ­¤ï¼Œ AppleALC é©±åŠ¨å£°å¡éƒ¨åˆ†ç»“æŸã€‚å…³äºè§£å†³è€³æœºä¸å†…å»ºè¾“å…¥çš„åˆ‡æ¢å¦‚æœé©±åŠ¨å·¥ä½œå®Œæˆåï¼Œå£°å¡å¯ä»¥å·¥ä½œï¼Œä½†ä¸èƒ½è‡ªåŠ¨åˆ‡æ¢ï¼Œè¯·æ¥ç€å¾€ä¸‹çœ‹æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥1git clone https://github.com/goodwin/ALCPlugFixå›è½¦å°±å°†ALCPlugFixä¸‹è½½åˆ°äº†ä½ çš„ç”¨æˆ·ç›®å½•ï¼Œæ‰“å¼€æ­¤ç›®å½•ä¸­çš„ALCPlugFixä¸­çš„main.mä¸‹æ‹‰åˆ°æœ€ä¸‹æ–¹ï¼Œæ³¨æ„è¿™ä¸€éƒ¨åˆ†ï¼šä¸‹è½½CodecCommander12345$ git clone https://github.com/athlonreg/ALCPlugFix.git$ git clone https://github.com/RehabMan/EAPD-Codec-Commander.git$ cp ALCPlugFix/alc_fix/hda-verb /usr/local/bin/$ cd EAPD-Codec-Commander$ ./widget_dump.shå›è½¦æ‰¾åˆ°nid = 0x19å’Œnid = 0x1aï¼Œè¿™é‡Œæˆ‘çš„19ä¸º line inï¼Œ1aä¸ºmic inï¼Œè®°å½•ä¸‹æœ€åä¸¤ä½ï¼Œæˆ‘çš„æ˜¯04å’Œ24å°±è¿™ä¹ˆæ”¹PS: è¿™é‡Œéœ€è¦è®¾å®šçš„èŠ‚ç‚¹æ•°æ®åˆ†åˆ«æ˜¯line inå’Œmic inï¼Œå…¶ä»–èŠ‚ç‚¹æ— æ•ˆï¼Œæ€æƒ³å°±æ˜¯æ•è·ç³»ç»Ÿåœ¨ä¸æ’è€³æœºæ—¶ç”±äºå…¶è¾“å…¥è¾“å‡ºæ­£å¸¸çš„è¿™ä¸¤ä¸ªèŠ‚ç‚¹çš„è¾“å‡ºå€¼ï¼Œç„¶åå°±å¯ä»¥çŸ¥é“æ’è€³æœºæ­£å¸¸åº”è¯¥è¾“å‡ºçš„å€¼ï¼Œè¿›è€Œåˆ©ç”¨AppleALCå®ˆæŠ¤è¿›ç¨‹åŠ¨æ€å®ˆæŠ¤ã€‚å¦‚æœå‡ºç°æ’è€³æœºæ­£å¸¸ï¼Œä¸æ’æ— æ•ˆçš„æƒ…å†µï¼Œè¯·æŒ‰ç…§è¿™ä¸ªæ€è·¯åè¿‡æ¥æ“ä½œï¼Œæ€æƒ³éƒ½æ˜¯ä¸€æ ·çš„ã€‚å…¶ä¸­å›¾ä¸Šçš„é«˜äº®å¤„æœ€ä¸Šé¢ä¸€éƒ¨åˆ†æ˜¯é»˜è®¤æƒ…å†µï¼Œä¸­é—´æ˜¯è€³æœºç§»é™¤ï¼Œæœ€ä¸‹é¢æ˜¯è€³æœºæ’å…¥ï¼Œè¯·ç»“åˆè‡ªèº«ä½¿ç”¨æƒ…å†µåˆç†è®¾å®šä¿å­˜é€€å‡ºï¼ŒåŒå‡»æŒ‰ç…§AppleALCçš„ç¼–è¯‘æ–¹æ³•ç¼–è¯‘è¿™ä¸ªç„¶åå°†ç”Ÿæˆçš„ALCPlugFixæ›¿æ¢alc_fixä¸­çš„ALCPlugFixï¼Œç»ˆç«¯cdåˆ°alc_fixç›®å½•ï¼Œæ‰§è¡Œ1$ ./install.shè€³æœºå°±å¯ä»¥è‡ªåŠ¨åˆ‡æ¢äº†ï¼Œä¸‰èŠ‚ç‚¹çš„æœ‹å‹è¿æ°”å¥½çš„è¯æ‚éŸ³åº”è¯¥ä¹Ÿè§£å†³äº†ï¼Œè¿™æ—¶æ’å…¥è€³æœºåœ¨æ‰§è¡Œ1$ ./widget_dump.shå°±å¯ä»¥å‘ç°ä¹‹å‰çš„19å’Œ1aåé¢çš„æ•°æ®åè¿‡æ¥äº†(æˆ‘è¿™é‡Œæ˜¯ä¿®å¤å¥½çš„ï¼Œå°±ä¸å†æ¼”ç¤ºäº†ã€‚ã€‚ã€‚)å…¶å®è¿™é‡Œçš„æ•°æ®å°±æ˜¯ä¾¦æµ‹è€³æœºæ’æ‹”çŠ¶æ€ï¼Œå‘ç³»ç»Ÿå‘é€ç›¸å…³æŒ‡ä»¤æ¥åšåˆ°åˆ‡æ¢æ­£å¸¸éœ€è¦è®¾å®šçš„å°±æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹Mic at Ext(æœ‰æ—¶æ˜¯Line In)å’ŒMic at InMic at Ext(æœ‰æ—¶æ˜¯Line In)è¡¨ç¤ºçº¿è·¯è¾“å…¥ï¼Œå³è€³éº¦ï¼Œå¤šä¸º0x19èŠ‚ç‚¹Mic at Inä¸ºå†…å»ºè¾“å…¥å¦‚æœä¸è¡Œé‡å¯ä¸€æ¬¡åº”è¯¥å°±å¥½äº†ã€‚è‡³æ­¤ï¼Œè§£å†³è€³æœºä¸å†…å»ºè¾“å…¥çš„åˆ‡æ¢éƒ¨åˆ†ç»“æŸã€‚å…³äºå”¤é†’æ— å£°å¯ä»¥å…ˆå°è¯•ä¸‹é¢ä¸¤ä¸ªé©±åŠ¨CodecCommanderEAPDFix æå–å¯†ç :w4yrPS: å…³äºCodecCommanderï¼Œå¯ä»¥ç‚¹å‡»è¿™é‡Œå‚è€ƒRehabMançš„è¯´æ˜å¦å¤–å››å¶è‰åŠ©æ‰‹ä¸­ä¹Ÿæä¾›äº†ç›¸å…³é€‰é¡¹(ResetHDAå’Œdartweak)ï¼Œä½†æ˜¯æœ¬äººæ²¡æœ‰äº²è‡ªå°è¯•ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œå°è¯•è¿™äº›ç»„åˆï¼šæœ¬äººå¯¹å”¤é†’æ— å£°ç ”ç©¶ä¸å¤šï¼Œè‡³æ­¤ï¼Œè§£å†³è€³æœºä¸å†…å»ºè¾“å…¥çš„åˆ‡æ¢éƒ¨åˆ†ç»“æŸï¼Œæ¬¢è¿è¡¥å……ã€‚å…³äºä¸‡èƒ½å£°å¡å¾ˆå¤šäººä¸å–œæ¬¢ä¸‡èƒ½å£°å¡ï¼Œè¯´ä¸‡èƒ½æœ‰æ‚éŸ³(ä½†æ˜¯æœ‰ä¸€äº›äººçš„AppleALCä¹Ÿå¯èƒ½æœ‰æ‚éŸ³)ï¼Œç”šè‡³è¯´ç”¨ä¸‡èƒ½å£°å¡æ˜¯ä¸å®Œç¾çš„è¡¨ç°ï¼Œå…¶å®æˆ‘è®¤ä¸ºä¸ç„¶ï¼Œä¸‡èƒ½æ˜¯ä¸€ç§å¾ˆå¥½çš„æ¸ é“ï¼Œæœ‰ä¸å°‘äººç”¨ä¸‡èƒ½å£°å¡ï¼Œä»–ä»¬çš„åˆ‡æ¢ã€è¾“å…¥ç”šè‡³HDMIéƒ½èƒ½å¾ˆå¥½çš„è¾“å‡ºï¼Œè€Œä¸”æ‚éŸ³ä¹Ÿæ˜¯å¯ä»¥å‡å°çš„ã€‚è¿™é‡Œæˆ‘ç»™å‡ºå®˜æ–¹çš„é¡¹ç›®åœ°å€ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è¯•ä¸€ä¸‹https://sourceforge.net/projects/voodoohda/PS: éœ€è¦æ³¨æ„çš„æ˜¯æœ‰äººç”¨çš„æ˜¯VoodooHDA.pkgå®‰è£…çš„ï¼Œè¿™ç§æƒ…å†µéœ€è¦å°†AppleHDADisabler.kextæ”¾åˆ°Cloverçš„é©±åŠ¨ç›®å½•æ¥ç¦ç”¨AppleHDAï¼Œå¦åˆ™å¾ˆæœ‰å¯èƒ½ä¼šé€ æˆKPäº”æœï¼Œæ‰€ä»¥æˆ‘å»ºè®®ç›´æ¥ç”¨kextï¼Œè®©Cloveræ³¨å…¥å™¨æ³¨å…¥å³å¯ã€‚å…³äºå®Œæ•´ä»¿å†’å‰è¨€å£°å¡å‹å·ä¼—å¤šï¼Œè™½ç„¶AppleALCè®©æ•°æ®æ›´é›†ä¸­äº†ï¼Œä½†è¿˜æ˜¯æœ‰äº›å£°å¡ä¸åœ¨ç›®å‰çš„AppleALCæ”¯æŒçš„åˆ—è¡¨é‡Œé¢ï¼Œå¯¹äºè¿™ç§æƒ…å†µæ¥è¯´ï¼Œæˆ‘ä»¬åªèƒ½å®Œæ•´åˆ¶ä½œä»¿å†’å£°å¡ã€‚æ¥ä¸‹æ¥ä»¥æˆ‘çš„CX20751ä¸ºä¾‹ç®€è¿°ä»¿å†’å£°å¡åˆ¶ä½œè¿‡ç¨‹ã€‚å®Œæ•´åˆ¶ä½œä»¿å†’å£°å¡æ€è·¯æ•´ç†Codecï¼Œæå–æ‰€æœ‰æœ‰æ•ˆNodeå€¼å°†æ•´ç†å‡ºçš„æ‰€æœ‰Nodeçš„Pin Defaultå€¼è¿›è¡Œè½¬æ¢å¾—å‡ºéœ€è¦çš„å€¼æ ¹æ®æŸäº›è§„å¾‹æˆ–è€…è§„åˆ™å¾—å‡ºConfigDataPathMapçš„è·å–å’Œæ•´ç†çŸ¥è¯†æ™®åŠæ¯ä¸€ä¸ªNodeçš„ConfigDataå€¼éƒ½æ˜¯ç”±å››ä¸ªå…«ä½çš„å­—ç¬¦ä¸²ç»„æˆï¼Œè¿™å››ä¸ªä¸²çš„æœ€åä¸¤ä½åˆ†åˆ«æ˜¯ä¸€ä¸ªå…«ä½çš„è®¾å®šå€¼çš„1 2ã€3 4ã€5 6ã€7 8ä½ï¼Œè¿™å››ä¸ªå…«ä½çš„å­—ç¬¦ä¸²çš„è®¾å®šè§„åˆ™åˆ†åˆ«æ˜¯æ˜¯Address+Node+71C+1 2ä½è®¾å®šå€¼ã€Address+Node+71D+3 4ä½è®¾å®šå€¼ã€Address+Node+71E+5 6ä½è®¾å®šå€¼ã€Address+Node+71F+7 8ä½è®¾å®šå€¼ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œæœ‰ä¸¤ä¸ªä¸åŒçš„å…«ä½è¢«æåŠï¼Œå…¶ä¸­ä¸€ä¸ªå…«ä½(è¿™å…«ä½æ¯ä¸€ä½éƒ½æœ‰ç‰¹å®šçš„å«ä¹‰ï¼Œä¹Ÿæ˜¯ä»¿å†’æˆåŠŸæœ€å…³é”®çš„åœ°æ–¹ï¼Œåœ¨åé¢æˆ‘ç§°ä¹‹ä¸ºè®¾å®šå€¼)æ˜¯è¢«å‡åˆ†å››ä»½ä»è€Œæ”¾åˆ°ConfigDataçš„å„ä¸ªèŠ‚ç‚¹æ‰€å¯¹åº”çš„å››ä¸ªä¸²çš„ä¸ƒå…«ä½è€Œè¿™ä¸ªå…«ä½çš„è®¾å®šå€¼æ¯ä¸€ä½çš„å«ä¹‰å¦‚ä¸‹ï¼šç¬¬ä¸€ä½ï¼šä»£è¡¨èŠ‚ç‚¹è®¾å®šå€¼(Address)ï¼Œä¸€èˆ¬ä¸éœ€è¦æ”¹å˜ï¼›ç¬¬äºŒä½ï¼šåŒç»„è£…ç½®çš„ä¼˜å…ˆé¡ºåºï¼Œä¸€èˆ¬ä¸º 0~3ï¼Œä¸å¯å‡ºç°å­—æ¯ï¼›ç¬¬ä¸‰ä½ï¼šæ’å£é¢œè‰²ï¼Œç¬”è®°æœ¬å¿½ç•¥ï¼Œä¸ä½œå¤„ç†ï¼›ç¬¬å››ä½ï¼šæ’å­”ä¾¦æµ‹ï¼Œ0ä¸ºå¼€å¯(å¤–è®¾åŸºæœ¬ä¸º0)ï¼Œ1ä¸ºå…³é—­(å†…å»ºåŸºæœ¬ä¸º1)ï¼›ç¬¬äº”ä½ï¼šè£…ç½®ç±»å‹ï¼Œç¬”è®°æœ¬å¿½ç•¥ï¼›ç¬¬å…­ä½ï¼šè¿æ¥ç±»å‹ï¼Œåœ†å£ä¸º1ï¼Œå†…æ¥ä¸º0ï¼ŒåŸºæœ¬å¯ä»¥å¿½ç•¥ï¼›ç¬¬ä¸ƒä½ï¼šä»£è¡¨æ˜¯å¦æœ‰æ’å­”åŠæ’å­”ä½ç½®0=å¤–æ¥ï¼Œ9=å†…å»ºï¼Œè€³æœºæ‰¬å£°å™¨å’Œè€³éº¦å‡ä¸ºå¤–æ¥ï¼›ç¬¬å…«ä½ï¼šä»£è¡¨æ’å­”æ‰€åœ¨ä½ç½®ï¼Œ0=å†…å»ºï¼Œ1=å¤–æ¥ï¼›å¼€å§‹æ•´ç†Codecï¼Œæå–æ‰€æœ‰æœ‰æ•ˆNodeå€¼ä¸ä¸Šé¢åˆ©ç”¨AppleALCçš„æ€è·¯ä¸åŒï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦æå–çš„æ•°æ®æœ‰è®¾å¤‡æè¿°ã€Nodeå€¼å’ŒPin Defaultå€¼ã€‚å…·ä½“æå–æ–¹æ³•ä¸Šæ–‡å·²æœ‰è¯´æ˜ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œä¸‹é¢æ˜¯æˆ‘çš„CX20751æå–çš„æ•°æ®ï¼šå°†æ•´ç†å‡ºçš„æ‰€æœ‰Nodeçš„Pin Defaultå€¼è¿›è¡Œè½¬æ¢ä¿®æ­£å¾—å‡ºéœ€è¦çš„è®¾å®šå€¼å¯¹äºPin Defaultå€¼ï¼Œæˆ‘ä»¬çš„å¤„ç†æ–¹æ³•ä¸ºå…«ä½å››åˆ†ã€äºŒäºŒé€†ç½®ï¼Œä¾‹å¦‚0x16èŠ‚ç‚¹ï¼Œé¦–å…ˆå¾—å‡º40 10 21 03ï¼ŒåŒç†å¾—å‡ºï¼š12340x16: 40 10 21 030x17: 10 01 17 900x19: 30 10 A1 030x1a: 20 01 A7 95æ ¹æ®å…«ä½è®¾å®šå€¼çš„è§„åˆ™æè¿°ï¼Œå¯¹ä¸Šé¢å¾—å‡ºçš„è®¾å®šå€¼è¿›è¡Œä¿®æ­£ã€‚æ‹¿0x16ä¸ºä¾‹ï¼Œè¿™æ˜¯ä¸€ä¸ªè€³æœºæ‰¬å£°å™¨èŠ‚ç‚¹ã€‚ç¬¬1ã€2ã€3ä½æ²¡ä»€ä¹ˆå¥½è¯´çš„ä¿æŒä¸å˜ï¼›ç¬¬4ä½æ’å­”ä¾¦æµ‹ï¼Œè€³æœºè®¾å¤‡å±äºå¤–æ¥è®¾å¤‡ï¼Œæ‰€ä»¥åº”å½“æ˜¯0ï¼Œè¿™é‡Œæ˜¯0ä¸ç”¨åŠ¨ï¼›ç¬¬5ä½è£…ç½®ç±»å‹ç¬”è®°æœ¬å¿½ç•¥ï¼›ç¬¬6ä½è¿æ¥ç±»å‹ï¼Œæ’å£ä¸ºåœ†å£ï¼Œæ‰€ä»¥æ˜¯1ï¼Œè¿™é‡Œæ˜¯1ï¼Œä¿æŒä¸å˜ï¼›ç¬¬7ä½ä»£è¡¨æ˜¯å¦æœ‰æ’å­”ï¼Œè€³æœºæ˜¯å¤–æ¥è®¾å¤‡ï¼Œæ‰€ä»¥æ˜¯0ï¼Œè¿™é‡Œæ˜¯0ï¼Œä¿æŒä¸å˜ï¼›ç¬¬8ä½æ’å­”æ‰€åœ¨ä½ç½®ï¼Œè€³æœºæ˜¯å¤–æ¥è®¾å¤‡ï¼Œæ‰€ä»¥æ˜¯1ï¼›å…¶ä»–NodeèŠ‚ç‚¹ä¹Ÿæ˜¯å¦‚æ­¤è®¾å®šï¼›ä¿®æ­£åçš„æ•°æ®å¦‚ä¸‹ï¼š12340x16: 40 10 21 010x17: 10 01 17 900x19: 30 10 81 010x1a: 20 01 A0 90æ ¹æ®è§„å¾‹æˆ–è€…è§„åˆ™å¾—å‡ºConfigDataæ ¹æ®ä¸Šé¢å¾—å‡ºçš„è®¾å®šå€¼ï¼Œæˆ‘å¯ä»¥å¾—å‡ºä»¥ä¸‹ConfigDataå€¼ï¼š123401671C40 01671D10 01671E21 01671F0101771C10 01771D01 01771E17 01771F9001971C30 01971D10 01971E81 01971F0101a71C20 01a71D01 01a71EA0 01a71F90PS: æœç´¢ä¸€ä¸‹codecé‡Œé¢æœ‰æ²¡æœ‰EAPDè¿™ä¸ªå­—ç¬¦ä¸²ï¼Œæœ‰çš„è¯å°±åœ¨ConfigDataçš„æœ€åé¢åŠ ä¸Šä¸€ä¸²01470C02è¿™ç»„æ•°å­—ã€‚PathMapçš„è·å–å’Œæ•´ç†åœ¨å£°å¡ä»¿å†’çš„è¿‡ç¨‹ä¸­è¿™ä¸€æ­¥æ˜¯æœ€éº»çƒ¦çš„ã€‚æœ‰å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚å¯¹äºå£°éŸ³èŠ‚ç‚¹æ¥è¯´ï¼ŒèŠ‚ç‚¹è·¯å¾„çš„æ¨æ–­éµå¾ªä¸€ä¸ªè§„å¾‹ï¼šè¾“å…¥æ˜¯ä»åå¾€å‰æ¨æ–­èŠ‚ç‚¹ï¼Œè¾“å‡ºæ˜¯ä»å‰å¾€åæ¨ã€‚é¦–å…ˆåˆ©ç”¨codecgraphå¾—åˆ°è·¯å¾„å›¾ï¼Œè¯¥æ“ä½œéœ€è¦å®‰è£…graphvizï¼Œè¿™é‡Œæˆ‘æ¨èåˆ©ç”¨ç»ˆç«¯npm install graphvizå®‰è£…å³å¯ï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ä¸‹è½½codecgraph1$ git clone https://github.com/athlonreg/codecgraph.gitè¿™æ ·å°±ä¸‹è½½åˆ°äº†ä½ çš„ç”¨æˆ·æ ¹ç›®å½•ï¼Œå°†ä½ çš„Codec.txtæ‹·è´åˆ°ä¸‹è½½çš„codecgraphç›®å½•ä¸‹ï¼Œç„¶å12$ cd codecgraph$ ./codecgraph Codec.txtå°±åœ¨codecgraphç›®å½•ä¸‹ç”Ÿæˆäº†ä½ çš„å£°å¡è·¯å¾„å›¾ï¼Œæ ¼å¼ä¸ºsvgï¼Œç”¨safariå³å¯æ‰“å¼€ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è½¬æ¢ä¸ºå…¶ä»–æ ¼å¼ï¼Œä¾‹å¦‚æˆ‘çš„å¯ä»¥çœ‹åˆ°0x16èŠ‚ç‚¹åªè¿æ¥äº†0x10ï¼ŒHP Outä¸ºè¾“å‡ºï¼Œä»å‰å¾€åæ¨ï¼Œè½¬æ¢ä¸ºåè¿›åˆ¶å¾—åˆ°0x22 -&gt; 0x16;0x17èŠ‚ç‚¹åªè¿æ¥äº†0x11ï¼ŒSpeakerä¸ºè¾“å‡ºï¼Œä»å‰å¾€åæ¨ï¼Œè½¬æ¢ä¸ºåè¿›åˆ¶å¾—åˆ°0x23 -&gt; 0x17;0x19èŠ‚ç‚¹åªè¿æ¥äº†0x14ï¼ŒMic at Intä¸ºè¾“å…¥ï¼Œä»åå¾€å‰æ¨ï¼Œè½¬æ¢ä¸ºåè¿›åˆ¶å¾—åˆ°0x20 -&gt; 0x25;0x1aèŠ‚ç‚¹åªè¿æ¥äº†0x13ï¼ŒMic at Extä¸ºè¾“å…¥ï¼Œä»åå¾€å‰æ¨ï¼Œè½¬æ¢ä¸ºåè¿›åˆ¶å¾—åˆ°0x19 -&gt; 0x26;æ•´ç†å¾—åˆ°è·¯å¾„å¦‚ä¸‹ï¼šè®¾å¤‡åç§°æœ‰æ•ˆèŠ‚ç‚¹è·¯å¾„HP Out0x160x22-&gt;0x16Speaker Out0x170x23-&gt;0x17Mic In0x1a0x26&lt;-0x19 0x26&lt;-0x20Line In0x190x25&lt;-0x20 0x26&lt;-0x19PS: æˆ‘çš„å£°å¡æ¯”è¾ƒå¥‡è‘©ï¼Œå¯¹äºå¤šæ•°å£°å¡æ¥è¯´ï¼Œè¾“å…¥ä¸€èˆ¬ä¸º0x8 -&gt; 0x35 -&gt; 0x18ï¼Œè¾“å‡ºä¸€èˆ¬ä¸º0x33 -&gt; 0x13 -&gt; 0x3AppleHDA ä¿®æ”¹Creditvit9696goodwinRehabManDolnordalianskyVoodooHDAå†™åœ¨æœ€åç å­—ä¸æ˜“ï¼Œå¦‚æœè§‰å¾—æ–‡ç« ä¸é”™ï¼Œæ¬¢è¿æ‰“èµï¼Œä½ ä»¬çš„æ”¯æŒæ˜¯æˆ‘æœ€å¤§çš„åŠ¨åŠ›ã€‚","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"Hacintosh","slug":"Hacintosh","permalink":"https://blog.iamzhl.top/tags/Hacintosh/"},{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/tags/é»‘è‹¹æœ/"}]},{"title":"å®ç° MAC åŸç”Ÿè¯»å†™ NTFS åˆ†åŒº","slug":"RW-NTFS-partition-natively-on-macOS","date":"2017-10-26T16:00:00.000Z","updated":"2019-03-11T16:21:49.899Z","comments":true,"path":"RW-NTFS-partition-natively-on-macOS.html","link":"","permalink":"https://blog.iamzhl.top/RW-NTFS-partition-natively-on-macOS.html","excerpt":"","text":"å®ç° MAC åŸç”Ÿè¯»å†™ NTFS åˆ†åŒºæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥å‘½ä»¤1$ diskutil listè¾“å…¥å‘½ä»¤1$ sudo vim /etc/fstabç¼–è¾‘å†…å®¹å¦‚ä¸‹1LABEL=Win\\040Ntfs\\040Drive none ntfs rw,auto,nobrowseæ³¨æ„**Win\\040Ntfs\\040Drive è¿™ä¸²å­—ç¬¦ä¸­\\040ä»£è¡¨ç©ºæ ¼ï¼ŒWin\\040Ntfs\\040Drive è¿™ä¸€ä¸²å‡ºç°åœ¨diskutil listé‚£ä¸ªå±å¹•é‡Œé¢æœ€åä¸€æ­¥1$ sudo ln -s /Volumes ~/Desktop/VolumesCreditè½¬è‡ªçˆ±æƒ…å®ˆæœ›è€…è½¬è½½è¯·æ³¨æ˜åŸå¸–åœ°å€","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"Hacintosh","slug":"Hacintosh","permalink":"https://blog.iamzhl.top/tags/Hacintosh/"},{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/tags/é»‘è‹¹æœ/"},{"name":"NTFS","slug":"NTFS","permalink":"https://blog.iamzhl.top/tags/NTFS/"}]},{"title":"ä¿®æ”¹ launchpad å›¾æ ‡å¸ƒå±€","slug":"Change-launchpad-icon-grid-layout-in-macOS","date":"2017-10-26T01:32:26.000Z","updated":"2019-03-11T16:21:49.884Z","comments":true,"path":"Change-launchpad-icon-grid-layout-in-macOS.html","link":"","permalink":"https://blog.iamzhl.top/Change-launchpad-icon-grid-layout-in-macOS.html","excerpt":"","text":"prefaceLaunchpad is the quick application launcher available from the Mac OS X Dock and a keystroke that looks quite a bit like the Homescreen of iOS. By default, the Launchpad app grid usually displays icons in 7 rows and 5 columns of apps, but with a little adjustment from the command line of OS X you can switch and customize the Launchpad icon grid to any number of apps youâ€™d like to see on the Mac.This uses the command line and defaults strings to customize the Launchpad grid layout, if youâ€™re not comfortable with Terminal youâ€™re probably better off leaving this alone and enjoying the default Launchpad app icon grid. Weâ€™ll combine the commands into a single syntax string for ease of use first, but you can break them apart as we show you a bit further below.How to Adjust the Icon Grid Count of Launchpad in Mac OS XOpen the Terminal found in /Applications/Utilities/ and enter the following command syntax, replacing the X numbers for the appropriate columns and grid icon counts1$ defaults write com.apple.dock springboard-columns -int X;defaults write com.apple.dock springboard-rows -int X;defaults write com.apple.dock ResetLaunchPad -bool TRUE;killall DockIt is:$ defaults write com.apple.dock springboard-columns -int X;defaults write com.apple.dock springboard-rows -int X;defaults write com.apple.dock ResetLaunchPad -bool TRUE;killall DockFor example, to set the Launchpad grid to 6Ã—7 youâ€™d use the following syntax:1$ defaults write com.apple.dock springboard-columns -int 7;defaults write com.apple.dock springboard-rows -int 6;defaults write com.apple.dock ResetLaunchPad -bool TRUE;killall DockIt is:$ defaults write com.apple.dock springboard-columns -int 7;defaults write com.apple.dock springboard-rows -int 6;defaults write com.apple.dock ResetLaunchPad -bool TRUE;killall DockHit Return and wait for the Dock and Launchpad to refreshOpen Launchpad as usual to see the layout changeThe settings change is immediate after the Dock refreshes:How to return to the default settingIf you want to return to the default setting, just change the column and row counts back to what yours was originally. The default on my MacBook Pro Retina display is a 5 x 7 grid, but yours may be different depending on screen size and screen resolution.1$ defaults write com.apple.dock springboard-columns -int 7;defaults write com.apple.dock springboard-rows -int 5;defaults write com.apple.dock ResetLaunchPad -bool TRUE;killall DockIt is:$ defaults write com.apple.dock springboard-columns -int 7;defaults write com.apple.dock springboard-rows -int 5;defaults write com.apple.dock ResetLaunchPad -bool TRUE;killall DockThe commands for customizing the Launchpad layout can also be split apart if desired like so:Set the Launchpad Column Icon Count1$ defaults write com.apple.dock springboard-columns -int 3Set the Launchpad Row App Icon Count1$ defaults write com.apple.dock springboard-rows -int 4Reset Launchpad1$ defaults write com.apple.dock ResetLaunchPad -bool TRUE;Relaunch the Dock with killall1$ killall DockCredit:Original Source: OSXDaily","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"launchpad","slug":"launchpad","permalink":"https://blog.iamzhl.top/tags/launchpad/"}]},{"title":"MAC å¸¸ç”¨å¿«æ·é”®æ•´ç†","slug":"Common-Keyboard-shortcut-in-macOS","date":"2017-10-26T00:14:21.000Z","updated":"2019-03-11T16:21:49.886Z","comments":true,"path":"Common-Keyboard-shortcut-in-macOS.html","link":"","permalink":"https://blog.iamzhl.top/Common-Keyboard-shortcut-in-macOS.html","excerpt":"","text":"å†™åœ¨å‰é¢è‹¹æœ Mac ç³»ç»Ÿå¸¸ç”¨å¿«æ·é”®æœ‰å¾ˆå¤šï¼Œä½†æ˜¯å¾ˆå¤šç«¥é‹å¯¹äºè¿™äº› Mac å¿«æ·é”®éƒ½ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œä»Šå¤©å°ç¼–ä¸ºå¤§å®¶æ•´ç†äº†ä¸€ä»½ Mac ç³»ç»Ÿå¸¸ç”¨å¿«æ·é”®å¤§å…¨ï¼Œå¤§å®¶å¿«æ”¶è—èµ·æ¥å§!å¹³æ—¶åœ¨ä½¿ç”¨ Mac ç³»ç»Ÿçš„æ—¶å€™å¯ä»¥æé«˜ä¸å°‘å·¥ä½œæ•ˆç‡å“¦!æœ¬æ–‡è½¬è‡ª Xclient.infoï¼Œè½¬è½½è¯·æ³¨æ˜åŸå‡ºå¤„å°æ™®åŠMacä¸­ä¸»è¦æœ‰å››ä¸ªä¿®é¥°é”®ï¼Œåˆ†åˆ«æ˜¯ Commandï¼ŒControlï¼ŒOption å’Œ Shiftã€‚è¿™å››ä¸ªé”®åˆ†åˆ«æœ‰è‡ªå·±çš„å›¾æ¡ˆï¼Œä»–ä»¬ç»å¸¸å‡ºç°åœ¨Macåº”ç”¨ç¨‹åºä¸­çš„èœå•æ é‡Œï¼Œæ–¹ä¾¿ä½ éšæ—¶å­¦ä¹ æ–°çš„å¿«æ·é”®ã€‚å¦‚ä¸‹æ­£æ–‡é€šç”¨å¿«æ·é”®Command æ˜¯ Mac é‡Œæœ€é‡è¦çš„ä¿®é¥°é”®ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ç›¸å½“äº Windows ä¸‹çš„ Ctrlï¼Œé»‘æœé€šå¸¸æ˜¯ Alt é”®ã€‚Command + Z æ’¤é”€ã€‚Command + X å‰ªåˆ‡ã€‚Command + C æ‹·è´(Copy)ã€‚Command + V ç²˜è´´ã€‚Command + A å…¨é€‰(All)ã€‚Command + S ä¿å­˜(Save)ã€‚Command + F æŸ¥æ‰¾(Find)ã€‚ç³»ç»Ÿå¿«æ·é”®Option å¼€æœºåç«‹å³æŒ‰ä¸‹ï¼Œå°†æ˜¾ç¤ºå¯åŠ¨ç®¡ç†å™¨ã€‚Command + R å¼€æœºåç«‹å³æŒ‰ä¸‹ï¼Œå¯æ‰“å¼€OS X çš„æ¢å¤åŠŸèƒ½ã€‚Command + Option + P + R å¼€æœºåç«‹å³æŒ‰ä¸‹ï¼Œé‡ç½® NVRAMã€‚æœ‰äº›æ—¶å€™ç”µè„‘ä¼šå‡ºç°äº›å°é—®é¢˜ï¼Œé‡ç½® NVRAM æ˜¯ä½ é™¤äº†é‡æ–°å¯åŠ¨ï¼Œå°è¯•ä¿®å¤çš„ç¬¬ä¸€é€‰æ‹©ã€‚Command + Option + Control + Power é€€å‡ºæ‰€æœ‰åº”ç”¨ç¨‹åºï¼Œå…è®¸ä½ è¿›è¡Œæ–‡ç¨¿å‚¨å­˜ï¼Œç„¶åå…³æœºã€‚æŒ‰ä½ Power æŒ‰é’® 5 ç§’ å¼ºåˆ¶ Mac å…³æœºã€‚æˆªå›¾Command + Shift + 3 æˆªå–å…¨éƒ¨å±å¹•åˆ°æ–‡ä»¶ã€‚Command + Shift + Control + 3 æˆªå–å…¨éƒ¨å±å¹•åˆ°å‰ªè´´æ¿ã€‚Command + Shift + 4 æˆªå–æ‰€é€‰å±å¹•åŒºåŸŸåˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ–æŒ‰ç©ºæ ¼é”®ä»…æ•æ‰ä¸€ä¸ªçª—å£ã€‚Command + Shift + Control + 4 æˆªå–æ‰€é€‰å±å¹•åŒºåŸŸåˆ°å‰ªè´´æ¿ï¼Œæˆ–æŒ‰ç©ºæ ¼é”®ä»…æ•æ‰ä¸€ä¸ªçª—å£ã€‚æ–‡ä»¶ç®¡ç†å™¨Command + Shift + N (New) æ–°å»ºæ–‡ä»¶å¤¹ã€‚Command + Shift + G (Go) è°ƒå‡ºçª—å£ï¼Œå¯è¾“å…¥ç»å¯¹è·¯å¾„ç›´è¾¾æ–‡ä»¶å¤¹ã€‚return è¿™ä¸ªå…¶å®ä¸ç®—å¿«æ·é”®ï¼Œç‚¹å‡»æ–‡ä»¶ï¼ŒæŒ‰ä¸‹å¯é‡å‘½åæ–‡ä»¶ã€‚Command + O æ‰“å¼€æ‰€é€‰é¡¹ã€‚åœ¨ Mac é‡Œæ‰“å¼€æ–‡ä»¶ä¸åƒ Windows é‡Œç›´æ¥æŒ‰ Enterã€‚Command + Option + V ä½œç”¨ç›¸å½“äºWindowsé‡Œçš„æ–‡ä»¶å‰ªåˆ‡ã€‚åœ¨å…¶å®ƒä½ç½®ä¸Šå¯¹æ–‡ä»¶å¤åˆ¶(Command-C)ï¼Œåœ¨ç›®çš„ä½ç½®æŒ‰ä¸‹è¿™ä¸ªå¿«æ·é”®ï¼Œæ–‡ä»¶å°†è¢«å‰ªåˆ‡åˆ°æ­¤ä½ç½®ã€‚Command + â†‘ æ‰“å¼€åŒ…å«å½“å‰æ–‡ä»¶å¤¹çš„æ–‡ä»¶å¤¹ï¼Œç›¸å½“äº Windows é‡Œçš„â€œå‘ä¸Šâ€ã€‚Command + Delete å°†æ–‡ä»¶ç§»è‡³åºŸçº¸ç¯“ã€‚Command + Shift + Delete æ¸…å€’åºŸçº¸ç¯“ã€‚Space å¿«é€ŸæŸ¥çœ‹é€‰ä¸­çš„æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯é¢„è§ˆåŠŸèƒ½ã€‚åˆ‡æ¢Command + Tab åœ¨åº”ç”¨ç¨‹åºé—´åˆ‡æ¢ã€‚Command + Shift + Tab åœ¨åº”ç”¨ç¨‹åºé—´åˆ‡æ¢(åå‘)ã€‚Command + ~ åœ¨å„åº”ç”¨ä¸­çš„çª—å£é—´åˆ‡æ¢ã€‚æµè§ˆå™¨Command + L å…‰æ ‡ç›´æ¥è·³è‡³åœ°å€æ ã€‚Control + Tab è½¬å‘ä¸‹ä¸€ä¸ªæ ‡ç­¾é¡µã€‚Control + Shift + Tab è½¬å‘ä¸Šä¸€ä¸ªæ ‡ç­¾é¡µã€‚Command + â€˜+â€™æˆ–â€™=â€™ æ”¾å¤§é¡µé¢ã€‚Command + â€˜-â€˜ ç¼©å°é¡µé¢ã€‚åº”ç”¨ç¨‹åºä¸­Command + H éšè—(Hide)å½“å‰æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºçª—å£ã€‚Command + Option + H éšè—(Hide)å…¶ä»–åº”ç”¨ç¨‹åºçª—å£ã€‚Command + Q é€€å‡º(Quit)æœ€å‰é¢çš„åº”ç”¨ç¨‹åºã€‚Command + Shift + Z é‡åšï¼Œä¹Ÿå°±æ˜¯æ’¤é”€çš„é€†å‘æ“ä½œã€‚Command + Tab åœ¨æ‰“å¼€çš„åº”ç”¨ç¨‹åºåˆ—è¡¨ä¸­è½¬åˆ°ä¸‹ä¸€ä¸ªæœ€è¿‘ä½¿ç”¨çš„åº”ç”¨ç¨‹åºï¼Œç›¸å½“äº Windows ä¸­(Alt+Tab)ã€‚Command + Option + esc æ‰“å¼€â€œå¼ºåˆ¶é€€å‡ºâ€çª—å£ï¼Œå¦‚æœæœ‰åº”ç”¨ç¨‹åºæ— å“åº”ï¼Œå¯åœ¨çª—å£åˆ—è¡¨ä¸­é€‰æ‹©å¼ºåˆ¶é€€å‡ºã€‚æ–‡æœ¬å¤„ç†Command + B åˆ‡æ¢æ‰€é€‰æ–‡å­—ç²—ä½“(Bold)æ˜¾ç¤ºã€‚fn + Delete ç›¸å½“äº PC å…¨å°ºå¯¸é”®ç›˜ä¸Šçš„ Deleteï¼Œä¹Ÿå°±æ˜¯å‘ååˆ é™¤ã€‚fn + â†‘ å‘ä¸Šæ»šåŠ¨ä¸€é¡µ(Page Up)ã€‚fn + â†“ å‘ä¸‹æ»šåŠ¨ä¸€é¡µ(Page Down)ã€‚fn + â† æ»šåŠ¨è‡³æ–‡ç¨¿å¼€å¤´(Home)ã€‚fn + â†’ æ»šåŠ¨è‡³æ–‡ç¨¿æœ«å°¾(End)ã€‚Command + â†’ å°†å…‰æ ‡ç§»è‡³å½“å‰è¡Œçš„è¡Œå°¾ã€‚Command + â† å°†å…‰æ ‡ç§»è‡³å½“å‰è¡Œçš„è¡Œé¦–ã€‚Command + â†“ å°†å…‰æ ‡ç§»è‡³æ–‡ç¨¿æœ«å°¾ã€‚Command + â†‘ å°†å…‰æ ‡ç§»è‡³æ–‡ç¨¿å¼€å¤´ã€‚Option + â†’ å°†å…‰æ ‡ç§»è‡³ä¸‹ä¸€ä¸ªå•è¯çš„æœ«å°¾ã€‚Option + â† å°†å…‰æ ‡ç§»è‡³ä¸Šä¸€ä¸ªå•è¯çš„å¼€å¤´ã€‚Control + A ç§»è‡³è¡Œæˆ–æ®µè½çš„å¼€å¤´ã€‚æ›´å¤šå¿«æ·é”®å¦‚æœä½ è¿˜æƒ³å­¦ä¹ æ›´å¤šå¿«æ·é”®ï¼Œè¯·ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹è‹¹æœå®˜æ–¹çš„å¿«æ·é”®å¸®åŠ©æ–‡æ¡£ã€‚","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"å¿«æ·é”®","slug":"å¿«æ·é”®","permalink":"https://blog.iamzhl.top/tags/å¿«æ·é”®/"},{"name":"Mac","slug":"Mac","permalink":"https://blog.iamzhl.top/tags/Mac/"}]},{"title":"å¤šè®¾å¤‡ä¹‹é—´åŒæ­¥ hexo æ­å»ºçš„ blog","slug":"Sync-your-hexo-with-several-terminal","date":"2017-10-14T15:35:54.000Z","updated":"2019-03-11T16:21:49.903Z","comments":true,"path":"Sync-your-hexo-with-several-terminal.html","link":"","permalink":"https://blog.iamzhl.top/Sync-your-hexo-with-several-terminal.html","excerpt":"","text":"å‡†å¤‡å·¥ä½œé¦–å…ˆåœ¨ GitHub å»ºç«‹ä¸€ä¸ªåˆ†æ”¯ç”¨äºå­˜å‚¨ hexo æœ¬åœ°æºæ–‡ä»¶æœ¬åœ° hexo æºä¸Šåˆ° GitHubåœ¨æœ¬åœ°åšå®¢æ ¹ç›®å½•ä¸‹ä½¿ç”¨ git æŒ‡ä»¤ä¸Šä¼ é¡¹ç›®åˆ° GitHub çš„ hexo åˆ†æ”¯123456$ git init $ git remote add origin ä»“åº“åœ°å€ $ git checkout -b hexo $ git add . $ git commit -m \"\" $ git push origin hexoå…¶å®ƒè®¾å¤‡åŒæ­¥å»ºç«‹åŒæ­¥ç›®å½•1$ mkdir blogåŒæ­¥ hexo æº1234$ cd blog/$ git init$ git remote add origin ä»“åº“åœ°å€$ git pull -r origin hexoæœ¬åœ°æ­å»º hexo ç¯å¢ƒéœ€è¦å®‰è£… Git å’Œ Node.js12$ npm install hexo --save$ npm installç¬¬ä¸€æ¬¡è¿è¡Œéœ€è¦éªŒè¯ GitHub å’Œ coding è´¦å· ( å–å†³äºä½ ç”¨ä»€ä¹ˆéƒ¨ç½²çš„ blog )12$ git config --global user.email &quot;you@example.com&quot;$ git config --global user.name &quot;Your Name&quot;å®Œå·¥åšå®Œä¸Šé¢çš„æ­¥éª¤å°±å¯ä»¥åœ¨è¿™ä¸€å°è®¾å¤‡ç»§ç»­å‘åšæ–‡äº†1234$ hexo new post &quot;æ–°å»ºåšå®¢åå­—&quot; $ hexo clean $ hexo g$ hexo d -g","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"git","slug":"git","permalink":"https://blog.iamzhl.top/tags/git/"},{"name":"åŒæ­¥","slug":"åŒæ­¥","permalink":"https://blog.iamzhl.top/tags/åŒæ­¥/"},{"name":"github","slug":"github","permalink":"https://blog.iamzhl.top/tags/github/"}]},{"title":"Hotpatch å±è”½ç‹¬æ˜¾","slug":"Disable-the-discrete-GPU-in-laptop","date":"2017-10-03T16:00:00.000Z","updated":"2019-03-11T16:21:49.888Z","comments":true,"path":"Disable-the-discrete-GPU-in-laptop.html","link":"","permalink":"https://blog.iamzhl.top/Disable-the-discrete-GPU-in-laptop.html","excerpt":"","text":"å†™åœ¨å‰é¢æœ€è¿‘æˆ‘æ ¹æ® RehabMan çš„ hotpatch æ·»åŠ äº†ä¸€äº›è·¯å¾„åšäº†ä¸€ä¸ªå±è”½ç‹¬æ˜¾å¾— hotpatch æ¥å±è”½ç‹¬æ˜¾è§£å†³ä¸€äº›å‡çº§ 10.13 åå› ä¸º nv_disable å‚æ•°å¤±æ•ˆè€Œå¡åœ¨ Window Server Service only ran for 0 seconds çš„é”™è¯¯ï¼Œå‘ç°æœ‰äº›æˆåŠŸï¼Œæœ‰äº›å¤±è´¥ã€‚äºæ˜¯æŠŠæˆ‘ç¢ç£¨åˆ°çš„ä¸€ç§æ–¹æ³•åˆ†äº«ç»™å¤§å®¶ï¼å¸Œæœ›è¯¥å¸–å­èƒ½å¸®åŠ©åˆ°å„ä½ï¼æ„Ÿè°¢ï¼šPCBETA (è¿œæ™¯è®ºå›) yearjinheng ç‰ˆä¸»çš„å¸–å­tonymacx86.com Rehabman çš„å¸–å­è½¬è½½è¯·æ³¨æ˜ åŸè´´åœ°å€å±è”½ç‹¬æ˜¾æ–¹æ³•ä¸ä¸€ï¼šç¬¬ä¸€ç§ï¼šç›´æ¥åœ¨ DSDT SSDT ä¸Šåšä¿®æ”¹ç¬¬äºŒç§ï¼šæ‰‹åŠ¨åˆ¶ä½œä¸€ä¸ªé€‚åˆè‡ªå·±æœºå™¨çš„ hotpatch å±è”½ç‹¬æ˜¾è¾¾åˆ°å±è”½ç‹¬æ˜¾çš„ä½œç”¨å¼€å·¥æœ¬å¸–ä¸»è¦é‡‡ç”¨ç¬¬äºŒç§æ–¹æ³•ï¼Œå¤§è‡´æ€è·¯å¦‚ä¸‹ï¼šæå– ACPI åŸå§‹è¡¨å•åç¼–è¯‘è¿™äº›æ–‡ä»¶æœç´¢ä¸€ä¸ªåä¸º _OFF çš„æ–¹æ³•æ£€æŸ¥æ–‡ä»¶çš„ç»“æœä»¥ç¡®å®š _OFF çš„è·¯å¾„ä¿®æ”¹ RehabMan çš„ hotpatch åŠ å…¥è‡ªå·±çš„è·¯å¾„æå– ACPI åŸå§‹è¡¨å•å¹¶æå– _OFF è·¯å¾„æ‰“å¼€ç”µè„‘è¿›å…¥å››å¶è‰å¼•å¯¼ç•Œé¢ï¼ŒæŒ‰ä¸‹ F4 æˆ–è€… FN+F4 å³å¯æå–åŸå§‹è¡¨å•åˆ° /EFI/CLOVER/ACPI/origin ï¼Œç„¶åè¿›å…¥ MAC å°† origin æ‹·è´åˆ°æ¡Œé¢åˆ æ‰é™¤ SSDT DSDT ä¹‹å¤–çš„æ‰€æœ‰ aml æ–‡ä»¶ï¼Œæ‰“å¼€ç»ˆç«¯ï¼š1234$ cd ~/Desktop/origin $ iasl -da -dl *.aml $ rm *.aml $ grep -l Method.*_OFF *.dslä»¥æˆ‘ä¿®æ”¹çš„ä¸€ä¸ªæœºå™¨ä¸ºä¾‹ï¼Œä¸Šä¸€æ¡å‘½ä»¤å¾—åˆ°çš„ç»“æœå¦‚ä¸‹1234DSDT.dslSSDT-7.dslSSDT-8.dslSSDT-9.dslä¾æ¬¡æ‰“å¼€è¿™å››ä¸ªè¡¨å•æœç´¢ _OFF ï¼Œæ‰¾åˆ°ä¸€ä¸ªç±»ä¼¼äºä¸‹é¢è¿™ä¸ªå‡½æ•°ï¼šå›¾ç‰‡å·¦ä¸‹è§’çš„è·¯å¾„å°±æ˜¯æˆ‘ä»¬æœ€ç»ˆæ‰€éœ€è¦çš„:1_SB.PCI0.RP05.PEGPä¿®æ”¹ RehabMan çš„ hotpatch æ·»åŠ è¿™ä¸ªè·¯å¾„é¦–å…ˆå» RehanMan çš„ GitHub ä¸‹è½½ hotpatch åŒ…1https://github.com/RehabMan/OS-X-Clover-Laptop-Config.gitæˆ‘ä»¬åªéœ€è¦ SSDT-Disable_DGPU è¿™ä¸ªæ–‡ä»¶ï¼Œç¼–è¯‘æˆ aml æ–‡ä»¶1$ iasl SSDT-Disable_DGPU.dslæ‰“å¼€ç¼–è¯‘åå¾—åˆ°çš„ aml æ–‡ä»¶æŒ‰ç…§è¿™ä¸ªæ ¼å¼ä¿®æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„ä¿å­˜æ”¾åˆ° /EFI/CLOVER/ACPI/patchedä¸€ä¸ªæ³¨æ„ç‚¹å¦‚æœåœ¨ Config.plist ä¸­ä½¿ç”¨äº† SortedOrder (é€šå¸¸ Clover å®‰è£…åé»˜è®¤æ²¡æœ‰è®¾ç½®)ï¼Œéœ€è¦åœ¨å…¶å†…æ·»åŠ  SSDT-Disable_DGPU.aml è¿™ä¸€é¡¹ã€‚å› ä¸ºå¦‚æœæŒ‡å®šäº† SortedOrder ï¼Œåˆ™ Clover åªåŠ è½½å…¶ä¸­æŒ‡å®šçš„ SSDT ã€‚å¦‚æœæ²¡æœ‰å‡ºç°åœ¨åˆ—è¡¨ä¸­,å³ä½¿åœ¨ ACPI/patched ä¸­ï¼Œå®ƒä¹Ÿä¸ä¼šåŠ è½½ã€‚å®Œå·¥","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/tags/é»‘è‹¹æœ/"},{"name":"Hackintosh","slug":"Hackintosh","permalink":"https://blog.iamzhl.top/tags/Hackintosh/"},{"name":"Window Server Service only ran for 0 seconds","slug":"Window-Server-Service-only-ran-for-0-seconds","permalink":"https://blog.iamzhl.top/tags/Window-Server-Service-only-ran-for-0-seconds/"},{"name":"Disable DGPU","slug":"Disable-DGPU","permalink":"https://blog.iamzhl.top/tags/Disable-DGPU/"},{"name":"å±è”½ç‹¬æ˜¾","slug":"å±è”½ç‹¬æ˜¾","permalink":"https://blog.iamzhl.top/tags/å±è”½ç‹¬æ˜¾/"}]},{"title":"åˆ©ç”¨ git å®ç°æœ¬åœ°å’Œè¿œç¨‹ä¹‹é—´ä»£ç çš„åŒæ­¥","slug":"Sync-the-codes-between-native-and-remote-by-git","date":"2017-09-27T14:54:26.000Z","updated":"2019-03-11T16:21:49.902Z","comments":true,"path":"Sync-the-codes-between-native-and-remote-by-git.html","link":"","permalink":"https://blog.iamzhl.top/Sync-the-codes-between-native-and-remote-by-git.html","excerpt":"","text":"ä»£ç æ”¾åˆ° git ä»“åº“ï¼Œç„¶åæœ¬åœ°ä¿®æ”¹åŒæ­¥è‡³ä»“åº“ï¼Œè¿™åœ¨ç”Ÿæ´»ä¸­æ˜¯å¾ˆå¸¸è§çš„ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„æ¡ˆä¾‹è¿œç¨‹ä»“åº“å†…å®¹åŒæ­¥åˆ°æœ¬åœ°ä»“åº“æ–°å»ºä¸€ä¸ªæœ¬åœ°ä»“åº“ç”¨äºåç»­å·¥ä½œ123$ cd ~/Desktop/$ mkdir test $ cd teståˆå§‹åŒ–è¿™ä¸ªæœ¬åœ°ç›®å½•1$ git initå…³è”åˆ°è¿œç¨‹ä»“åº“(ä»¥æˆ‘æ–°å»ºçš„ Test è¿™ä¸ªä»“åº“ä¸ºä¾‹)1$ git remote add origin https://github.com/athlonreg/Test.gitåˆå¹¶è¿œç¨‹ä»“åº“çš„æ–‡ä»¶åˆ°æœ¬åœ°1$ git pull --rebase origin masterä¿®æ”¹æœ¬åœ°ä»“åº“å¹¶æ¨é€åˆ°è¿œç¨‹ä»“åº“å¯¹æœ¬åœ°ä»“åº“çš„ä¸€äº›ä¿®æ”¹123$ mkdir inner $ cd inner $ touch a.txtç°åœ¨å°†æˆ‘æ–°å»ºçš„ inner ç›®å½•å’Œ a.txt æ–‡æ¡£æ¨é€åˆ°è¿œç¨‹ä»“åº“git add å‘½ä»¤æ·»åŠ æ–°å»ºç›®å½•ä¸æ–‡ä»¶1$ git add .git commit æäº¤ä¿®æ”¹ï¼Œå¼•å·å†…ä¸ºä¿®æ”¹çš„æ¦‚è¦1$ git commit -m &quot;add some files&quot;è¿™é‡Œä¼šæç¤ºé…ç½®ç”¨æˆ·èº«ä»½(ä¸¤æ¡å‘½ä»¤çš„å¼•å·å†…åˆ†åˆ«ä¸ºä½  github è´¦å·ç»‘å®šçš„é‚®ç®±å’Œç”¨æˆ·å)12$ git config --global user.email &quot;15563836030@163.com&quot; $ git config --global user.name &quot;athlonreg&quot;è¿™æ˜¯ç»§ç»­æäº¤ä¿®æ”¹å°±å¯ä»¥äº†1$ git commit -m &quot;add some files&quot;æ¨é€ä¿®æ”¹åçš„æœ¬åœ°ä»“åº“åˆ°è¿œç¨‹ä»“åº“1$ git push -u origin masterè¿™æ—¶ç»ˆç«¯ä¼šè®©ä½ è¾“å…¥ä½ çš„ github ç”¨æˆ·åå’Œå¯†ç ï¼Œæ ¹æ®æç¤ºè¾“å…¥å®Œï¼Œå°±æ¨é€å®Œæˆäº†ï¼Œå†å» github ç½‘é¡µç«¯å°±å‘ç°ä»“åº“å·²ç»æ›´æ–°è‡³å’Œæœ¬åœ°ç›¸åŒäº†ã€‚","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"git","slug":"git","permalink":"https://blog.iamzhl.top/tags/git/"},{"name":"åŒæ­¥","slug":"åŒæ­¥","permalink":"https://blog.iamzhl.top/tags/åŒæ­¥/"},{"name":"github","slug":"github","permalink":"https://blog.iamzhl.top/tags/github/"}]},{"title":"æ´¾é£æ•¢æ­»é˜Ÿé—®é¢˜","slug":"Problem-about-Sending-out-death-squads","date":"2017-09-17T16:00:00.000Z","updated":"2019-03-11T16:21:49.898Z","comments":true,"path":"Problem-about-Sending-out-death-squads.html","link":"","permalink":"https://blog.iamzhl.top/Problem-about-Sending-out-death-squads.html","excerpt":"","text":"é—®é¢˜æè¿°â€‹ Gå°†å†›æœ‰ä¸€æ”¯è®­ç»ƒæœ‰ç´ çš„å†›é˜Ÿï¼Œè¿™ä¸ªå†›é˜Ÿé™¤å¼€Gå°†å†›å¤–ï¼Œæ¯åå£«å…µéƒ½æœ‰ä¸€ä¸ªç›´æ¥ä¸Šçº§ï¼ˆå¯èƒ½æ˜¯å…¶ä»–å£«å…µï¼Œä¹Ÿå¯èƒ½æ˜¯Gå°†å†›ï¼‰ã€‚ç°åœ¨Gå°†å†›å°†æ¥å—ä¸€ä¸ªç‰¹åˆ«çš„ä»»åŠ¡ï¼Œéœ€è¦æ´¾é£ä¸€éƒ¨åˆ†å£«å…µï¼ˆè‡³å°‘ä¸€ä¸ªï¼‰ç»„æˆä¸€ä¸ªæ•¢æ­»é˜Ÿï¼Œä¸ºäº†å¢åŠ æ•¢æ­»é˜Ÿé˜Ÿå‘˜çš„ç‹¬ç«‹æ€§ï¼Œè¦æ±‚å¦‚æœä¸€åå£«å…µåœ¨æ•¢æ­»é˜Ÿä¸­ï¼Œä»–çš„ç›´æ¥ä¸Šçº§ä¸èƒ½åœ¨æ•¢æ­»é˜Ÿä¸­ã€‚â€‹ è¯·é—®ï¼ŒGå°†å†›æœ‰å¤šå°‘ç§æ´¾å‡ºæ•¢æ­»é˜Ÿçš„æ–¹æ³•ã€‚æ³¨æ„ï¼ŒGå°†å†›ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªå£«å…µè¿›å…¥æ•¢æ­»é˜Ÿã€‚â€‹ è¾“å…¥æ ¼å¼:â€‹ è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°nï¼Œè¡¨ç¤ºåŒ…æ‹¬Gå°†å†›åœ¨å†…çš„å†›é˜Ÿçš„äººæ•°ã€‚å†›é˜Ÿçš„å£«å…µä»1è‡³nç¼–å·ï¼ŒGå°†å†›ç¼–å·ä¸º1ã€‚æ¥ä¸‹æ¥n-1ä¸ªæ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºç¼–å·ä¸º2, 3, â€¦, nçš„å£«å…µçš„ç›´æ¥ä¸Šçº§ç¼–å·ï¼Œç¼–å·içš„å£«å…µçš„ç›´æ¥ä¸Šçº§çš„ç¼–å·å°äºiã€‚â€‹ è¾“å‡ºæ ¼å¼:â€‹ è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ´¾å‡ºæ•¢æ­»é˜Ÿçš„æ–¹æ¡ˆæ•°ã€‚ç”±äºæ•°ç›®å¯èƒ½å¾ˆå¤§ï¼Œä½ åªéœ€è¦è¾“å‡ºè¿™ä¸ªæ•°é™¤10007çš„ä½™æ•°å³å¯ã€‚â€‹ æ ·ä¾‹è¾“å…¥1:â€‹ 3â€‹ 1 1â€‹ æ ·ä¾‹è¾“å‡º1:â€‹ 4â€‹ æ ·ä¾‹è¯´æ˜:â€‹ è¿™å››ç§æ–¹å¼åˆ†åˆ«æ˜¯ï¼šé€‰1ï¼›é€‰2ï¼›é€‰3ï¼›é€‰2, 3ã€‚æ ·ä¾‹è¾“å…¥2:71 1 2 2 3 3æ ·ä¾‹è¾“å‡º2:40æ•°æ®è§„æ¨¡ä¸çº¦å®šå¯¹äº20%çš„æ•°æ®ï¼Œn â‰¤ 20ï¼›å¯¹äº40%çš„æ•°æ®ï¼Œn â‰¤ 100ï¼›å¯¹äº100%çš„æ•°æ®ï¼Œ1 â‰¤ n â‰¤ 100000ã€‚èµ„æºçº¦å®šï¼šå³°å€¼å†…å­˜æ¶ˆè€— &lt; 256MCPUæ¶ˆè€— &lt; 2000msè¯·ä¸¥æ ¼æŒ‰è¦æ±‚è¾“å‡ºï¼Œä¸è¦ç”»è›‡æ·»è¶³åœ°æ‰“å°ç±»ä¼¼ï¼šâ€œè¯·æ‚¨è¾“å…¥â€¦â€ çš„å¤šä½™å†…å®¹ã€‚æ‰€æœ‰ä»£ç æ”¾åœ¨åŒä¸€ä¸ªæºæ–‡ä»¶ä¸­ï¼Œè°ƒè¯•é€šè¿‡åï¼Œæ‹·è´æäº¤è¯¥æºç ã€‚æ³¨æ„: mainå‡½æ•°éœ€è¦è¿”å›0æ³¨æ„: åªä½¿ç”¨ANSI C/ANSI C++ æ ‡å‡†ï¼Œä¸è¦è°ƒç”¨ä¾èµ–äºç¼–è¯‘ç¯å¢ƒæˆ–æ“ä½œç³»ç»Ÿçš„ç‰¹æ®Šå‡½æ•°ã€‚æ³¨æ„: æ‰€æœ‰ä¾èµ–çš„å‡½æ•°å¿…é¡»æ˜ç¡®åœ°åœ¨æºæ–‡ä»¶ä¸­ #includeï¼Œ ä¸èƒ½é€šè¿‡å·¥ç¨‹è®¾ç½®è€Œçœç•¥å¸¸ç”¨å¤´æ–‡ä»¶ã€‚æäº¤æ—¶ï¼Œæ³¨æ„é€‰æ‹©æ‰€æœŸæœ›çš„ç¼–è¯‘å™¨ç±»å‹ã€‚æ€è·¯1ã€é¦–å…ˆå°†æ‰€æœ‰å£«å…µç›´å±ä¸Šçº§çš„ç¼–å·æ”¾äºæ•°ç»„aï¼›2ã€æ¯ä¸ªäººæœ‰ä¸¤ç§é€‰æ‹©ï¼Œå»å’Œä¸å»ï¼Œç”¨0å’Œ1è¡¨ç¤ºï¼Œè½¬æ¢ä¸ºäºŒè¿›åˆ¶æ”¾äºæ•°ç»„bï¼›3ã€æœ€ååˆ¤æ–­æ¯ä¸ªå£«å…µæ˜¯ä¸æ˜¯ä¸å…¶ç›´å±ä¸Šçº§åŒæ—¶æ‰§è¡Œä»»åŠ¡ï¼Œè¿›è€Œå¯¹countè¿›è¡Œç»Ÿè®¡ã€‚ä»£ç å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253//// main.c// æ´¾é£æ•¢æ­»é˜Ÿé—®é¢˜//// Created by Canvas on 2018/12/31.// Copyright Â© 2018 Canvas. All rights reserved.//#include &lt;stdio.h&gt;#include &lt;math.h&gt;int main() &#123; int number; int count=0; int flag; scanf(\"%d\",&amp;number);//æ´¾é£çš„äººæ•° int i,j; int temp; int a[number],b[number];//a a[0]=0;//å°†å†› for(i=1;i&lt;number;i++)&#123; scanf(\"%d\",&amp;a[i]);//æ¯ä¸ªäººçš„ç›´å±ä¸Šçº§ &#125; for(i=1;i&lt;pow(2,number);i++)&#123; temp=i; for(j=0;j&lt;number;j++)&#123; //éå†æ‰€æœ‰æƒ…å†µ b[j]=temp%2; temp/=2; &#125; flag=1; for(j=1;j&lt;number;j++)&#123; //å°†å†›æ²¡æœ‰ä¸Šçº§ï¼Œä¸ç”¨åˆ¤æ–­ if(b[j]==1&amp;&amp;b[a[j]-1]==1)&#123; //åˆ¤æ–­æ˜¯å¦å£«å…µå’Œä¸Šçº§åŒæ—¶æ‰§è¡Œä»»åŠ¡ //b[j]ä¸ºç¼–å·ä¸ºj+1çš„å£«å…µå»ä¸å» //b[a[j]-1]ä¸ºç¼–å·ä¸ºj+1çš„å£«å…µçš„ç›´æ¥ä¸Šçº§å»ä¸å» flag=0; break; &#125; &#125; if(flag==1) count++; &#125; printf(\"%d\\n\",count); return 0;&#125;","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/tags/ç®—æ³•/"},{"name":"Cè¯­è¨€","slug":"Cè¯­è¨€","permalink":"https://blog.iamzhl.top/tags/Cè¯­è¨€/"},{"name":"æ´¾é£æ•¢æ­»é˜Ÿ","slug":"æ´¾é£æ•¢æ­»é˜Ÿ","permalink":"https://blog.iamzhl.top/tags/æ´¾é£æ•¢æ­»é˜Ÿ/"}]},{"title":"è­¦åŒª110é—®é¢˜","slug":"Problem-about-police-and-gangster-110","date":"2017-09-17T16:00:00.000Z","updated":"2019-03-11T16:21:49.899Z","comments":true,"path":"Problem-about-police-and-gangster-110.html","link":"","permalink":"https://blog.iamzhl.top/Problem-about-police-and-gangster-110.html","excerpt":"","text":"é—®é¢˜æè¿°â€‹ åŒªè­¦è¯·æ‹¨110,å³ä½¿æ‰‹æœºæ¬ è´¹ä¹Ÿå¯æ‹¨é€šï¼â€‹ ä¸ºäº†ä¿éšœç¤¾ä¼šç§©åºï¼Œä¿æŠ¤äººæ°‘ç¾¤ä¼—ç”Ÿå‘½è´¢äº§å®‰å…¨ï¼Œè­¦å¯Ÿå”å”éœ€è¦ä¸ç½ªçŠ¯æ–—æ™ºæ–—å‹‡ï¼Œå› è€Œéœ€è¦ç»å¸¸æ€§åœ°è¿›è¡Œä½“åŠ›è®­ç»ƒå’Œæ™ºåŠ›è®­ç»ƒï¼æŸæ‰¹è­¦å¯Ÿå”å”æ­£åœ¨è¿›è¡Œæ™ºåŠ›è®­ç»ƒï¼š12 3 4 5 6 7 8 9 =110; â€‹ è¯·çœ‹ä¸Šè¾¹çš„ç®—å¼ï¼Œä¸ºäº†ä½¿ç­‰å¼æˆç«‹ï¼Œéœ€è¦åœ¨æ•°å­—é—´å¡«å…¥åŠ å·æˆ–è€…å‡å·ï¼ˆå¯ä»¥ä¸å¡«ï¼Œä½†ä¸èƒ½å¡«å…¥å…¶å®ƒç¬¦å·ï¼‰ã€‚ä¹‹é—´æ²¡æœ‰å¡«å…¥ç¬¦å·çš„æ•°å­—ç»„åˆæˆä¸€ä¸ªæ•°ï¼Œä¾‹å¦‚ï¼š12+34+56+7-8+9 å°±æ˜¯ä¸€ç§åˆæ ¼çš„å¡«æ³•ï¼›123+4+5+67-89 æ˜¯å¦ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆã€‚â€‹ è¯·ä½ åˆ©ç”¨è®¡ç®—æœºçš„ä¼˜åŠ¿ï¼Œå¸®åŠ©è­¦å¯Ÿå”å”å¿«é€Ÿæ‰¾åˆ°æ‰€æœ‰ç­”æ¡ˆã€‚æ¯ä¸ªç­”æ¡ˆå ä¸€è¡Œã€‚å½¢å¦‚ï¼š 12+34+56+7-8+9123+4+5+67-89æ€è·¯1ã€ä¸€å…±ä¹ä¸ªæ•°å­—ï¼Œå…«ä¸ªæ“ä½œç¬¦ï¼›2ã€æ¯ä¸ªæ“ä½œç¬¦æœ‰ä¸‰ç§æƒ…å†µï¼Œå³ç•™ç©ºã€åŠ æˆ–è€…å‡ï¼Œåˆ†åˆ«ç”¨0ã€1å’Œ2è¡¨ç¤ºï¼›3ã€å…±æœ‰ 3^8 ç§æƒ…å†µï¼Œéå†æ¯ç§æƒ…å†µåˆ¤æ–­è¾“å‡ºï¼›4ã€éœ€è¦æ³¨æ„çš„æ˜¯ç•™ç©ºå’Œâ€™+â€™ã€â€™-â€˜éœ€è¦åˆ†å¼€å¤„ç†ï¼Œå› ä¸ºç•™ç©ºä¹‹åéœ€è¦å°†å…¶å‰åçš„æ•°æ®è¿åœ¨ä¸€èµ·ã€‚5ã€ä»¥12+34+56+7-8+9ä¸ºä¾‹ï¼Œç»™å’Œsumèµ‹åˆå€¼ä¸º0ï¼Œç¬¬ä¸€æ¬¡å¾ªç¯æ“ä½œç¬¦ä¸ºç•™ç©ºï¼Œéœ€è¦å…ˆåŠ ä¸Šç¬¬ä¸€ä½çš„1ï¼Œç„¶åè¿›è¡Œè¿™ä¸€æ¬¡è¿ç®—ï¼Œå³1x10+2ï¼Œç„¶åä¸‹ä¸€æ¬¡å¾ªç¯æ“ä½œç¬¦ä¸º+ï¼Œéœ€è¦è®¡ç®—çš„å°±æ˜¯12+3ï¼ŒåŒç†åœ¨3ã€4ä¹‹é—´çš„ç©ºéœ€è¦è®¡ç®—çš„æ˜¯3x10+4ï¼Œè€Œä¸æ˜¯ï¼ˆ12+3ï¼‰x10+4ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªä¸´æ—¶å˜é‡æ¥è®°å½•ä¸Šæ¬¡çš„æ“ä½œæ•°ï¼Œè¿˜éœ€è¦ä¸€ä¸ªå˜é‡æ¥è®°å½•ä¸Šæ¬¡çš„æ“ä½œç¬¦å°†ä¸Šæ¬¡çš„ç»“æœè¿›è¡Œç»Ÿè®¡å¤„ç†ï¼ŒåŸå› å°±åœ¨äºæˆ‘ä»¬æ— æ³•ç¡®å®šä¸‹æ¬¡çš„æ“ä½œç¬¦æ˜¯ä¸æ˜¯ç•™ç©ºã€‚6ã€ç”±äºæˆ‘ä»¬åœ¨ç»Ÿè®¡å’Œæ—¶ï¼Œåªæœ‰åœ¨ä¸‹ä¸€æ¬¡å¾ªç¯æ‰èƒ½å¤„ç†æœ€åä¸€ä¸ªæ“ä½œæ•°ï¼Œæ‰€ä»¥éœ€è¦å°†9æœ€åå•ç‹¬å¤„ç†ã€‚ä»£ç å®ç°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576#include &lt;stdio.h&gt; #include &lt;math.h&gt; int main() &#123; int a[9]=&#123;1,2,3,4,5,6,7,8,9&#125;; int sum; int temp; int oper,lastoper; int number; int i,j; for(i=0;i&lt;pow(3,8);i++) &#123; sum=0; temp=1; lastoper=1; number=i; for(j=1;j&lt;=8;j++) &#123; //æ“ä½œå…«æ¬¡ oper=number%3; number=number/3; if (!oper) temp=temp*10+a[j]; //ç•™ç©ºå•ç‹¬å¤„ç† if (oper==1) &#123; //å½“å‰æ“ä½œç¬¦ if(lastoper==1)&#123; //å‰ä¸€æ¬¡æ“ä½œç¬¦ sum=sum+temp; temp=a[j]; &#125; if(lastoper==2)&#123; sum=sum-temp; temp=a[j]; &#125; lastoper=oper; //æ›´æ–°ä¸Šæ¬¡æ“ä½œç¬¦ &#125; if(oper==2)&#123; if(lastoper==1)&#123; sum=sum+temp; temp=a[j]; &#125; if(lastoper==2)&#123; sum=sum-temp; temp=a[j]; &#125; lastoper=oper; &#125; &#125; if(lastoper==1) //ç¬¬ä¹æ¬¡æ“ä½œå•ç‹¬å¤„ç† sum=sum+temp; if(lastoper==2) sum=sum-temp; if(sum==110) &#123; number=i; for(j=1;j&lt;=8;j++) &#123; printf(\"%d\",a[j-1]); oper=number%3; number=number/3; if(oper==1) printf(\"+\"); if(oper==2) printf(\"-\"); else continue; &#125; printf(\"9\\n\"); &#125; &#125; return 0;&#125;è¿è¡Œç»“æœ","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/tags/ç®—æ³•/"},{"name":"Cè¯­è¨€","slug":"Cè¯­è¨€","permalink":"https://blog.iamzhl.top/tags/Cè¯­è¨€/"},{"name":"è­¦åŒª110","slug":"è­¦åŒª110","permalink":"https://blog.iamzhl.top/tags/è­¦åŒª110/"}]},{"title":"ä»·ç‰Œç¿»è½¬é—®é¢˜","slug":"Problem-about-rollover-price-tag","date":"2017-09-17T16:00:00.000Z","updated":"2019-03-11T16:21:49.899Z","comments":true,"path":"Problem-about-rollover-price-tag.html","link":"","permalink":"https://blog.iamzhl.top/Problem-about-rollover-price-tag.html","excerpt":"ä»·ç‰Œç¿»è½¬é—®é¢˜","text":"ä»·ç‰Œç¿»è½¬é—®é¢˜é—®é¢˜æè¿°â€‹ å°æçš„åº—é‡Œä¸“å–å…¶å®ƒåº—ä¸­ä¸‹æ¶çš„æ ·å“ç”µè§†æœºï¼Œå¯ç§°ä¸ºï¼šæ ·å“ç”µè§†ä¸“å–åº—ã€‚â€‹ å…¶æ ‡ä»·éƒ½æ˜¯4ä½æ•°å­—ï¼ˆå³åƒå…ƒä¸ç­‰ï¼‰ã€‚â€‹ å°æä¸ºäº†æ ‡ä»·æ¸…æ™°ã€æ–¹ä¾¿ï¼Œä½¿ç”¨äº†é¢„åˆ¶çš„ç±»ä¼¼æ•°ç ç®¡çš„æ ‡ä»·ç­¾ï¼Œåªè¦ç”¨é¢œè‰²ç¬”æ¶‚æ•°å­—å°±å¯ä»¥äº†ã€‚â€‹ è¿™ç§ä»·ç‰Œæœ‰ä¸ªç‰¹ç‚¹ï¼Œå¯¹ä¸€äº›æ•°å­—ï¼Œå€’è¿‡æ¥çœ‹ä¹Ÿæ˜¯åˆç†çš„æ•°å­—ã€‚å¦‚ï¼š1 2 5 6 8 9 0 éƒ½å¯ä»¥ã€‚è¿™æ ·ä¸€æ¥ï¼Œå¦‚æœç‰Œå­æŒ‚å€’äº†ï¼Œæœ‰å¯èƒ½å®Œå…¨å˜æˆäº†å¦ä¸€ä¸ªä»·æ ¼ï¼Œæ¯”å¦‚ï¼š1958 å€’ç€æŒ‚å°±æ˜¯ï¼š8561ï¼Œå·®äº†å‡ åƒå…ƒå•Š!!â€‹ å½“ç„¶ï¼Œå¤šæ•°æƒ…å†µä¸èƒ½å€’è¯»ï¼Œæ¯”å¦‚ï¼Œ1110 å°±ä¸èƒ½å€’è¿‡æ¥ï¼Œå› ä¸º0ä¸èƒ½ä½œä¸ºå¼€å§‹æ•°å­—ã€‚â€‹ æœ‰ä¸€å¤©ï¼Œæ‚²å‰§ç»ˆäºå‘ç”Ÿäº†ã€‚æŸä¸ªåº—å‘˜ä¸å°å¿ƒæŠŠåº—é‡Œçš„æŸä¸¤ä¸ªä»·æ ¼ç‰Œç»™æŒ‚å€’äº†ã€‚å¹¶ä¸”è¿™ä¸¤ä¸ªä»·æ ¼ç‰Œçš„ç”µè§†æœºéƒ½å–å‡ºå»äº†!åº†å¹¸çš„æ˜¯ä»·æ ¼å‡ºå…¥ä¸å¤§ï¼Œå…¶ä¸­ä¸€ä¸ªä»·ç‰Œèµ”äº†2ç™¾å¤šï¼Œå¦ä¸€ä¸ªä»·ç‰Œå´èµšäº†8ç™¾å¤šï¼Œç»¼åˆèµ·æ¥ï¼Œåè€Œå¤šèµšäº†558å…ƒã€‚æ€è·¯1ã€å·²çŸ¥æ˜¯ä¸€ä¸ªå››ä½æ•°ï¼Œé‚£ä¹ˆå…±æœ‰1001-9999ç§æƒ…å†µï¼›2ã€ä¸€ä¸ªæ•°é¢ å€’ä¹‹åï¼Œæ•°å­—é¡ºåºé¢ å€’å¹¶ä¸”æ¯ä¸ªæ•°å­—é¢ å€’ï¼Œä¾‹å¦‚1269é¢ å€’ä¹‹åå°±æ˜¯6921ï¼›3ã€0ä¸èƒ½æ˜¯ç¬¬ä¸€ä½ä¹Ÿä¸èƒ½æ˜¯æœ€åä¸€ä½ã€‚ä»£ç å®ç°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667//// main.c// rollover-price-tag//// Created by Canvas on 2018/12/31.// Copyright Â© 2018 Canvas. All rights reserved.//#include&lt;stdio.h&gt;#include&lt;math.h&gt;int array[4]=&#123;0&#125;;int inverse(int a)&#123;//æ±‚ä¸€ä¸ªæ•°é¢ å€’ä¹‹åçš„ç»“æœ int b=0; int arr[4]=&#123;0&#125;; for(int i=0;i&lt;4;i++)&#123; arr[i]=(int)(a/pow(10,3-i))%10; if(arr[i]==9) b+=6*pow(10,i); else if(arr[i]==6) b+=9*pow(10,i); else b+=arr[i]*pow(10,i); &#125; return b;&#125;int main()&#123; int i,j; int k=0,l=0; int temp; int flag; int up[50]=&#123;0&#125;,down[50]=&#123;0&#125;;//åˆ†åˆ«å­˜æ”¾èµšé’±å’Œèµ”é’±çš„ä»·ç‰Œ for(i=1001;i&lt;10000;i++)&#123; temp=i; flag=1; for(j=0;j&lt;4;j++)&#123; array[j]=(int)(temp/pow(10,3-j))%10; if(array[j]==3||array[j]==4||array[j]==7)&#123;//åˆ†å‰²æ•°å­—æ’é™¤ä¸èƒ½ç¿»è½¬çš„æ•°å­— flag=0; break; &#125; &#125; if(flag)&#123; if(array[0]==0 || array[3]==0)//0ä¸èƒ½ä½äºç¬¬ä¸€ä½å’Œæœ€åä¸€ä½ continue; if(inverse(i)-i&gt;800&amp;&amp;inverse(i)-i&lt;900) up[k++]=i; if(i-inverse(i)&gt;200&amp;&amp;i-inverse(i)&lt;300) down[l++]=i; &#125; &#125; for(i=0;i&lt;50;i++)&#123;//ä¾æ¬¡è¾“å‡ºèµšé’±çš„åŸä»·ï¼Œé¢ å€’ä»·ã€èµšçš„é’±ã€èµ”é’±çš„åŸä»·ã€é¢ å€’ä»·ã€èµ”çš„é’± for(j=0;j&lt;50;j++)&#123; if((inverse(up[i])-up[i])-(down[j]-inverse(down[j]))==558)&#123; printf(\"%d\\t%d\\t%d\\t\",up[i],inverse(up[i]),inverse(up[i])-up[i]); printf(\"%d\\t%d\\t%d\\n\",down[j],inverse(down[j]),down[j]-inverse(down[j])); &#125; &#125; &#125; return 0;&#125;è¿è¡Œç»“æœï¼š","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/tags/ç®—æ³•/"},{"name":"Cè¯­è¨€","slug":"Cè¯­è¨€","permalink":"https://blog.iamzhl.top/tags/Cè¯­è¨€/"},{"name":"ä»·ç‰Œç¿»è½¬","slug":"ä»·ç‰Œç¿»è½¬","permalink":"https://blog.iamzhl.top/tags/ä»·ç‰Œç¿»è½¬/"}]},{"title":"macOS å¯ç”¨ä»»ä½•æ¥æº","slug":"Allow-apps-downloaded-from-anywhere-in-macOS","date":"2017-09-15T13:16:31.000Z","updated":"2019-03-11T16:21:49.882Z","comments":true,"path":"Allow-apps-downloaded-from-anywhere-in-macOS.html","link":"","permalink":"https://blog.iamzhl.top/Allow-apps-downloaded-from-anywhere-in-macOS.html","excerpt":"","text":"Allow apps downloaded from anywhere onè®¸å¤šæœ‹å‹å‡çº§åˆ° macOS Sierra ååœ¨â€å®‰å…¨æ€§ä¸éšç§â€ä¸­æ‰¾ä¸åˆ°â€ä»»ä½•æ¥æºâ€é€‰é¡¹ï¼Œè¿™é‡Œæˆ‘æ•™ç»™å¤§å®¶æ€ä¹ˆæ‰“å¼€â€ä»»ä½•æ¥æºâ€ã€‚æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç å›è½¦ï¼š1sudo spctl --master-disableä¼šæç¤ºè¾“å…¥å¯†ç ï¼Œæ ¹æ®æç¤ºè¾“å…¥å¯†ç å›è½¦ä¹‹åå°±å¯ä»¥åœ¨â€å®‰å…¨æ€§ä¸éšç§â€ä¸­æ‰“å¼€â€ä»»ä½•æ¥æºâ€é€‰é¡¹äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"Hacintosh","slug":"Hacintosh","permalink":"https://blog.iamzhl.top/tags/Hacintosh/"},{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/tags/é»‘è‹¹æœ/"},{"name":"ç»ˆç«¯","slug":"ç»ˆç«¯","permalink":"https://blog.iamzhl.top/tags/ç»ˆç«¯/"},{"name":"ä»»ä½•æ¥æº","slug":"ä»»ä½•æ¥æº","permalink":"https://blog.iamzhl.top/tags/ä»»ä½•æ¥æº/"}]},{"title":"Hexo ä¸»é¢˜ NexT ä½¿ç”¨è¯¦è§£","slug":"Config-NexT-to-beautify-your-blog-with-hexo","date":"2017-09-14T11:04:36.000Z","updated":"2019-03-11T16:21:49.887Z","comments":true,"path":"Config-NexT-to-beautify-your-blog-with-hexo.html","link":"","permalink":"https://blog.iamzhl.top/Config-NexT-to-beautify-your-blog-with-hexo.html","excerpt":"","text":"å‰è¨€Hexo æ˜¯é«˜æ•ˆçš„é™æ€ç«™ç‚¹ç”Ÿæˆæ¡†æ¶ï¼Œå¥¹åŸºäº Node.jsã€‚ é€šè¿‡ Hexo ä½ å¯ä»¥è½»æ¾åœ°ä½¿ç”¨ Markdown ç¼–å†™æ–‡ç« ï¼Œé™¤äº† Markdown æœ¬èº«çš„è¯­æ³•ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ Hexo æä¾›çš„ æ ‡ç­¾æ’ä»¶ æ¥å¿«é€Ÿçš„æ’å…¥ç‰¹å®šå½¢å¼çš„å†…å®¹ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œå‡å®šä½ å·²ç»æˆåŠŸå®‰è£…äº† Hexoï¼Œå¹¶ä½¿ç”¨ Hexo æä¾›çš„å‘½ä»¤åˆ›å»ºäº†ä¸€ä¸ªç«™ç‚¹ã€‚åœ¨ Hexo ä¸­æœ‰ä¸¤ä»½ä¸»è¦çš„é…ç½®æ–‡ä»¶ï¼Œå…¶åç§°éƒ½æ˜¯ _config.ymlã€‚ å…¶ä¸­ï¼Œä¸€ä»½ä½äºç«™ç‚¹æ ¹ç›®å½•ä¸‹ï¼Œä¸»è¦åŒ…å« Hexo æœ¬èº«çš„é…ç½®ï¼›å¦ä¸€ä»½ä½äºä¸»é¢˜ç›®å½•ä¸‹ï¼Œè¿™ä»½é…ç½®ç”±ä¸»é¢˜ä½œè€…æä¾›ï¼Œä¸»è¦ç”¨äºé…ç½®ä¸»é¢˜ç›¸å…³çš„é€‰é¡¹ã€‚ä¸ºäº†æè¿°æ–¹ä¾¿ï¼Œåœ¨ä»¥ä¸‹è¯´æ˜ä¸­ï¼Œå°†å‰è€…ç§°ä¸º ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œ åè€…ç§°ä¸º ä¸»é¢˜é…ç½®æ–‡ä»¶ã€‚å®‰è£… NexTHexo å®‰è£…ä¸»é¢˜çš„æ–¹å¼éå¸¸ç®€å•ï¼Œåªéœ€è¦å°†ä¸»é¢˜æ–‡ä»¶æ‹·è´è‡³ç«™ç‚¹ç›®å½•çš„ themes ç›®å½•ä¸‹ï¼Œ ç„¶åä¿®æ”¹ä¸‹é…ç½®æ–‡ä»¶å³å¯ã€‚å…·ä½“åˆ° NexT æ¥è¯´ï¼Œå®‰è£…æ­¥éª¤å¦‚ä¸‹ã€‚ä¸‹è½½ä¸»é¢˜åœ¨ç»ˆç«¯çª—å£ä¸‹ï¼Œå®šä½åˆ° Hexo ç«™ç‚¹ç›®å½•ä¸‹ã€‚ä½¿ç”¨ Git checkout ä»£ç ï¼š12$ cd your-hexo-site$ git clone https://github.com/iissnan/hexo-theme-next themes/nextå¯ç”¨ä¸»é¢˜ä¸æ‰€æœ‰ Hexo ä¸»é¢˜å¯ç”¨çš„æ¨¡å¼ä¸€æ ·ã€‚ å½“ å…‹éš†/ä¸‹è½½ å®Œæˆåï¼Œæ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œ æ‰¾åˆ° theme å­—æ®µï¼Œå¹¶å°†å…¶å€¼æ›´æ”¹ä¸º nextã€‚å¯ç”¨ NexT ä¸»é¢˜1theme: nextéªŒè¯ä¸»é¢˜é¦–å…ˆå¯åŠ¨ Hexo æœ¬åœ°ç«™ç‚¹ï¼Œå¹¶å¼€å¯è°ƒè¯•æ¨¡å¼ï¼ˆå³åŠ ä¸Š â€“debugï¼‰ï¼Œæ•´ä¸ªå‘½ä»¤æ˜¯ hexo s â€“debug ã€‚ åœ¨æœåŠ¡å¯åŠ¨çš„è¿‡ç¨‹ï¼Œæ³¨æ„è§‚å¯Ÿå‘½ä»¤è¡Œè¾“å‡ºæ˜¯å¦æœ‰ä»»ä½•å¼‚å¸¸ä¿¡æ¯ï¼Œå¦‚æœä½ ç¢°åˆ°é—®é¢˜ï¼Œè¿™äº›ä¿¡æ¯å°†å¸®åŠ©ä»–äººæ›´å¥½çš„å®šä½é”™è¯¯ã€‚ å½“å‘½ä»¤è¡Œè¾“å‡ºä¸­æç¤ºå‡ºï¼š1INFO hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.æ­¤æ—¶å³å¯ä½¿ç”¨æµè§ˆå™¨è®¿é—® http://localhost:4000 ï¼Œæ£€æŸ¥ç«™ç‚¹æ˜¯å¦æ­£ç¡®è¿è¡Œã€‚æˆåŠŸå®‰è£…å¹¶å¯ç”¨äº† NexT ä¸»é¢˜åã€‚ä¸‹ä¸€æ­¥æˆ‘ä»¬å°†è¦æ›´æ”¹ä¸€äº›ä¸»é¢˜çš„è®¾å®šï¼ŒåŒ…æ‹¬ä¸ªæ€§åŒ–ä»¥åŠé›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ã€‚ä¸»é¢˜è®¾å®šé€‰æ‹© SchemeScheme æ˜¯ NexT æä¾›çš„ä¸€ç§ç‰¹æ€§ï¼Œå€ŸåŠ©äº Schemeï¼ŒNexT ä¸ºä½ æä¾›å¤šç§ä¸åŒçš„å¤–è§‚ã€‚åŒæ—¶ï¼Œå‡ ä¹æ‰€æœ‰çš„é…ç½®éƒ½å¯ä»¥ åœ¨ Scheme ä¹‹é—´å…±ç”¨ã€‚ç›®å‰ NexT æ”¯æŒä¸‰ç§ Schemeï¼Œä»–ä»¬æ˜¯ï¼š123Muse - é»˜è®¤ Schemeï¼Œè¿™æ˜¯ NexT æœ€åˆçš„ç‰ˆæœ¬ï¼Œé»‘ç™½ä¸»è°ƒï¼Œå¤§é‡ç•™ç™½Mist - Muse çš„ç´§å‡‘ç‰ˆæœ¬ï¼Œæ•´æ´æœ‰åºçš„å•æ å¤–è§‚Pisces - åŒæ  Schemeï¼Œå°å®¶ç¢§ç‰ä¼¼çš„æ¸…æ–°Scheme çš„åˆ‡æ¢é€šè¿‡æ›´æ”¹ ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢ scheme å…³é”®å­—ã€‚ ä½ ä¼šçœ‹åˆ°æœ‰ä¸‰è¡Œ scheme çš„é…ç½®ï¼Œå°†ä½ éœ€ç”¨å¯ç”¨çš„ scheme å‰é¢æ³¨é‡Š # å»é™¤å³å¯ã€‚é€‰æ‹© Pisces Scheme123#scheme: Muse#scheme: Mistscheme: Piscesè®¾ç½® è¯­è¨€ç¼–è¾‘ ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œ å°† language è®¾ç½®æˆä½ æ‰€éœ€è¦çš„è¯­è¨€ã€‚å»ºè®®æ˜ç¡®è®¾ç½®ä½ æ‰€éœ€è¦çš„è¯­è¨€ï¼Œä¾‹å¦‚é€‰ç”¨ç®€ä½“ä¸­æ–‡ï¼Œé…ç½®å¦‚ä¸‹ï¼š1language: zh-Hansç›®å‰ NexT æ”¯æŒçš„è¯­è¨€å¦‚ä»¥ä¸‹è¡¨æ ¼æ‰€ç¤ºï¼šè¯­è¨€ä»£ç ç¤ºä¾‹Englishenlanguage: enç®€ä½“ä¸­æ–‡zh-Hanslanguage: zh-HansFranÃ§aisfr-FRlanguage: fr-FRPortuguÃªsptlanguage: pt or language: pt-BRç¹é«”ä¸­æ–‡zh-hk æˆ–è€… zh-twlanguage: zh-hkĞ ÑƒÑÑĞºĞ¸Ğ¹ ÑĞ·Ñ‹Ğºrulanguage: ruDeutschdelanguage: deæ—¥æœ¬èªjalanguage: jaIndonesianidlanguage: idKoreankolanguage: koè®¾ç½®èœå•èœå•é…ç½®åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼Œç¬¬ä¸€æ˜¯èœå•é¡¹ï¼ˆåç§°å’Œé“¾æ¥ï¼‰ï¼Œç¬¬äºŒæ˜¯èœå•é¡¹çš„æ˜¾ç¤ºæ–‡æœ¬ï¼Œç¬¬ä¸‰æ˜¯èœå•é¡¹å¯¹åº”çš„å›¾æ ‡ã€‚ NexT ä½¿ç”¨çš„æ˜¯ Font Awesome æä¾›çš„å›¾æ ‡ï¼Œ Font Awesome æä¾›äº† 600+ çš„å›¾æ ‡ï¼Œå¯ä»¥æ»¡è¶³ç»å¤§çš„å¤šæ•°çš„åœºæ™¯ï¼ŒåŒæ—¶æ— é¡»æ‹…å¿ƒåœ¨ Retina å±å¹•ä¸‹ å›¾æ ‡æ¨¡ç³Šçš„é—®é¢˜ã€‚ç¼–è¾‘ ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼šè®¾å®šèœå•å†…å®¹ï¼Œå¯¹åº”çš„å­—æ®µæ˜¯ menuã€‚ èœå•å†…å®¹çš„è®¾ç½®æ ¼å¼æ˜¯ï¼šitem name: linkã€‚å…¶ä¸­ item name æ˜¯ä¸€ä¸ªåç§°ï¼Œè¿™ä¸ªåç§°å¹¶ä¸ç›´æ¥æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼Œå¥¹å°†ç”¨äºåŒ¹é…å›¾æ ‡ä»¥åŠç¿»è¯‘ã€‚èœå•ç¤ºä¾‹é…ç½®1234567menu: home: / archives: /archives #about: /about #categories: /categories tags: /tags #commonweal: /404.htmlè‹¥ä½ çš„ç«™ç‚¹è¿è¡Œåœ¨å­ç›®å½•ä¸­ï¼Œè¯·å°†é“¾æ¥å‰ç¼€çš„ / å»æ‰NexT é»˜è®¤çš„èœå•é¡¹æœ‰é”®å€¼è®¾å®šå€¼æ˜¾ç¤ºæ–‡æœ¬homehome: /ä¸»é¡µarchivesarchives: /archiveså½’æ¡£é¡µcategoriescategories: /categoriesåˆ†ç±»é¡µtagstags: /tagsæ ‡ç­¾é¡µaboutabout: /aboutå…³äºé¡µé¢commonwealcommonweal: /404.htmlå…¬ç›Š 4042.è®¾ç½®èœå•é¡¹çš„æ˜¾ç¤ºæ–‡æœ¬ã€‚åœ¨ç¬¬ä¸€æ­¥ä¸­è®¾ç½®çš„èœå•çš„åç§°å¹¶ä¸ç›´æ¥ç”¨äºç•Œé¢ä¸Šçš„å±•ç¤ºã€‚Hexo åœ¨ç”Ÿæˆçš„æ—¶å€™å°†ä½¿ç”¨ è¿™ä¸ªåç§°æŸ¥æ‰¾å¯¹åº”çš„è¯­è¨€ç¿»è¯‘ï¼Œå¹¶æå–æ˜¾ç¤ºæ–‡æœ¬ã€‚è¿™äº›ç¿»è¯‘æ–‡æœ¬æ”¾ç½®åœ¨ NexT ä¸»é¢˜ç›®å½•ä¸‹çš„ languages/{language}.yml ï¼ˆ{language} ä¸ºä½ æ‰€ä½¿ç”¨çš„è¯­è¨€ï¼‰ã€‚ä»¥ç®€ä½“ä¸­æ–‡ä¸ºä¾‹ï¼Œè‹¥ä½ éœ€è¦æ·»åŠ ä¸€ä¸ªèœå•é¡¹ï¼Œæ¯”å¦‚ somethingã€‚é‚£ä¹ˆå°±éœ€è¦ä¿®æ”¹ç®€ä½“ä¸­æ–‡å¯¹åº”çš„ç¿»è¯‘æ–‡ä»¶ languages/zh-Hans.ymlï¼Œåœ¨ menu å­—æ®µä¸‹æ·»åŠ ä¸€é¡¹ï¼š123456789menu: home: é¦–é¡µ archives: å½’æ¡£ categories: åˆ†ç±» tags: æ ‡ç­¾ about: å…³äº search: æœç´¢ commonweal: å…¬ç›Š404 something: æœ‰æ–™3.è®¾å®šèœå•é¡¹çš„å›¾æ ‡ï¼Œå¯¹åº”çš„å­—æ®µæ˜¯ menu_iconsã€‚ æ­¤è®¾å®šæ ¼å¼æ˜¯ item name: icon nameï¼Œå…¶ä¸­ item name ä¸ä¸Šä¸€æ­¥æ‰€é…ç½®çš„èœå•åå­—å¯¹åº”ï¼Œicon name æ˜¯ Font Awesome å›¾æ ‡çš„ åå­—ã€‚è€Œ enable å¯ç”¨äºæ§åˆ¶æ˜¯å¦æ˜¾ç¤ºå›¾æ ‡ï¼Œä½ å¯ä»¥è®¾ç½®æˆ false æ¥å»æ‰å›¾æ ‡ã€‚èœå•å›¾æ ‡é…ç½®ç¤ºä¾‹123456789menu_icons: enable: true # Icon Mapping. home: home about: user categories: th tags: tags archives: archive commonweal: heartbeatåœ¨èœå•å›¾æ ‡å¼€å¯çš„æƒ…å†µä¸‹ï¼Œå¦‚æœèœå•é¡¹ä¸èœå•æœªåŒ¹é…ï¼ˆæ²¡æœ‰è®¾ç½®æˆ–è€…æ— æ•ˆçš„ Font Awesome å›¾æ ‡åå­—ï¼‰ çš„æƒ…å†µä¸‹ï¼ŒNexT å°†ä¼šä½¿ç”¨ ? ä½œä¸ºå›¾æ ‡ã€‚è¯·æ³¨æ„é”®å€¼ï¼ˆå¦‚ homeï¼‰çš„å¤§å°å†™è¦ä¸¥æ ¼åŒ¹é…è®¾ç½® ä¾§æ é»˜è®¤æƒ…å†µä¸‹ï¼Œä¾§æ ä»…åœ¨æ–‡ç« é¡µé¢ï¼ˆæ‹¥æœ‰ç›®å½•åˆ—è¡¨ï¼‰æ—¶æ‰æ˜¾ç¤ºï¼Œå¹¶æ”¾ç½®äºå³ä¾§ä½ç½®ã€‚ å¯ä»¥é€šè¿‡ä¿®æ”¹ ä¸»é¢˜é…ç½®æ–‡ä»¶ ä¸­çš„ sidebar å­—æ®µæ¥æ§åˆ¶ä¾§æ çš„è¡Œä¸ºã€‚ä¾§æ çš„è®¾ç½®åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå…¶ä¸€æ˜¯ä¾§æ çš„ä½ç½®ï¼Œ å…¶äºŒæ˜¯ä¾§æ æ˜¾ç¤ºçš„æ—¶æœºã€‚1.è®¾ç½®ä¾§æ çš„ä½ç½®ï¼Œä¿®æ”¹ sidebar.position çš„å€¼ï¼Œæ”¯æŒçš„é€‰é¡¹æœ‰ï¼š12left - é å·¦æ”¾ç½®right - é å³æ”¾ç½®ç›®å‰ä»… Pisces Scheme æ”¯æŒ position é…ç½®ã€‚å½±å“ç‰ˆæœ¬5.0.0åŠæ›´ä½ç‰ˆæœ¬ã€‚12sidebar: position: left2.è®¾ç½®ä¾§æ æ˜¾ç¤ºçš„æ—¶æœºï¼Œä¿®æ”¹ sidebar.display çš„å€¼ï¼Œæ”¯æŒçš„é€‰é¡¹æœ‰ï¼šposté»˜è®¤è¡Œä¸ºï¼Œåœ¨æ–‡ç« é¡µé¢ï¼ˆæ‹¥æœ‰ç›®å½•åˆ—è¡¨ï¼‰æ—¶æ˜¾ç¤ºalwaysåœ¨æ‰€æœ‰é¡µé¢ä¸­éƒ½æ˜¾ç¤ºhideåœ¨æ‰€æœ‰é¡µé¢ä¸­éƒ½éšè—ï¼ˆå¯ä»¥æ‰‹åŠ¨å±•å¼€ï¼‰removeå®Œå…¨ç§»é™¤12sidebar: display: postå·²çŸ¥ä¾§æ åœ¨ use motion: false çš„æƒ…å†µä¸‹ä¸ä¼šå±•ç¤ºã€‚ å½±å“ç‰ˆæœ¬5.0.0åŠæ›´ä½ç‰ˆæœ¬ã€‚è®¾ç½® å¤´åƒç¼–è¾‘ ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œ ä¿®æ”¹å­—æ®µ avatarï¼Œ å€¼è®¾ç½®æˆå¤´åƒçš„é“¾æ¥åœ°å€ã€‚å…¶ä¸­ï¼Œå¤´åƒçš„é“¾æ¥åœ°å€å¯ä»¥æ˜¯ï¼šåœ°å€å€¼å®Œæ•´çš„äº’è”ç½‘URIhttp://example.com/avatar.pngç«™ç‚¹å†…çš„åœ°å€å°†å¤´åƒæ”¾ç½®ä¸»é¢˜ç›®å½•ä¸‹çš„ source/uploads/ (æ–°å»º uploads ç›®å½•è‹¥ä¸å­˜åœ¨)ï¼Œé…ç½®ä¸ºï¼šavatar: /uploads/avatar.pngï¼›æˆ–è€… æ”¾ç½®åœ¨ source/images/ ç›®å½•ä¸‹ï¼Œé…ç½®ä¸ºï¼šavatar: /images/avatar.pngå¤´åƒè®¾ç½®ç¤ºä¾‹1avatar: http://example.com/avatar.pngè®¾ç½®ä½œè€…æ˜µç§°ç¼–è¾‘ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œ è®¾ç½® author ä¸ºä½ çš„æ˜µç§°ã€‚ç«™ç‚¹æè¿°ç¼–è¾‘ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œ è®¾ç½® description å­—æ®µä¸ºä½ çš„ç«™ç‚¹æè¿°ã€‚ç«™ç‚¹æè¿°å¯ä»¥æ˜¯ä½ å–œæ¬¢çš„ä¸€å¥ç­¾å : )ä¸»é¢˜é…ç½®è®¾ç½® RSSNexT ä¸­ RSS æœ‰ä¸‰ä¸ªè®¾ç½®é€‰é¡¹ï¼Œæ»¡è¶³ç‰¹å®šçš„ä½¿ç”¨åœºæ™¯ã€‚ æ›´æ”¹ ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œè®¾å®š rss å­—æ®µçš„å€¼ï¼š123falseï¼š ç¦ç”¨ RSSï¼Œä¸åœ¨é¡µé¢ä¸Šæ˜¾ç¤º RSS è¿æ¥ã€‚ç•™ç©ºï¼š ä½¿ç”¨ Hexo ç”Ÿæˆçš„ Feed é“¾æ¥ã€‚ ä½ å¯ä»¥éœ€è¦å…ˆå®‰è£… hexo-generator-feed æ’ä»¶ã€‚å…·ä½“çš„é“¾æ¥åœ°å€ï¼šé€‚ç”¨äºå·²ç»çƒ§åˆ¶è¿‡ Feed çš„æƒ…å½¢ã€‚æ·»åŠ ã€Œæ ‡ç­¾ã€é¡µé¢æ–°å»ºã€Œæ ‡ç­¾ã€é¡µé¢ï¼Œå¹¶åœ¨èœå•ä¸­æ˜¾ç¤ºã€Œæ ‡ç­¾ã€é“¾æ¥ã€‚ã€Œæ ‡ç­¾ã€é¡µé¢å°†å±•ç¤ºç«™ç‚¹çš„æ‰€æœ‰æ ‡ç­¾ï¼Œè‹¥ä½ çš„æ‰€æœ‰æ–‡ç« éƒ½æœªåŒ…å«æ ‡ç­¾ï¼Œæ­¤é¡µé¢å°†æ˜¯ç©ºçš„ã€‚ åº•ä¸‹ä»£ç æ˜¯ä¸€ç¯‡åŒ…å«æ ‡ç­¾çš„æ–‡ç« çš„ä¾‹å­ï¼š12345title: æ ‡ç­¾æµ‹è¯•æ–‡ç« tags: - Testing - Another Tag---è¯·å‚é˜… Hexo çš„åˆ†ç±»ä¸æ ‡ç­¾æ–‡æ¡£ï¼Œäº†è§£å¦‚ä½•ä¸ºæ–‡ç« æ·»åŠ æ ‡ç­¾æˆ–è€…åˆ†ç±»ã€‚æ–°å»ºé¡µé¢åœ¨ç»ˆç«¯çª—å£ä¸‹ï¼Œå®šä½åˆ° Hexo ç«™ç‚¹ç›®å½•ä¸‹ã€‚ä½¿ç”¨ hexo new page æ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œå‘½åä¸º tags ï¼š12$ cd your-hexo-site$ hexo new page tagsè®¾ç½®é¡µé¢ç±»å‹ç¼–è¾‘åˆšæ–°å»ºçš„é¡µé¢ï¼Œå°†é¡µé¢çš„ç±»å‹è®¾ç½®ä¸º tags ï¼Œä¸»é¢˜å°†è‡ªåŠ¨ä¸ºè¿™ä¸ªé¡µé¢æ˜¾ç¤ºæ ‡ç­¾äº‘ã€‚é¡µé¢å†…å®¹å¦‚ä¸‹ï¼š1234title: æ ‡ç­¾date: 2014-12-22 12:39:04type: &quot;tags&quot;---åœ¨èœå•ä¸­æ·»åŠ é“¾æ¥ã€‚ç¼–è¾‘ ä¸»é¢˜é…ç½®æ–‡ä»¶ ï¼Œ æ·»åŠ  tags åˆ° menu ä¸­ï¼Œå¦‚ä¸‹:1234menu: home: / archives: /archives tags: /tagsæ³¨æ„ï¼šå¦‚æœæœ‰é›†æˆè¯„è®ºæœåŠ¡ï¼Œé¡µé¢ä¹Ÿä¼šå¸¦æœ‰è¯„è®ºã€‚ è‹¥éœ€è¦å…³é—­çš„è¯ï¼Œè¯·æ·»åŠ å­—æ®µ comments å¹¶å°†å€¼è®¾ç½®ä¸º falseï¼Œå¦‚ï¼šç¦ç”¨è¯„è®ºç¤ºä¾‹12345title: æ ‡ç­¾date: 2014-12-22 12:39:04type: &quot;tags&quot;comments: false---æ·»åŠ ã€Œåˆ†ç±»ã€é¡µé¢æ–°å»ºã€Œåˆ†ç±»ã€é¡µé¢ï¼Œå¹¶åœ¨èœå•ä¸­æ˜¾ç¤ºã€Œåˆ†ç±»ã€é“¾æ¥ã€‚ã€Œåˆ†ç±»ã€é¡µé¢å°†å±•ç¤ºç«™ç‚¹çš„æ‰€æœ‰åˆ†ç±»ï¼Œè‹¥ä½ çš„æ‰€æœ‰æ–‡ç« éƒ½æœªåŒ…å«åˆ†ç±»ï¼Œæ­¤é¡µé¢å°†æ˜¯ç©ºçš„ã€‚ åº•ä¸‹ä»£ç æ˜¯ä¸€ç¯‡åŒ…å«åˆ†ç±»çš„æ–‡ç« çš„ä¾‹å­ï¼š123title: åˆ†ç±»æµ‹è¯•æ–‡ç« categories: Testing---è¯·å‚é˜… Hexo çš„åˆ†ç±»ä¸æ ‡ç­¾æ–‡æ¡£ï¼Œäº†è§£å¦‚ä½•ä¸ºæ–‡ç« æ·»åŠ æ ‡ç­¾æˆ–è€…åˆ†ç±»ã€‚æ–°å»ºé¡µé¢åœ¨ç»ˆç«¯çª—å£ä¸‹ï¼Œå®šä½åˆ° Hexo ç«™ç‚¹ç›®å½•ä¸‹ã€‚ä½¿ç”¨ hexo new page æ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œå‘½åä¸º categories ï¼š12$ cd your-hexo-site$ hexo new page categoriesè®¾ç½®é¡µé¢ç±»å‹ç¼–è¾‘åˆšæ–°å»ºçš„é¡µé¢ï¼Œå°†é¡µé¢çš„ type è®¾ç½®ä¸º categories ï¼Œä¸»é¢˜å°†è‡ªåŠ¨ä¸ºè¿™ä¸ªé¡µé¢æ˜¾ç¤ºåˆ†ç±»ã€‚é¡µé¢å†…å®¹å¦‚ä¸‹ï¼š1234title: åˆ†ç±»date: 2014-12-22 12:39:04type: &quot;categories&quot;---ä¿®æ”¹èœå•åœ¨èœå•ä¸­æ·»åŠ é“¾æ¥ã€‚ç¼–è¾‘ ä¸»é¢˜é…ç½®æ–‡ä»¶ ï¼Œ æ·»åŠ  categories åˆ° menu ä¸­ï¼Œå¦‚ä¸‹:1234menu: home: / archives: /archives categories: /categoriesæ³¨æ„ï¼šå¦‚æœæœ‰é›†æˆè¯„è®ºæœåŠ¡ï¼Œé¡µé¢ä¹Ÿä¼šå¸¦æœ‰è¯„è®ºã€‚ è‹¥éœ€è¦å…³é—­çš„è¯ï¼Œè¯·æ·»åŠ å­—æ®µ comments å¹¶å°†å€¼è®¾ç½®ä¸º falseï¼Œå¦‚ï¼šç¦ç”¨è¯„è®ºç¤ºä¾‹12345title: åˆ†ç±»date: 2014-12-22 12:39:04type: &quot;categories&quot;comments: false---è®¾ç½®å­—ä½“æ³¨æ„ï¼š æ­¤ç‰¹æ€§åœ¨ç‰ˆæœ¬ 5.0.1 ä¸­å¼•å…¥ï¼Œè¦ä½¿ç”¨æ­¤åŠŸèƒ½è¯·ç¡®ä¿æ‰€ä½¿ç”¨çš„ NexT ç‰ˆæœ¬åœ¨æ­¤ä¹‹åä¸ºäº†è§£å†³ Google Fonts API ä¸ç¨³å®šçš„é—®é¢˜ï¼ŒNexT åœ¨ 5.0.1 ä¸­å¼•å…¥æ­¤ç‰¹æ€§ã€‚ é€šè¿‡æ­¤ç‰¹æ€§ï¼Œä½ å¯ä»¥æŒ‡å®šæ‰€ä½¿ç”¨çš„å­—ä½“åº“å¤–é“¾åœ°å€ï¼›ä¸æ­¤åŒæ—¶ï¼ŒNexT å¼€æ”¾äº† 5 ä¸ªç‰¹å®šèŒƒå›´çš„å­—ä½“è®¾å®šï¼Œä»–ä»¬æ˜¯ï¼š123456789å…¨å±€å­—ä½“ï¼šå®šä¹‰çš„å­—ä½“å°†åœ¨å…¨ç«™èŒƒå›´ä½¿ç”¨æ ‡é¢˜å­—ä½“ï¼šæ–‡ç« å†…æ ‡é¢˜çš„å­—ä½“ï¼ˆh1, h2, h3, h4, h5, h6ï¼‰æ–‡ç« å­—ä½“ï¼šæ–‡ç« æ‰€ä½¿ç”¨çš„å­—ä½“Logoå­—ä½“ï¼šLogo æ‰€ä½¿ç”¨çš„å­—ä½“ä»£ç å­—ä½“ï¼š ä»£ç å—æ‰€ä½¿ç”¨çš„å­—ä½“å„é¡¹æ‰€æŒ‡å®šçš„å­—ä½“å°†ä½œä¸ºé¦–é€‰å­—ä½“ï¼Œå½“ä»–ä»¬ä¸å¯ç”¨æ—¶ä¼šè‡ªåŠ¨ Fallback åˆ° NexT è®¾å®šçš„åŸºç¡€å­—ä½“ç»„ï¼šéä»£ç ç±»å­—ä½“ï¼šFallback åˆ° &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serifä»£ç ç±»å­—ä½“ï¼š Fallback åˆ° consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospaceå¦å¤–ï¼Œæ¯ä¸€é¡¹éƒ½æœ‰ä¸€ä¸ªé¢å¤–çš„ external å±æ€§ï¼Œæ­¤å±æ€§ç”¨æ¥æ§åˆ¶æ˜¯å¦ä½¿ç”¨å¤–é“¾å­—ä½“åº“ã€‚ å¼€æ”¾æ­¤å±æ€§æ–¹ä¾¿ä½ è®¾å®šé‚£äº›å·²ç»å®‰è£…åœ¨ç³»ç»Ÿä¸­çš„å­—ä½“ï¼Œå‡å°‘ä¸å¿…è¦çš„è¯·æ±‚ï¼ˆè¯·æ±‚å¤§å°ï¼‰ã€‚é…ç½®ç¤ºä¾‹12345678910111213141516171819202122232425262728293031font: enable: true # å¤–é“¾å­—ä½“åº“åœ°å€ï¼Œä¾‹å¦‚ //fonts.googleapis.com (é»˜è®¤å€¼) host: # å…¨å±€å­—ä½“ï¼Œåº”ç”¨åœ¨ body å…ƒç´ ä¸Š global: external: true family: Monda # æ ‡é¢˜å­—ä½“ (h1, h2, h3, h4, h5, h6) headings: external: true family: Roboto Slab # æ–‡ç« å­—ä½“ posts: external: true family: # Logo å­—ä½“ logo: external: true family: Lobster Two size: 24 # ä»£ç å­—ä½“ï¼Œåº”ç”¨äº code ä»¥åŠä»£ç å— codes: external: true family: PT Monoè®¾ç½®ä»£ç é«˜äº®ä¸»é¢˜NexT ä½¿ç”¨ Tomorrow Theme ä½œä¸ºä»£ç é«˜äº®ï¼Œå…±æœ‰5æ¬¾ä¸»é¢˜ä¾›ä½ é€‰æ‹©ã€‚ NexT é»˜è®¤ä½¿ç”¨çš„æ˜¯ ç™½è‰²çš„ normal ä¸»é¢˜ï¼Œå¯é€‰çš„å€¼æœ‰ normalï¼Œnightï¼Œ night blueï¼Œ night brightï¼Œ night eightiesã€‚æ›´æ”¹ highlight_theme å­—æ®µï¼Œå°†å…¶å€¼è®¾å®šæˆä½ æ‰€å–œçˆ±çš„é«˜äº®ä¸»é¢˜ï¼Œä¾‹å¦‚ï¼šé«˜äº®ä¸»é¢˜è®¾ç½®ç¤ºä¾‹1234# Code Highlight theme# Available value: normal | night | night eighties | night blue | night bright# https://github.com/chriskempson/tomorrow-themehighlight_theme: normalä¾§è¾¹æ ç¤¾äº¤é“¾æ¥ä¾§æ ç¤¾äº¤é“¾æ¥çš„ä¿®æ”¹åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼Œç¬¬ä¸€æ˜¯é“¾æ¥ï¼Œç¬¬äºŒæ˜¯é“¾æ¥å›¾æ ‡ã€‚ ä¸¤è€…é…ç½®å‡åœ¨ ä¸»é¢˜é…ç½®æ–‡ä»¶ ä¸­ã€‚1.é“¾æ¥æ”¾ç½®åœ¨ social å­—æ®µä¸‹ï¼Œä¸€è¡Œä¸€ä¸ªé“¾æ¥ã€‚å…¶é”®å€¼æ ¼å¼æ˜¯ æ˜¾ç¤ºæ–‡æœ¬: é“¾æ¥åœ°å€ã€‚é…ç½®ç¤ºä¾‹1234567# Social linkssocial: GitHub: https://github.com/your-user-name Twitter: https://twitter.com/your-user-name å¾®åš: http://weibo.com/your-user-name è±†ç“£: http://douban.com/people/your-user-name çŸ¥ä¹: http://www.zhihu.com/people/your-user-name2.è®¾å®šé“¾æ¥çš„å›¾æ ‡ï¼Œå¯¹åº”çš„å­—æ®µæ˜¯ social_iconsã€‚å…¶é”®å€¼æ ¼å¼æ˜¯ åŒ¹é…é”®: Font Awesome å›¾æ ‡åç§°ï¼Œ åŒ¹é…é”® ä¸ä¸Šä¸€æ­¥æ‰€é…ç½®çš„é“¾æ¥çš„ æ˜¾ç¤ºæ–‡æœ¬ ç›¸åŒï¼ˆå¤§å°å†™ä¸¥æ ¼åŒ¹é…ï¼‰ï¼Œå›¾æ ‡åç§° æ˜¯ Font Awesome å›¾æ ‡çš„åå­—ï¼ˆä¸å¿…å¸¦ fa- å‰ç¼€ï¼‰ã€‚ enable é€‰é¡¹ç”¨äºæ§åˆ¶æ˜¯å¦æ˜¾ç¤ºå›¾æ ‡ï¼Œä½ å¯ä»¥è®¾ç½®æˆ false æ¥å»æ‰å›¾æ ‡ã€‚é…ç½®ç¤ºä¾‹1234567# Social Iconssocial_icons: enable: true # Icon Mappings GitHub: github Twitter: twitter å¾®åš: weiboå¼€å¯æ‰“èµåŠŸèƒ½ ç”± habren è´¡çŒ®è¶Šæ¥è¶Šå¤šçš„å¹³å°ï¼ˆå¾®ä¿¡å…¬ä¼—å¹³å°ï¼Œæ–°æµªå¾®åšï¼Œç®€ä¹¦ï¼Œç™¾åº¦æ‰“èµç­‰ï¼‰æ”¯æŒæ‰“èµåŠŸèƒ½ï¼Œä»˜è´¹é˜…è¯»æ—¶ä»£è¶Šæ¥è¶Šè¿‘ï¼Œç‰¹æ­¤å¢åŠ äº†æ‰“èµåŠŸèƒ½ï¼Œæ”¯æŒå¾®ä¿¡æ‰“èµå’Œæ”¯ä»˜å®æ‰“èµã€‚ åªéœ€è¦ ä¸»é¢˜é…ç½®æ–‡ä»¶ ä¸­å¡«å…¥ å¾®ä¿¡ å’Œ æ”¯ä»˜å® æ”¶æ¬¾äºŒç»´ç å›¾ç‰‡åœ°å€ å³å¯å¼€å¯è¯¥åŠŸèƒ½ã€‚æ‰“èµåŠŸèƒ½é…ç½®ç¤ºä¾‹123reward_comment: åšæŒåŸåˆ›æŠ€æœ¯åˆ†äº«ï¼Œæ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œï¼wechatpay: /path/to/wechat-reward-imagealipay: /path/to/alipay-reward-imageå‹æƒ…é“¾æ¥ ç”± iamwent è´¡çŒ®ç¼–è¾‘ ä¸»é¢˜é…ç½®æ–‡ä»¶ æ·»åŠ ï¼šå‹æƒ…é“¾æ¥é…ç½®ç¤ºä¾‹12345# titlelinks_title: Linkslinks: MacTalk: http://macshuo.com/ Title: http://example.com/ç«™ç‚¹å»ºç«‹æ—¶é—´è¿™ä¸ªæ—¶é—´å°†åœ¨ç«™ç‚¹çš„åº•éƒ¨æ˜¾ç¤ºï¼Œä¾‹å¦‚ Â© 2013 - 2015ã€‚ ç¼–è¾‘ ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæ–°å¢å­—æ®µ sinceã€‚é…ç½®ç¤ºä¾‹1since: 2013è®¾ç½®ã€ŒåŠ¨ç”»æ•ˆæœã€NexT é»˜è®¤å¼€å¯åŠ¨ç”»æ•ˆæœï¼Œæ•ˆæœä½¿ç”¨ JavaScript ç¼–å†™ï¼Œå› æ­¤éœ€è¦ç­‰å¾… JavaScript è„šæœ¬å®Œå…¨åŠ è½½å®Œæ¯•åæ‰ä¼šæ˜¾ç¤ºå†…å®¹ã€‚ å¦‚æœæ‚¨æ¯”è¾ƒåœ¨ä¹é€Ÿåº¦ï¼Œå¯ä»¥å°†è®¾ç½®æ­¤å­—æ®µçš„å€¼ä¸º false æ¥å…³é—­åŠ¨ç”»ã€‚ç¼–è¾‘ ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œ æœç´¢ use_motionï¼Œæ ¹æ®æ‚¨çš„éœ€æ±‚è®¾ç½®å€¼ä¸º true æˆ–è€… false å³å¯ï¼š12use_motion: true # å¼€å¯åŠ¨ç”»æ•ˆæœuse_motion: false # å…³é—­åŠ¨ç”»æ•ˆæœè®¾ç½®ã€ŒèƒŒæ™¯åŠ¨ç”»ã€NexT è‡ªå¸¦ä¸¤ç§èƒŒæ™¯åŠ¨ç”»æ•ˆæœç¼–è¾‘ ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œ æœç´¢ canvas_nest æˆ– three_wavesï¼Œæ ¹æ®æ‚¨çš„éœ€æ±‚è®¾ç½®å€¼ä¸º true æˆ–è€… false å³å¯ï¼šæ³¨æ„ï¼š three_waves åœ¨ç‰ˆæœ¬ 5.1.1 ä¸­å¼•å…¥ã€‚åªèƒ½åŒæ—¶å¼€å¯ä¸€ç§èƒŒæ™¯åŠ¨ç”»æ•ˆæœã€‚canvas_nest é…ç½®ç¤ºä¾‹1234567# canvas_nestcanvas_nest: true //å¼€å¯åŠ¨ç”»canvas_nest: false //å…³é—­åŠ¨ç”»three_waves é…ç½®ç¤ºä¾‹# three_wavesthree_waves: true //å¼€å¯åŠ¨ç”»three_waves: false //å…³é—­åŠ¨ç”»è…¾è®¯å…¬ç›Š 404 é¡µé¢ ç”± xirong è´¡çŒ®è…¾è®¯å…¬ç›Š404é¡µé¢ï¼Œå¯»æ‰¾ä¸¢å¤±å„¿ç«¥ï¼Œè®©å¤§å®¶ä¸€èµ·å…³æ³¨æ­¤é¡¹å…¬ç›Šäº‹ä¸šï¼æ•ˆæœå¦‚ä¸‹ä½¿ç”¨æ–¹æ³•ï¼Œæ–°å»º 404.html é¡µé¢ï¼Œæ”¾åˆ°ä¸»é¢˜çš„ source ç›®å½•ä¸‹ï¼Œå†…å®¹å¦‚ä¸‹ï¼š123456789101112131415161718&lt;!DOCTYPE HTML&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html;charset=utf-8;&quot;/&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot; /&gt; &lt;meta name=&quot;robots&quot; content=&quot;all&quot; /&gt; &lt;meta name=&quot;robots&quot; content=&quot;index,follow&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://qzone.qq.com/gy/404/style/404style.css&quot;&gt;&lt;/head&gt;&lt;body&gt; &lt;script type=&quot;text/plain&quot; src=&quot;http://www.qq.com/404/search_children.js&quot; charset=&quot;utf-8&quot; homePageUrl=&quot;/&quot; homePageName=&quot;å›åˆ°æˆ‘çš„ä¸»é¡µ&quot;&gt; &lt;/script&gt; &lt;script src=&quot;https://qzone.qq.com/gy/404/data.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://qzone.qq.com/gy/404/page.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;CreditsNexTåŸºæœ¬ä½¿ç”¨è½¬è‡ªå®˜æ–¹è¯´æ˜æ–‡æ¡£","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"é™æ€åšå®¢","slug":"é™æ€åšå®¢","permalink":"https://blog.iamzhl.top/tags/é™æ€åšå®¢/"},{"name":"NexT","slug":"NexT","permalink":"https://blog.iamzhl.top/tags/NexT/"},{"name":"hexo","slug":"hexo","permalink":"https://blog.iamzhl.top/tags/hexo/"}]},{"title":"é»‘è‹¹æœæ— çº¿ç½‘å¡ BCM94352z é©±åŠ¨æ•™ç¨‹","slug":"Enable-BCM94352z-on-hacintosh","date":"2017-09-12T16:00:00.000Z","updated":"2019-03-11T16:21:49.889Z","comments":true,"path":"Enable-BCM94352z-on-hacintosh.html","link":"","permalink":"https://blog.iamzhl.top/Enable-BCM94352z-on-hacintosh.html","excerpt":"","text":"æ·»åŠ ä»¿å†’ ID å¯ç”¨è“ç‰™ï¼š1config.plist -&gt; Device -&gt; FakeID -&gt; WIFI ä¸­å¡«å†™ 0x43a014e4åœ¨ Clover çš„é…ç½®æ–‡ä»¶ config.plist -&gt; Kernel and Kext Patches æ·»åŠ ä»¥ä¸‹ä»£ç å—12345678910111213141516&lt;dict&gt; &lt;key&gt;Comment&lt;/key&gt; &lt;string&gt;10.11+-BT4LE-Handoff-Hotspot-lisai9093&lt;/string&gt; &lt;key&gt;Disabled&lt;/key&gt; &lt;false/&gt; &lt;key&gt;Find&lt;/key&gt; &lt;data&gt; SIX/dEdIiwc= &lt;/data&gt; &lt;key&gt;Name&lt;/key&gt; &lt;string&gt;IOBluetoothFamily&lt;/string&gt; &lt;key&gt;Replace&lt;/key&gt; &lt;data&gt; Qb4PAAAA60Q= &lt;/data&gt;&lt;/dict&gt;ä¸‹è½½å¹¶å®‰è£…é©±åŠ¨1234https://github.com/vit9696/Lilu/releaseshttps://bitbucket.org/RehabMan/os-x-fake-pci-id/downloads/ https://bitbucket.org/RehabMan/os-x-brcmpatchram/downloads/https://sourceforge.net/projects/airportbrcmfixup/files/?source=navbarå°†ä»¥ä¸‹é©±åŠ¨æ‹·è´åˆ° CLOVER/EFI/CLOVER/kexts/Other æ–‡ä»¶å¤¹ä¸‹(ç”±äº AirportBrcmFixup.kext æ˜¯ä¾èµ–äº Lilu è¿è¡Œçš„æ’ä»¶ï¼Œæ‰€ä»¥è¿˜éœ€è¦ç¡®ä¿è¯¥ç›®å½•ä¸‹å¿…é¡»å­˜åœ¨ Lilu.kext)123456AirportBrcmFixup.kext FakePCIID.kext FakePCIID_Broadcom_WiFi.kext BrcmPatchRAM2.kext BrcmFirmwareData.kextLilu.kexté‡å»ºç¼“å­˜123sudo rm -rf /System/Library/Caches/com.apple.kext.caches/Startup/kernelcachesudo rm -rf /System/Library/PrelinkedKernels/prelinkedkernelsudo touch /System/Library/Extensions/ &amp;&amp; sudo kextcache -u /é‡å¯","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"Hacintosh","slug":"Hacintosh","permalink":"https://blog.iamzhl.top/tags/Hacintosh/"},{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/tags/é»‘è‹¹æœ/"},{"name":"BCM94352z","slug":"BCM94352z","permalink":"https://blog.iamzhl.top/tags/BCM94352z/"}]},{"title":"ä½ç¢³ç”Ÿæ´»ç­”é¢˜é—®é¢˜","slug":"Problem-about-low-carbon-lifestyle-answering","date":"2017-09-11T16:00:00.000Z","updated":"2019-03-11T16:21:49.899Z","comments":true,"path":"Problem-about-low-carbon-lifestyle-answering.html","link":"","permalink":"https://blog.iamzhl.top/Problem-about-low-carbon-lifestyle-answering.html","excerpt":"","text":"é—®é¢˜æè¿°æŸç”µè§†å°ä¸¾åŠäº†ä½ç¢³ç”Ÿæ´»å¤§å¥–èµ›ã€‚é¢˜ç›®çš„è®¡åˆ†è§„åˆ™ç›¸å½“å¥‡æ€ªï¼šâ€‹1ã€æ¯ä½é€‰æ‰‹éœ€è¦å›ç­”10ä¸ªé—®é¢˜ï¼ˆå…¶ç¼–å·ä¸º1åˆ°10ï¼‰ï¼Œè¶Šåé¢è¶Šæœ‰éš¾åº¦ã€‚ç­”å¯¹çš„ï¼Œå½“å‰åˆ†æ•°ç¿»å€ï¼›ç­”é”™äº†åˆ™æ‰£æ‰ä¸é¢˜å·ç›¸åŒçš„åˆ†æ•°ï¼ˆé€‰æ‰‹å¿…é¡»å›ç­”é—®é¢˜ï¼Œä¸å›ç­”æŒ‰é”™è¯¯å¤„ç†ï¼‰ã€‚â€‹2ã€æ¯ä½é€‰æ‰‹éƒ½æœ‰ä¸€ä¸ªèµ·æ­¥çš„åˆ†æ•°ä¸º10åˆ†ã€‚ æŸè·èƒœé€‰æ‰‹æœ€ç»ˆå¾—åˆ†åˆšå¥½æ˜¯100åˆ†ï¼Œå¦‚æœä¸è®©ä½ çœ‹æ¯”èµ›è¿‡ç¨‹ï¼Œä½ èƒ½æ¨æ–­å‡ºä»–ï¼ˆå¥¹ï¼‰å“ªä¸ªé¢˜ç›®ç­”å¯¹äº†ï¼Œå“ªä¸ªé¢˜ç›®ç­”é”™äº†å—ï¼Ÿâ€‹3ã€å¦‚æœæŠŠç­”å¯¹çš„è®°ä¸º1ï¼Œç­”é”™çš„è®°ä¸º0ï¼Œåˆ™10ä¸ªé¢˜ç›®çš„å›ç­”æƒ…å†µå¯ä»¥ç”¨ä»…å«æœ‰1å’Œ0çš„ä¸²æ¥è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼š0010110011 å°±æ˜¯å¯èƒ½çš„æƒ…å†µã€‚â€‹4ã€ä½ çš„ä»»åŠ¡æ˜¯ç®—å‡ºæ‰€æœ‰å¯èƒ½æƒ…å†µã€‚æ¯ä¸ªç­”æ¡ˆå ä¸€è¡Œã€‚è§£é¢˜æ€è·¯ä¸€å…±åä¸ªé—®é¢˜ï¼Œæ¯ä¸ªé—®é¢˜ä¸¤ç§æƒ…å†µï¼Œè¦ä¹ˆå¯¹è¦ä¹ˆé”™ï¼Œé‚£ä¹ˆç»“æœå°±ä¼šæœ‰ 0000000000 ~ 1111111111 = powï¼ˆ2ï¼Œ10ï¼‰ç§ï¼Œå°±å¯ä»¥ç”¨æš´åŠ›æœç´¢å°†æ‰€æœ‰æƒ…å†µæšä¸¾å‡ºæ¥ç„¶ååˆ¤æ–­ç¬¦åˆè¦æ±‚çš„æƒ…å†µï¼›â€‹åˆ†æ•°çš„æ§åˆ¶å¯ä»¥ç›´æ¥åˆ©ç”¨éå†æ‰€æœ‰æƒ…å†µçš„ for å¾ªç¯åˆ†åˆ«åˆ¤æ–­ä¸¤ç§æƒ…å†µï¼›â€‹å¦‚æœç”¨è¾“å‡º 1 ä»£è¡¨å›ç­”æ­£ç¡®ï¼Œ 0 ä»£è¡¨é”™è¯¯ï¼Œä¸éš¾æƒ³åˆ°ä»»ä½•ä¸€ä¸ªæ­£æ•´æ•°å¯¹ 2 å–ä½™ç»“æœåªæœ‰ 1 å’Œ 0 ä¸¤ç§æƒ…å†µï¼Œ è¾“å‡ºçš„æ—¶å€™ä¹Ÿå°±æˆäº†è¿›åˆ¶è½¬æ¢é—®é¢˜ï¼›ä»£ç å®ç°1234567891011121314151617181920212223242526272829#include &lt;stdio.h&gt; #include &lt;math.h&gt; int main() &#123; int i,j; int score,temp; for(i=0;i&lt;pow(2,10);i++)&#123; temp=i; score=10; for(j=0;j&lt;10;j++)&#123; if(temp%2 == 1) score*=2; else score-=j+1; temp/=2; &#125; if(score==100)&#123; temp=i; for(j=0;j&lt;10;j++)&#123; printf(\"%d \", temp%2); temp/=2; &#125; printf(\"\\n\"); &#125; &#125; return 0;&#125;è¿è¡Œç»“æœ1231 0 1 1 0 1 0 0 0 0 0 1 1 1 0 1 0 0 0 0 0 0 1 0 1 1 0 0 1 1","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/tags/ç®—æ³•/"},{"name":"Cè¯­è¨€","slug":"Cè¯­è¨€","permalink":"https://blog.iamzhl.top/tags/Cè¯­è¨€/"},{"name":"ä½ç¢³ç”Ÿæ´»ç­”é¢˜é—®é¢˜","slug":"ä½ç¢³ç”Ÿæ´»ç­”é¢˜é—®é¢˜","permalink":"https://blog.iamzhl.top/tags/ä½ç¢³ç”Ÿæ´»ç­”é¢˜é—®é¢˜/"}]},{"title":"æœ€ç®€å•çš„å®¢æˆ·æœºä¸æœåŠ¡å™¨æ¡ˆä¾‹æ¼”ç¤º","slug":"The-simplest-case-demo-about-client-and-server","date":"2017-09-06T16:00:00.000Z","updated":"2019-03-11T16:21:49.904Z","comments":true,"path":"The-simplest-case-demo-about-client-and-server.html","link":"","permalink":"https://blog.iamzhl.top/The-simplest-case-demo-about-client-and-server.html","excerpt":"","text":"EchoClient.java12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879/* * To change this license header, choose License Headers in Project Properties. * To change this template file, choose Tools | Templates * and open the template in the editor. */ package athlonreg.top;import java.io.BufferedReader;import java.io.BufferedWriter;import java.io.IOException;import java.io.InputStreamReader;import java.io.OutputStreamWriter;import java.net.InetSocketAddress;import java.net.Socket;import java.net.SocketAddress;/** * * @author athlonreg */ public class EchoCilent &#123; /** * @param args the command line arguments */ public static void main(String[] args) &#123; // TODO code application logic here Socket clientSocket = null; BufferedReader in = null; BufferedWriter out = null; try &#123; //1.åˆ›å»ºå®¢æˆ·æœºå¥—æ¥å­— clientSocket = new Socket(); SocketAddress remoteAddr=new InetSocketAddress(\"localhost\",5000); System.out.println(\"1.åˆ›å»ºå®¢æˆ·æœºå¥—æ¥å­—æˆåŠŸï¼\"); //2.è¿æ¥æœåŠ¡å™¨ clientSocket.connect(remoteAddr); System.out.println(\"2.å®¢æˆ·æœºè¿æ¥æœåŠ¡å™¨localhostç«¯å£5000æˆåŠŸï¼\"); System.out.println(\"å®¢æˆ·æœºä½¿ç”¨çš„åœ°å€å’Œç«¯å£ï¼š\"+clientSocket.getLocalSocketAddress()); //ä¸æœåŠ¡å™¨ä¼šè¯ in = new BufferedReader( new InputStreamReader( clientSocket.getInputStream())); out = new BufferedWriter( new OutputStreamWriter( clientSocket.getOutputStream())); String sendStr=\"æœ‰æœ‹è‡ªè¿œæ–¹æ¥\"; out.write(sendStr); //å‘æœåŠ¡å™¨å‘é€å­—ç¬¦ä¸² out.newLine(); out.flush(); System.out.println(\"3.1å‘æœåŠ¡å™¨å‘é€å­—ç¬¦ä¸²æˆåŠŸ!\"+sendStr); String recvStr=in.readLine(); //ä»æœåŠ¡å™¨æ¥æ”¶å­—ç¬¦ä¸² System.out.println(\"3.2ä»æœåŠ¡å™¨æ¥æ”¶å›é€å­—ç¬¦ä¸²æˆåŠŸï¼\"+recvStr); &#125; catch (IOException ex) &#123; System.out.println(\"å¼‚å¸¸ä¿¡æ¯ï¼š\"+ex.getMessage()); &#125; //å…³é—­å¥—æ¥å­—å’Œæµ try &#123; if (in != null) in.close(); if (out != null) out.close(); if (clientSocket != null) clientSocket.close(); System.out.println(\"4.å…³é—­å¥—æ¥å­—å’ŒæµæˆåŠŸï¼\"); &#125; catch (IOException ex) &#123; System.out.println(\"å¼‚å¸¸ä¿¡æ¯ï¼š\"+ex.getMessage()); &#125; &#125; &#125;EchoServer.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384/* * To change this license header, choose License Headers in Project Properties. * To change this template file, choose Tools | Templates * and open the template in the editor. */ package athlonreg.top;import java.io.BufferedReader;import java.io.BufferedWriter;import java.io.IOException;import java.io.InputStreamReader;import java.io.OutputStreamWriter;import java.net.InetSocketAddress;import java.net.ServerSocket;import java.net.Socket;import java.net.SocketAddress;/** * * @author athlonreg */ public class EchoServer &#123; /** * @param args the command line arguments * @throws java.io.IOException */ public static void main(String[] args) throws IOException &#123; // TODO code application logic here //1.å¯åŠ¨æœåŠ¡å™¨ ServerSocket listenSocket = null; Socket clientSocket = null; BufferedReader in = null; BufferedWriter out = null; try &#123; listenSocket = new ServerSocket(); SocketAddress serverAddr=new InetSocketAddress(&quot;localhost&quot;,5000); listenSocket.bind(serverAddr); System.out.println(&quot;1.æœåŠ¡å™¨å¯åŠ¨æˆåŠŸï¼å¼€å§‹åœ¨localhostçš„5000ç«¯å£ä¾¦å¬è¿æ¥...&quot;); //2.å¤„ç†è¿æ¥ clientSocket = listenSocket.accept(); System.out.println(&quot;2.å®¢æˆ·æœºè¿æ¥æˆåŠŸï¼å®¢æˆ·æœºåœ°å€å’Œç«¯å£ï¼š&quot;+clientSocket.getRemoteSocketAddress()); //3.ä¸å®¢æˆ·æœºä¼šè¯ in = new BufferedReader( new InputStreamReader( clientSocket.getInputStream())); out = new BufferedWriter( new OutputStreamWriter( clientSocket.getOutputStream())); String recvStr=in.readLine(); //ä»å®¢æˆ·æœºæ¥æ”¶å­—ç¬¦ä¸² System.out.println(&quot;3.1 æœåŠ¡å™¨æ”¶åˆ°å­—ç¬¦ä¸²ï¼š&quot;+recvStr); out.write(recvStr); //å‘å®¢æˆ·æœºå›é€å­—ç¬¦ä¸² out.newLine(); out.flush(); System.out.println(&quot;3.2 æœåŠ¡å™¨å›é€å­—ç¬¦ä¸²æˆåŠŸï¼š&quot;+recvStr); &#125; catch (IOException ex) &#123; System.out.println(&quot;å¼‚å¸¸ä¿¡æ¯ï¼š&quot;+ex.getMessage()); &#125; //4.å…³é—­å¥—æ¥å­—å’Œæµ try &#123; if (in != null) in.close(); if (out != null) out.close(); if (listenSocket != null) listenSocket.close(); if (clientSocket != null) clientSocket.close(); System.out.println(&quot;4.å…³é—­å¥—æ¥å­—å’ŒæµæˆåŠŸï¼&quot;); &#125; catch (IOException ex) &#123; System.out.println(&quot;å¼‚å¸¸ä¿¡æ¯&quot;+ex.getMessage()); &#125; &#125; &#125;","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://blog.iamzhl.top/tags/Java/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"ç½‘ç»œç¼–ç¨‹","permalink":"https://blog.iamzhl.top/tags/ç½‘ç»œç¼–ç¨‹/"},{"name":"å®¢æˆ·æœºä¸æœåŠ¡å™¨","slug":"å®¢æˆ·æœºä¸æœåŠ¡å™¨","permalink":"https://blog.iamzhl.top/tags/å®¢æˆ·æœºä¸æœåŠ¡å™¨/"}]},{"title":"xcode-select å‘½ä»¤è¯¦è§£","slug":"How-to-use-xcode-select-in-terminal","date":"2017-09-02T16:00:00.000Z","updated":"2019-03-11T16:21:49.892Z","comments":true,"path":"How-to-use-xcode-select-in-terminal.html","link":"","permalink":"https://blog.iamzhl.top/How-to-use-xcode-select-in-terminal.html","excerpt":"","text":"Itâ€™s not uncommon developers to have multiple versions of Xcode installed. For example, I typically have the latest beta as well as the most current production release installed.However, there are times when you may want various tools, such as xcodebuild, to point to a specific Xcode folder. To faciliate this, you can use xcode-select. A common use case is if you use scripts and/or makefiles to build your projects.Once you set the Xcode folder, xcodebuild will be invoked from the folder you specified.The command line options are below:1234xcode-select [-help]xcode-select [-switch xcode_folder_path]xcode-select [-print-path]xcode-select [-version]Here is how to print the current Xcode path:12$ xcode-select --print-path/Developer/Applications/Xcode.appLine number 2 shows the current version of Xcode that is â€˜active.â€™ If you are accessing xcodebuild or other related tools from a script, â€“print-path is the preferred means to determine the current Xcode location.Use the -switch option to change to another version of Xcode on your system:1$ sudo xcode-select --switch /Applications/Xcode-beta.app/Contents/DeveloperThis changes to the Xcode-beta 9 on my system. Note that root access is required to set the Xcode location, thus I have used sudo to execute the command as root.Printing the path now looks as follows:12$ xcode-select --print-path/Applications/Xcode-beta.app/Contents/DeveloperTo switch back to Xcode installed in the /Applications directory:1$ sudo xcode-select -switch /Applications/Xcode.app/You can read more about xcode-select by view the man page from a terminal:1$ man xcode-select","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"ç»ˆç«¯","slug":"ç»ˆç«¯","permalink":"https://blog.iamzhl.top/tags/ç»ˆç«¯/"},{"name":"Mac","slug":"Mac","permalink":"https://blog.iamzhl.top/tags/Mac/"},{"name":"Xcode","slug":"Xcode","permalink":"https://blog.iamzhl.top/tags/Xcode/"}]},{"title":"é‡‘å¸é˜µåˆ—é—®é¢˜","slug":"Problem-about-coin-array","date":"2017-09-02T16:00:00.000Z","updated":"2019-03-11T16:21:49.898Z","comments":true,"path":"Problem-about-coin-array.html","link":"","permalink":"https://blog.iamzhl.top/Problem-about-coin-array.html","excerpt":"","text":"é—®é¢˜æè¿°æœ‰m*næšé‡‘å¸åœ¨æ¡Œé¢ä¸Šæ’åˆ—æˆä¸€ä¸ªmè¡Œnåˆ—çš„é‡‘å¸é˜µåˆ—ã€‚æ¯ä¸€æšé‡‘å¸æˆ–æ­£é¢æœä¸Šï¼Œæˆ–èƒŒé¢æœä¸Šã€‚ç”¨æ•°å­—è¡¨ç¤ºé‡‘å¸çŠ¶æ€ï¼Œ0è¡¨ç¤ºæ­£é¢æœä¸Šï¼Œ1è¡¨ç¤ºèƒŒé¢æœä¸Šã€‚é‡‘å¸é˜µåˆ—æ¸¸æˆçš„è§„åˆ™1ã€æ¯æ¬¡å°†ä»»ä¸€è¡Œé‡‘å¸ç¿»è¿‡æ¥æ”¾åœ¨åŸæ¥çš„ä½ç½®ä¸Š;2ã€æ¯æ¬¡å¯ä»¥ä»»é€‰2åˆ—ï¼Œäº¤æ¢è¿™2åˆ—é‡‘å¸çš„ä½ç½®.ä»»åŠ¡ç»™å®šé‡‘å¸çš„åˆå§‹çŠ¶æ€å’Œç›®æ ‡çŠ¶æ€ï¼Œç¼–ç¨‹è®¡ç®—æŒ‰é‡‘å¸æ¸¸æˆè§„åˆ™ï¼Œå°†é‡‘å¸æ’åˆ—ä»åˆå§‹çŠ¶æ€å˜æ¢åˆ°ç›®æ ‡çŠ¶æ€æ‰€éœ€çš„æœ€å°‘å˜æ¢æ¬¡æ•°ã€‚æ€è·¯æœ¬ä¾‹çš„å®è´¨æ˜¯å°†ä¸€ä¸ªäºŒè¿›åˆ¶çŸ©é˜µä»ä¸€ç§å½¢å¼åˆ©ç”¨ç›¸åº”è§„åˆ™å˜æ¢åˆ°å¦ä¸€ç§å½¢å¼ã€‚æä¾›çš„è§„åˆ™æœ‰ä¸¤ç§ï¼š1ã€å°†æŸä¸€è¡Œçš„é‡‘å¸ç¿»è½¬;2ã€å°†æŸä¸¤åˆ—è¿›è¡Œäº¤æ¢ã€‚åœ¨è¿™ä¸¤ç§æ“ä½œä¸­ï¼Œç¬¬ä¸€ç§æ“ä½œå¯èƒ½ä¼šå½±å“åˆ°æŸä¸€è¡Œæˆ–è€…æŸä¸€åˆ—ä¸­å·²ç»æ’åˆ—å¥½çš„ç›¸å…³å…ƒç´ ï¼Œå› æ­¤ï¼Œé¦–å…ˆåˆ©ç”¨è¯¥è§„åˆ™è¿›è¡Œå˜æ¢ï¼Œè€Œåç»­çš„æ“ä½œåˆ™ä¸å†åˆ©ç”¨è¯¥è§„åˆ™ã€‚â€‹é‚£ä¹ˆåœ¨ç¨‹åºä¸­åº”è¯¥å¦‚ä¸‹æ“ä½œï¼š1ã€å°†çŸ©é˜µä¸­çš„æ¯ä¸€åˆ—ä½œä¸ºç¬¬1åˆ—ï¼Œå¹¶åˆ©ç”¨ç¬¬ä¸€ä¸ªè§„åˆ™å°†ç¬¬1åˆ—ä¸­çš„ç›¸å…³å…ƒç´ ä¸ç›®æ ‡çŸ©é˜µä¸­ç¬¬1åˆ—çš„å…ƒç´ è¿›è¡Œé…å¯¹ï¼Œå¦‚æœä¸ç›¸åŒï¼Œåˆ™åˆ©ç”¨æ¯1ä¸ªè§„åˆ™è¿›è¡Œç¿»è½¬ï¼›â€‹2ã€ä»ç¬¬2åˆ—å¼€å§‹ï¼Œå°†å¤„ç†åçš„åˆ—ä¸ç›®æ ‡åˆ—è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸åŒï¼Œåˆ™è½¬ä¸‹ä¸€åˆ—ï¼›å¦‚æœä¸åŒï¼Œçœ‹æ˜¯å¦å¯ä»¥é€šè¿‡åˆ—çš„äº¤æ¢å®Œæˆï¼Œå¦‚æœå¯ä»¥ï¼Œåˆ™ç»§ç»­æ‰«æï¼Œå¦åˆ™æ— è§£ã€‚â€‹ä»£ç å®ç°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697//// main.c// coin-array//// Created by Canvas on 2018/12/31.// Copyright Â© 2018 Canvas. All rights reserved.//#include &lt;stdio.h&gt;#define row 4#define col 3int source[row][col] = &#123;1,0,1,0,0,0,1,1,0,1,0,1&#125;; //sourceint target[row][col] = &#123;1,0,1,1,1,1,0,1,1,1,0,1&#125;; //targetint temparr[row][col];int number = 0; //è½¬æ¢çš„æ¬¡æ•°int minnum = 9999;void raw_change(int i) &#123; //è¡Œç¿»è½¬ int j; for(j=0; j&lt;col; j++) &#123; temparr[i][j] = 1-temparr[i][j]; &#125; number++;&#125;void col_exchange(int i, int j) &#123; //åˆ—äº¤æ¢ int temp, k; for(k=0; k&lt;row; k++) &#123; temp = temparr[k][i]; temparr[k][i] = temparr[k][j]; temparr[k][j] = temp; &#125; if(i != j) number++;&#125;int judge(int i, int j) &#123; //temparrçš„iåˆ—æ˜¯å¦å’Œtargetçš„jåˆ—ç›¸åŒ int flag = 0; for(int k=0; k&lt;row; k++) &#123; flag=1; if(temparr[k][i] != target[k][j]) &#123; flag=0; break; &#125; &#125; return flag;&#125;int main() &#123; // insert code here... int i,j,k; for(i=0; i&lt;col; i++) &#123; //ä»£è¡¨sourceçš„åˆ— for(j=0; j&lt;row; j++) &#123; for(k=0; k&lt;col; k++) &#123; temparr[j][k] = source[j][k]; //ç»™æ›¿èº«æ•°ç»„èµ‹å€¼ &#125; &#125; number=0; col_exchange(0,i); //temparræ•°ç»„çš„åˆ—å…ˆåšäº¤æ¢ï¼ŒæŠŠå…¶ä»–åˆ—æ”¾åˆ°ç¬¬ä¸€åˆ—çš„ä½ç½® for(j=0; j&lt;row; j++) &#123; //åˆ¤æ–­temparrçš„0å·åˆ—å’Œtargetçš„0å·åˆ—æ˜¯å¦ç›¸åŒï¼Œä¸åŒåˆ™ç¿»è½¬ if(temparr[j][0] != target[j][0]) &#123; raw_change(j); //å¦‚æœç¬¬1åˆ—ä¸åŒ¹é…ï¼Œé‚£ä¹ˆè¡Œå…¨éƒ¨ç¿»è½¬ &#125; &#125; int found = 0; for(j=0; j&lt;col; j++) &#123; //ä»£è¡¨targetï¼Œä»ç¬¬2è¡Œå¼€å§‹ï¼Œåˆ°æœ€åä¸€è¡Œ found=0; for(k=j; k&lt;col; k++) &#123; //ä»£è¡¨temparrï¼Œä»ç¬¬2è¡Œå¼€å§‹ï¼Œç›´åˆ°æœ€åä¸€è¡Œ if(judge(k, j)) &#123; found=1; col_exchange(k, j); break; &#125; &#125; if(!found) &#123; break; &#125; &#125; if(found) &#123; minnum=number; &#125; &#125; if(minnum&lt;9999) &#123; printf(\"ä¸€å…±å˜æ¢%dæ¬¡ï¼\\n\", minnum); &#125; else&#123; printf(\"æ— è§£ï¼\\n\"); &#125; return 0;&#125;è¿è¡Œç»“æœ","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/tags/ç®—æ³•/"},{"name":"Cè¯­è¨€","slug":"Cè¯­è¨€","permalink":"https://blog.iamzhl.top/tags/Cè¯­è¨€/"},{"name":"é‡‘å¸é˜µåˆ—","slug":"é‡‘å¸é˜µåˆ—","permalink":"https://blog.iamzhl.top/tags/é‡‘å¸é˜µåˆ—/"}]},{"title":"å­—å…¸åºé—®é¢˜","slug":"Problem-about-dictionary-order","date":"2017-08-30T16:00:00.000Z","updated":"2019-03-11T16:21:49.898Z","comments":true,"path":"Problem-about-dictionary-order.html","link":"","permalink":"https://blog.iamzhl.top/Problem-about-dictionary-order.html","excerpt":"","text":"é—®é¢˜æè¿°åœ¨æ•°æ®åŠ å¯†å’Œæ•°æ®å‹ç¼©ä¸­å¸¸éœ€è¦å¯¹ç‰¹æ®Šçš„å­—ç¬¦ä¸²è¿›è¡Œç¼–ç ã€‚ç»™å®šçš„å­—æ¯è¡¨Aç”±26ä¸ªå°å†™å­—æ¯ç»„æˆã€‚è¯¥å­—æ¯è¡¨äº§ç”Ÿçš„å‡åºå­—ç¬¦ä¸²ä¸­å­—æ¯ä»å·¦åˆ°å³å‡ºç°çš„æ¬¡åºä¸å­—æ¯åœ¨å­—æ¯è¡¨ä¸­å‡ºç°çš„æ¬¡åºç›¸åŒï¼Œä¸”æ¯ä¸ªå­—ç¬¦æœ€å¤šå‡ºç°1æ¬¡ã€‚ä¾‹å¦‚ï¼Œa,b,ab,bc,xyzç­‰å­—ç¬¦ä¸²éƒ½æ˜¯å‡åºå­—ç¬¦ä¸²ã€‚ç°åœ¨å¯¹å­—æ¯è¡¨ä¸­äº§ç”Ÿçš„æ‰€æœ‰é•¿åº¦ä¸è¶…è¿‡6çš„å‡åºå­—ç¬¦ä¸²ï¼Œè®¡ç®—å®ƒåœ¨å­—å…¸ä¸­çš„ç¼–ç ã€‚æ€è·¯é¦–å…ˆåˆ¤æ–­å­—ç¬¦ä¸²é•¿åº¦ä¸º3ï¼Œå…ˆç®—é•¿åº¦ä¸º1å’Œ2çš„æ‰€æœ‰æƒ…å†µï¼Œå³ä»26ä¸ªå­—æ¯ä¸­é€‰1ä¸ªæˆ–ä¸¤ä¸ªå­—æ¯ï¼Œå› ä¸ºæ˜¯å‡åºï¼Œå³sum=Cï¼ˆ26ï¼Œ1ï¼‰+Cï¼ˆ26ï¼Œ2ï¼‰ï¼›ä¹‹åå†çœ‹å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œä¸ºâ€™dâ€™,ä¹‹å‰æœ‰ä»¥a,b,cå¼€å¤´çš„é•¿åº¦ä¸º3çš„å­—ç¬¦ä¸²ï¼Œä»¥aå¼€å¤´ï¼Œåè¾¹2ä½éœ€è¦åœ¨25ä¸ªå­—æ¯ä¸­é€‰æ‹©ï¼ˆé™¤äº†aï¼‰ï¼Œä»¥bå¼€å¤´çš„å2ä½éœ€è¦åœ¨24ä¸ªå­—æ¯ä¸­é€‰æ‹©ï¼ˆé™¤äº†a,bï¼‰ï¼Œä»¥cå¼€å¤´çš„åœ¨23ä¸ªå­—æ¯ï¼ˆé™¤äº†a,,b,cï¼‰ä¸­é€‰æ‹©ï¼Œå³sum+=(C(25,2)+C(24,2)+C(23,2));ç„¶åå†çœ‹ä¸‹ä¸€ä¸ªå­—æ¯â€™gâ€™ï¼Œdä¸gä¹‹é—´æœ‰e,f,éœ€è¦ç®—ä»¥deå¼€å¤´ä»¥åŠä»¥dfå¼€å¤´çš„æ‰€æœ‰æƒ…å†µï¼Œå³sum+=(C(21,1)+C(20,1))ï¼›æœ€åå†åŠ ä¸Šh-â€˜aâ€™+1;ä»£ç å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;stdio.h&gt;#include &lt;string.h&gt;int getCombinatorialNumber(int m, int n) &#123; int n_Product=1, m_Product=1; int i; for(i=1; i&lt;=n; i++) n_Product*=i; for(i=m; i&gt;m-n; i--) &#123; m_Product*=i; return m_Product/n_Product; &#125;&#125;int main(int argc, const char * argv[]) &#123; int number; //è¦ç»Ÿè®¡å­—ç¬¦ä¸²çš„ä¸ªæ•° int sum; //å­˜æ”¾å­—ç¬¦ä¸²çš„åºå· int length; char str[10]; //å­˜æ”¾å­—ç¬¦ä¸² int a[10]; //å­˜æ”¾å­—ç¬¦ä¸²çš„æ¯ä¸€ä½å­—ç¬¦çš„å€¼ int i, j; scanf(&quot;%d&quot;, &amp;number); while(number--) &#123; getchar(); sum=1; scanf(&quot;%s&quot;, str); length=(int)strlen(str); for(i=1; i&lt;length; i++) &#123; sum += getCombinatorialNumber(26, i); //å°äºå­—ç¬¦ä¸²é•¿åº¦çš„å­—ç¬¦ä¸²ä¸ªæ•° &#125; for(i=0; i&lt;length; i++) &#123; a[i]=str[i]-96; //è®¡ç®—æ¯ä¸ªå­—ç¬¦ä»aå¼€å§‹çš„åºå·æ•°å€¼, a~zåˆ†åˆ«å¯¹åº”1~26 //printf(&quot;%d &quot;, a[i]); &#125; //printf(&quot;%d\\n&quot;, f(26, 2)); int temp=1; for(i=length; i&gt;0; i--) &#123; for(j=temp; j&lt;a[length-i]; j++) &#123; sum += getCombinatorialNumber(26-j, i-1); //ä¾æ¬¡æ‰«æå­—ç¬¦ï¼Œè®¡ç®—æ‰€æœ‰æƒ…å†µ &#125; temp=a[length-i]+1; &#125; printf(&quot;%d\\n&quot;, sum); &#125; return 0;&#125;","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/tags/ç®—æ³•/"},{"name":"Cè¯­è¨€","slug":"Cè¯­è¨€","permalink":"https://blog.iamzhl.top/tags/Cè¯­è¨€/"},{"name":"å­—å…¸åº","slug":"å­—å…¸åº","permalink":"https://blog.iamzhl.top/tags/å­—å…¸åº/"}]},{"title":"DSDT SSDT ç®€å•æå–ä¿®å¤","slug":"Extract-and-fix-DSDT-SSDT-simply","date":"2017-08-29T16:00:00.000Z","updated":"2019-03-11T16:21:49.890Z","comments":true,"path":"Extract-and-fix-DSDT-SSDT-simply.html","link":"","permalink":"https://blog.iamzhl.top/Extract-and-fix-DSDT-SSDT-simply.html","excerpt":"DSDT SSDT ç®€å•æå–ä¿®å¤","text":"DSDT SSDT ç®€å•æå–ä¿®å¤å¼€å·¥å‡†å¤‡å·¥ä½œé¦–å…ˆåœ¨ CLOVER å¼•å¯¼ç•Œé¢æŒ‰ F4 æˆ–è€… FN + F4 æå–åŸå§‹è¡¨å•ï¼Œç„¶åè¿›å…¥ Mac ï¼Œåˆ©ç”¨ Clover Configurator æŒ‚è½½ESPåˆ†åŒºï¼Œæå–çš„è¡¨å•å°±åœ¨ /EFI/CLOVER/ACPI/origin ,å°† origin æ•´ä¸ªæ‹·è´åˆ°æ¡Œé¢ï¼Œå¹¶åˆ é™¤ origin ä¸­é™¤ DSDT SSDT ä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶ç„¶åä¸‹è½½è¦ç”¨åˆ°çš„å·¥å…·12iaslï¼šhttps://bitbucket.org/RehabMan/acpica/downloads/MaciASLï¼šhttps://github.com/acidanthera/MaciASL/releaseså°† iasl æ”¾åˆ° /usr/bin1$ sudo cp /path/to/iasl /usr/bin/ç„¶åå®‰è£… MaciASL å¹¶æ·»åŠ è¡¥ä¸æºï¼šRehabman è¡¥ä¸æºï¼š12Nameï¼šRehabMan Laptop URLï¼šhttp://raw.github.com/RehabMan/Laptop-DSDT-Patch/masteræ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š1cd ~/Desktop/originå›è½¦è¿›å…¥ origin ç›®å½•ç„¶åè¾“å…¥:1iasl â€“da â€“dl *.amlå›è½¦è¿™æ—¶æ‰“å¼€æ¡Œé¢çš„ origin æ–‡ä»¶å¤¹ä¼šå‘ç°å¤šå‡ºäº†å¾ˆå¤š .dsl æ–‡ä»¶ï¼Œæˆ‘ä»¬è¦ç”¨åˆ°çš„å°±æ˜¯è¿™äº›æ–‡ä»¶å…ˆä¸è¦æ€¥ï¼Œç»ˆç«¯ç»§ç»­æ‰§è¡Œ1rm â€“rf *.amlå›è½¦ç„¶åæ‰§è¡Œ:1rm â€“rf *x.dslå›è½¦ï¼Œè¿™æ—¶å°±ä¼šå‘ç°ç»ˆç«¯åªå‰©ä¸‹äº†ä¸å¸¦ x çš„ dsl æ–‡ä»¶å¼€å§‹æ“ä½œç„¶åç”¨ MaciASL æ‰“å¼€ DSDT.dslç‚¹ Compile ç¼–è¯‘åä¼šå¼¹å‡ºé”™è¯¯çš„çª—å£ï¼šç‚¹è¿™äº›é”™è¯¯å°±ä¼šå®šä½åˆ°é”™è¯¯çš„ä»£ç ä½ç½®è¿™é‡Œè¯´ä¸€ä¸‹å¸¸è§çš„é”™è¯¯ä¿®å¤æ–¹æ³•:1ã€ PARSEOP_ZERO é”™è¯¯ï¼Œå®šä½åä¼šå‘ç°ä¸€å † zero ä»£ç ï¼Œç›´æ¥å°†ä»–ä»¬åˆ æ‰å³å¯2ã€ Unexpected â€˜}â€™ é”™è¯¯ï¼šâ€‹å®šä½åæ˜¯è¿™æ ·ï¼šæˆ‘ä»¬ä¼šå‘ç°è¿™ä¸ªé”™è¯¯ä½äº ADBG çš„æ–¹æ³•ä¸‹ï¼Œè¿™æ—¶åªéœ€æ‰“ä¸ªè¡¥ä¸å³å¯ï¼šâ€‹ç‚¹Patchæ‰¾åˆ° Fix ADBG Error ç‚¹ä¸€ä¸‹ï¼Œç„¶å Apply åº”ç”¨å³å¯ï¼Œè¿™æ—¶æˆ‘ä»¬ä¼šå‘ç°å†ç¼–è¯‘å°±æ²¡æœ‰é”™è¯¯äº†(è­¦å‘Šå¯ä»¥ä¸ç”¨ç®¡)ï¼Œç„¶åä¿å­˜æˆamlæ–‡ä»¶Save å³å¯ï¼Œå…¶ä»– SSDT æ–‡ä»¶ä¹Ÿæ˜¯ä¸€æ ·çš„æ“ä½œä¿®æ”¹å®Œæˆåœ¨ä¿®æ”¹å®Œæ‰€æœ‰è¡¨å•çš„é”™è¯¯å¹¶ä¿å­˜æˆamlæ ¼å¼åï¼Œå°†è¿™äº› aml æ–‡ä»¶æ”¾åˆ° /EFI/CLOVER/ACPI/patched å°±å¯ä»¥äº†å®Œå·¥","categories":[{"name":"é»‘è‹¹æœ","slug":"é»‘è‹¹æœ","permalink":"https://blog.iamzhl.top/categories/é»‘è‹¹æœ/"}],"tags":[{"name":"DSDT","slug":"DSDT","permalink":"https://blog.iamzhl.top/tags/DSDT/"},{"name":"SSDT","slug":"SSDT","permalink":"https://blog.iamzhl.top/tags/SSDT/"},{"name":"ç¼–è¯‘","slug":"ç¼–è¯‘","permalink":"https://blog.iamzhl.top/tags/ç¼–è¯‘/"}]},{"title":"ç»Ÿè®¡æ•°å­—é—®é¢˜","slug":"Statistical-problem","date":"2017-08-28T16:00:00.000Z","updated":"2019-03-11T16:21:49.902Z","comments":true,"path":"Statistical-problem.html","link":"","permalink":"https://blog.iamzhl.top/Statistical-problem.html","excerpt":"","text":"é—®é¢˜æè¿°ä¸€æœ¬ä¹¦çš„é¡µç ä»è‡ªç„¶æ•° 1 å¼€å§‹è®¡æ•°ï¼Œç›´åˆ°è‡ªç„¶æ•° n ã€‚ä¹¦çš„é¡µç æŒ‰ç…§é€šå¸¸çš„ä¹ æƒ¯ç¼–æ’ï¼Œæ¯ä¸ªé¡µç éƒ½ä¸åŒ…å«å¤šä½™çš„å‰å¯¼æ•°å­— 0 ã€‚ä¾‹å¦‚ï¼Œç¬¬ 6 é¡µç”¨æ•°å­— 6 è¡¨ç¤ºï¼Œè€Œä¸æ˜¯ 06 æˆ– 006 ç­‰ã€‚æ•°å­—è®¡æ•°é—®é¢˜è¦æ±‚å¯¹ç»™å®šä¹¦çš„æ€»é¡µç  n ï¼Œè®¡ç®—å‡ºä¹¦çš„å…¨éƒ¨é¡µç ä¸­åˆ†åˆ«ç”¨åˆ°å¤šå°‘æ¬¡æ•°å­— 0ï¼Œ1ï¼Œ2ï¼Œâ€¦ï¼Œ9 ã€‚æ€è·¯:æš´åŠ›æ±‚è§£ã€‚æœ¬é¢˜å…³é”®åœ¨äºå°†æ¯ä¸€é¡µç çš„æ•°å­—è¿›è¡Œåˆ†è§£ï¼Œè¿™ç§æ–¹å¼å¯ä»¥åˆ©ç”¨æ•´æ•°çš„é™¤æ³•å’Œå¯¹10å–ä½™è®¡ç®—ã€‚ä»£ç å®ç°123456789101112131415161718192021222324252627282930313233343536#include &lt;stdio.h&gt;#include &lt;math.h&gt; int main(int argc, const char * argv[]) &#123; // insert code here... int array[10] = &#123;0&#125;; //å­˜æ”¾0~9å‡ºç°çš„æ¬¡æ•° int low, temp, high; //ä»¥tempä¸ºåˆ†å‰²ç‚¹ å°†é¡µæ•°åˆ†ä¸ºä¸‰éƒ¨åˆ† highå’Œlowåˆ†åˆ«ä»£è¡¨é«˜ä½å’Œä½ä½çš„æ•°å€¼ int paginations; //å­˜æ”¾æ€»é¡µæ•° int i, j; printf(&quot;ä¸€å…±å¤šå°‘é¡µ: &quot;); scanf(&quot;%d&quot;, &amp;paginations); int count = 0; //å­˜æ”¾é™¤å»æœ€é«˜ä½åæ€»é¡µç çš„ä½æ•° count = (int)log10(paginations); for(i = count; i &gt;= 0; i --) &#123; //iè¡¨ç¤ºä½ä½ï¼ˆlowï¼‰çš„ä½æ•° low = paginations % (int)pow(10, i); //è®¡ç®—lowçš„æ•°å€¼ temp = paginations / (int)pow(10, i) % 10; //è®¡ç®—tempçš„æ•°å€¼ high = paginations / (int)pow(10, i + 1); //è®¡ç®—highçš„æ•°å€¼ for(j = 0; j &lt; temp; j ++) array[j] += (high + 1) * pow(10, i); //è®¡ç®— 0&lt;ä¸­é—´ä½&lt;temp å‡ºç°çš„æ¬¡æ•° array[temp] += high * pow(10, i) + low + 1; //è®¡ç®— ä¸­é—´ä½=temp å‡ºç°çš„æ¬¡æ•° for(j = temp + 1; j &lt; 10; j ++) //è®¡ç®— temp&lt;ä¸­é—´ä½&lt;9 å‡ºç°çš„æ¬¡æ•° array[j] += high * pow(10, i); &#125; for(i = count; i &gt;= 0; i --) //é™¤å»å¤šç»Ÿè®¡çš„a[0]å‡ºç°çš„æ¬¡æ•° array[0] -= pow(10, i); printf(&quot;0~9åˆ†åˆ«å‡ºç°çš„æ¬¡æ•°ä¸º:\\n&quot;); for(i = 0; i &lt; 10; i ++) //æ‰“å°0~9åˆ†åˆ«å‡ºç°çš„æ¬¡æ•° printf(&quot;%d\\n&quot;, array[i]); return 0;&#125;","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/categories/ç®—æ³•/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://blog.iamzhl.top/tags/ç®—æ³•/"},{"name":"Cè¯­è¨€","slug":"Cè¯­è¨€","permalink":"https://blog.iamzhl.top/tags/Cè¯­è¨€/"},{"name":"ç»Ÿè®¡æ•°å­—","slug":"ç»Ÿè®¡æ•°å­—","permalink":"https://blog.iamzhl.top/tags/ç»Ÿè®¡æ•°å­—/"}]},{"title":"macOS æ­å»º JDK å¼€å‘ç¯å¢ƒ","slug":"Install-jdk-on-macOS","date":"2017-08-27T16:00:00.000Z","updated":"2019-03-11T16:21:49.893Z","comments":true,"path":"Install-jdk-on-macOS.html","link":"","permalink":"https://blog.iamzhl.top/Install-jdk-on-macOS.html","excerpt":"","text":"å®‰è£… jdkMacç³»ç»Ÿè‡ªå¸¦jdkï¼Œä½†æ˜¯ç‰ˆæœ¬æ¯”è¾ƒè€ï¼Œæˆ‘ä»¬å¯ä»¥å»å®˜ç½‘ä¸‹è½½æœ€æ–°çš„Jdkï¼Œå®‰è£…æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚é…ç½® jdk ç¯å¢ƒå˜é‡æ‰“å¼€ç»ˆç«¯è¾“å…¥ vim ~/.bash_profile å›è½¦ï¼Œç„¶åæŒ‰iè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œåœ¨æœ€åé¢è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š1234567JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_60.jdk/Contents/HomePATH=$JAVA_HOME/bin:$PATH:.CLASSPATH=JAVA_HOME/lib/tools.jar:$JAVA_HOME/lib/dt.jar:.export JAVA_HOMEexport PATHexport CLASSPATHæŒ‰ä¸‹ esc ï¼Œç„¶åè¾“å…¥ :wq å›è½¦ï¼Œä¿å­˜é€€å‡ºç„¶åè¾“å…¥ source ~/.bash_profile å›è½¦æ–‡ä»¶ä¿®æ”¹å°±ç”Ÿæ•ˆäº†ã€‚è¾“å…¥ java -version å›è½¦å¯ä»¥æŸ¥çœ‹ Java ç‰ˆæœ¬ï¼Œwhereis java å¯ä»¥æŸ¥çœ‹ Java ä½ç½®ï¼Œecho $JAVA_HOME å¯ä»¥æ‰“å°å‡º JAVA_HOME ã€‚å®‰è£…eclipseä¸ºäº†æ›´æ–¹ä¾¿çš„è¿›è¡Œå¼€å‘å·¥ä½œï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£…Eclipseï¼Œå»å®˜ç½‘ä¸‹è½½å®Œæˆåè§£å‹ï¼ŒæŠŠ.appæ–‡ä»¶æ‹–è¿›åº”ç”¨ç¨‹åº(Application)å°±å¯ä»¥äº†ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªworkspaceï¼Œä¹Ÿå°±æ˜¯å·¥ä½œç›®å½•ï¼Œç”¨æ¥å­˜æ”¾å·¥ä½œä»£ç ã€‚","categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://blog.iamzhl.top/categories/å­¦ä¹ /"}],"tags":[{"name":"Mac","slug":"Mac","permalink":"https://blog.iamzhl.top/tags/Mac/"},{"name":"Java","slug":"Java","permalink":"https://blog.iamzhl.top/tags/Java/"},{"name":"æ­å»º","slug":"æ­å»º","permalink":"https://blog.iamzhl.top/tags/æ­å»º/"},{"name":"ç¯å¢ƒ","slug":"ç¯å¢ƒ","permalink":"https://blog.iamzhl.top/tags/ç¯å¢ƒ/"}]}]}